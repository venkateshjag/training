Ext.define("NX.Console",{singleton:true,console:undefined,disable:false,traceEnabled:false,debugEnabled:true,constructor:function(){this.console=NX.global.console||{};Ext.applyIf(this.console,{log:Ext.emptyFn,info:Ext.emptyFn,warn:Ext.emptyFn,error:Ext.emptyFn});this.debugEnabled=NX.global.location.href.search("[?&]debug")>-1;this.traceEnabled=NX.global.location.href.search("[?&]trace")>-1},log:function(d,a){var b=this.console;switch(d){case"trace":if(this.traceEnabled){b.log.apply(b,a)}break;case"debug":if(this.debugEnabled){b.log.apply(b,a)}break;case"info":b.info.apply(b,a);break;case"warn":b.warn.apply(b,a);break;case"error":b.error.apply(b,a);break}},trace:function(){this.log("trace",Array.prototype.slice.call(arguments))},debug:function(){this.log("debug",Array.prototype.slice.call(arguments))},info:function(){this.log("info",Array.prototype.slice.call(arguments))},warn:function(){this.log("warn",Array.prototype.slice.call(arguments))},error:function(){this.log("error",Array.prototype.slice.call(arguments))},recordEvent:function(a){this.log(a.level,[a.level,a.logger,a.message.join(" ")])}});Ext.define("NX.Log",{singleton:true,requires:["NX.Console"],controller:undefined,eventQueue:[],attach:function(a){var b=this;b.controller=a;Ext.each(b.eventQueue,function(c){b.controller.recordEvent(c)});delete b.eventQueue},recordEvent:function(e,a,d){var c=this,b={timestamp:Date.now(),level:e,logger:a,message:d};if(c.controller){c.controller.recordEvent(b)}else{c.eventQueue.push(b);NX.Console.recordEvent(b)}}});Ext.define("NX.LogAware",{requires:["NX.Log"],log:function(b,a){},logTrace:function(){},logDebug:function(){},logInfo:function(){},logWarn:function(){},logError:function(){}});Ext.define("NX.I18n",{singleton:true,mixins:{logAware:"NX.LogAware"},keys:{},bundles:{},register:function(a){Ext.apply(this.keys,a.keys);Ext.apply(this.bundles,a.bundles)},get:function(a){var b=this.keys[a];if(b===null||b===undefined){this.logWarn("Missing I18n key:",a);return"MISSING_I18N:"+a}if(b.charAt(0)==="@"){return this.get(b.substring(1,b.length))}else{return b}},format:function(a){var c=this.get(a);if(c){var b=Array.prototype.slice.call(arguments);b.shift();b.unshift(c);c=Ext.String.format.apply(this,b)}return c},render:function(a,c){var d,f,e;if(Ext.isObject(a)){a=Ext.getClassName(a)}d=this.bundles[a];if(d===undefined){this.logWarn("Missing I18n bundle:",a);return"MISSING_I18N:"+a+":"+c}f=d[c];if(f===undefined){var g=d["$extend"];if(g!==undefined){e=Array.prototype.slice.call(arguments,1);e.unshift(g);return this.render.apply(this,e)}this.logWarn("Missing I18n bundle key:",a,":",c);return"MISSING_I18N:"+a+":"+c}if(f.charAt(0)==="@"){if(f.indexOf(":")!==-1){var b=f.substring(1,f.length).split(":",2);if(b[1]===""){b[1]=c}e=Array.prototype.slice.call(arguments,2);e.unshift(b[1]);e.unshift(b[0]);return this.render.apply(this,e)}else{f=this.get(f.substring(1,f.length))}}if(arguments.length>2){e=Array.prototype.slice.call(arguments,2);e.unshift(f);f=Ext.String.format.apply(this,e)}return f}});Ext.define("NX.app.PluginStrings",{"@aggregate_priority":90,singleton:true,requires:["NX.I18n"],keys:{Button_Back:"Back",Button_Cancel:"Cancel",Button_Close:"Close",Button_Create:"Create",Button_Discard:"Discard",Button_Next:"Next",Button_Save:"Save",Header_Panel_Logo_Text:"Nexus Repository Manager",Header_BrowseMode_Title:"Browse",Header_BrowseMode_Tooltip:"Browse server contents",Header_AdminMode_Title:"Administration",Header_AdminMode_Tooltip:"Server administration and configuration",Header_QuickSearch_Empty:"Search components",Header_QuickSearch_Tooltip:"Quick component keyword search",Header_Refresh_Tooltip:"Refresh current view and data",Refresh_Message:"Refreshed",Header_UserMode_Title:"User",User_Tooltip:"Hi, {0}. Manage your user account.",Header_SignIn_Text:"Sign in",Header_SignIn_Tooltip:"Sign in",Header_SignOut_Text:"Sign out",Header_SignOut_Tooltip:"Sign out",Header_Help_Tooltip:"Help",Help_Feature_Text:"Help for: ",Header_Help_Feature_Tooltip:"Help and documentation for the currently selected feature",Header_Help_About_Text:"About",Header_Help_About_Tooltip:"About Nexus Repository Manager",Header_Help_Documentation_Text:"Documentation",Header_Help_Documentation_Tooltip:"Product documentation",Header_Help_KB_Text:"Knowledge base",Header_Help_KB_Tooltip:"Knowledge base",Header_Help_Community_Text:"Community",Header_Help_Community_Tooltip:"Community information",Header_Help_Issues_Text:"Issue tracker",Header_Help_Issues_Tooltip:"Issue and bug tracker",Header_Help_Support_Text:"Support",Header_Help_Support_Tooltip:"Product support",Footer_Panel_HTML:"Copyright &copy; 2008-present, Sonatype Inc. All rights reserved.",SignIn_Title:"Sign In",User_SignIn_Mask:"Signing in&hellip;",SignIn_Username_Empty:"Username",SignIn_Password_Empty:"Password",SignIn_Submit_Button:"Sign in",SignIn_Cancel_Button:"@Button_Cancel",Grid_Plugin_FilterBox_Empty:"Filter",Dialogs_Info_Title:"Information",Dialogs_Error_Title:"Error",Dialogs_Error_Message:"Operation failed",Add_Submit_Button:"@Button_Create",Add_Cancel_Button:"@Button_Cancel",ChangeOrderWindow_Submit_Button:"@Button_Save",ChangeOrderWindow_Cancel_Button:"@Button_Cancel",User_ConnectFailure_Message:"Operation failed as server could not be contacted",State_Reconnected_Message:"Server reconnected",State_Disconnected_Message:"Server disconnected",UiSessionTimeout_Expire_Message:"Session is about to expire",UiSessionTimeout_Expired_Message:"Session expired after being inactive for {0} minutes",User_SignedIn_Message:"User signed in: {0}",User_SignedOut_Message:"User signed out",User_Credentials_Message:"Incorrect username or password, or no permission to use the application.",Util_DownloadHelper_Download_Message:"Download initiated",Windows_Popup_Message:"Window pop-up was blocked!",State_Installed_Message:"License installed",State_Uninstalled_Message:"License uninstalled",State_License_Expiry:'Your license will expire in {0} days. <a href="http://links.sonatype.com/products/nexus/pro/store">Contact us to renew.</a>',State_License_Expired:'Your license has expired. <a href="http://links.sonatype.com/products/nexus/pro/store">Contact us to renew.</a>',State_License_Invalid_Message:"Your license has been detected as missing or invalid. Upload a valid license to proceed.",AboutWindow_Title:"About Nexus Repository Manager",AboutWindow_About_Title:"Copyright",AboutWindow_License_Tab:"License",Authenticate_Title:"Authenticate",Authenticate_Help_Text:"You have requested an operation which requires validation of your credentials.",User_Controller_Authenticate_Mask:"Authenticate&hellip;",User_View_Authenticate_Submit_Button:"Authenticate",User_Retrieving_Mask:"Retrieving authentication token&hellip;",Authenticate_Cancel_Button:"@Button_Cancel",ExpireSession_Title:"Session",ExpireSession_Help_Text:"Session is about to expire",UiSessionTimeout_Expire_Text:"Session will expire in {0} seconds",SignedOut_Text:"Your session has expired. Please sign in.",ExpireSession_Cancel_Button:"@Button_Cancel",ExpireSession_SignIn_Button:"Sign in",UnsavedChanges_Title:"Unsaved changes",UnsavedChanges_Help_HTML:"<p>Do you want to discard your changes?</p>",UnsavedChanges_Discard_Button:"Discard changes",UnsavedChanges_Back_Button:"Go back",Menu_Browser_Title:"You will lose your unsaved changes",UnsupportedBrowser_Title:"The browser you are using is not supported",UnsupportedBrowser_Alternatives_Text:"Below is a list of alternatives that are supported by this web application",UnsupportedBrowser_Continue_Button:"Ignore and continue",Feature_NotFoundPath_Text:'Path "{0}" not found',Feature_NotFound_Text:"Path not found",SettingsForm_Save_Button:"@Button_Save",SettingsForm_Discard_Button:"@Button_Discard",Ldap_LdapServerConnectionAdd_Text:"@Button_Next",Form_Field_ItemSelector_Empty:"Filter",SettingsForm_Load_Message:"Loading",SettingsForm_Submit_Message:"Saving",Dashboard_Title:"Welcome",Dashboard_Description:"Welcome to Nexus Repository Manager!",Util_Validator_Text:"Only letters, digits, underscores(_), hyphens(-), and dots(.) are allowed and may not start with underscore or dot.",Util_Validator_Hostname:"Hostname must be valid",Wizard_Next:"@Button_Next",Wizard_Back:"@Button_Back",Wizard_Cancel:"@Button_Cancel",Wizard_Screen_Progress:"{0} of {1}"}},function(a){NX.I18n.register(a)});Ext.define("NX.app.PluginConfig",{"@aggregate_priority":100,requires:["NX.app.PluginStrings"],controllers:["Content","Dashboard","Help","Main","Menu","MenuGroup","Refresh","SettingsForm","UiSessionTimeout","User",{id:"Branding",active:true},{id:"Unlicensed",active:function(){return NX.app.Application.supportedBrowser()&&(NX.app.Application.unlicensed()||NX.app.Application.licenseExpired())}},{id:"UnsupportedBrowser",active:function(){return NX.app.Application.unsupportedBrowser()}},{id:"dev.Conditions",active:function(){return NX.app.Application.debugMode}},{id:"dev.Developer",active:function(){return NX.app.Application.debugMode}},{id:"dev.Permissions",active:function(){return NX.app.Application.debugMode}},{id:"dev.Stores",active:function(){return NX.app.Application.debugMode}},{id:"dev.Logging",active:function(){return NX.app.Application.debugMode}}]});Ext.define("NX.util.Validator",{singleton:true,requires:["Ext.form.field.VTypes","NX.I18n"],default_url_options:{protocols:["http","https","ftp"],require_tld:false,require_protocol:false,allow_underscores:false},nxNameRegex:/^[a-zA-Z0-9\-]{1}[a-zA-Z0-9_\-\.]*$/,nxEmailRegex:/^(")?(?:[^\."])(?:(?:[\.])?(?:[\w\-!#$%&'*+/=?^_`{|}~]))*\1@(\w[\-\w]*\.){1,5}([A-Za-z]){2,60}$/,nxRfc1123HostRegex:new RegExp("^(((([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]))|(\\[(?:[0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}\\])|(\\[((?:[0-9A-Fa-f]{1,4}(?::[0-9A-Fa-f]{1,4})*)?)::((?:[0-9A-Fa-f]{1,4}(?::[0-9A-Fa-f]{1,4})*)?)\\])|(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\\-]*[a-zA-Z0-9])\\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\\-]*[A-Za-z0-9]))(:([0-9]+))?$"),registerVtype:function(a){Ext.apply(Ext.form.field.VTypes,a)},constructor:function(){var a=this;a.vtypes=[{"nx-name":function(b){return NX.util.Validator.nxNameRegex.test(b)},"nx-nameText":NX.I18n.get("Util_Validator_Text"),"nx-email":function(b){return NX.util.Validator.nxEmailRegex.test(b)},"nx-emailText":Ext.form.field.VTypes.emailText,"nx-hostname":function(b){return NX.util.Validator.nxRfc1123HostRegex.test(b)},"nx-hostnameText":NX.I18n.get("Util_Validator_Hostname")}];Ext.each(a.vtypes,function(b){a.registerVtype(b)})},isURL:function(f,d){d=d||{};d=Ext.applyIf(d,this.default_url_options);if(Ext.isEmpty(f)){return d.allow_blank}if(f.length>=2083){return false}var e="-?-?"+(d.allow_underscores?"_?":"");var c=new RegExp("^(?!mailto:)(?:(?:"+d.protocols.join("|")+")://)"+(d.require_protocol?"":"?")+"(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:www.)?)?(?:(?:[a-z\\u00a1-\\uffff0-9]+"+e+")*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+"+e+")*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{1,}))"+(d.require_tld?"":"?")+")|localhost)(?::(\\d{1,5}))?(?:(?:/|\\?|#)[^\\s]*)?$","i");var b=f.match(c),a=b?b[1]:0;return !!(b&&(!a||(a>0&&a<=65535)))}});Ext.define("NX.ext.form.field.Url",{extend:"Ext.form.field.Text",alias:"widget.nx-url",requires:["NX.util.Validator"],validator:function(b){var a=NX.util.Validator.isURL(b,{protocols:["http","https"],require_protocol:true,allow_underscores:true,allow_blank:this.allowBlank});if(a||c(b)){return true}function c(d){return(Ext.isEmpty(d)&&!this.allowBlank)}return'This field should be a URL in the format "http://www.example.com"'},useTrustStore:function(a){if(Ext.String.startsWith(a.getValue(),"https://")){return{name:"useTrustStoreFor"+Ext.String.capitalize(a.getName()),url:a}}return undefined}});Ext.define("NX.util.DateFormat",{singleton:true,mixins:["NX.LogAware"],defaultPatterns:{date:{"short":"Y-M-d","long":"l, F d, Y"},time:{"short":"H:i:s","long":"H:i:s T (\\G\\M\\TO)"},datetime:{"short":"Y-M-d H:i:s","long":"l, F d, Y H:i:s T (\\G\\M\\TO)"}},forName:function(a){var b=this.defaultPatterns[a];if(!a){this.logWarn("Missing named format:",a);return"c"}return b},timestamp:function(a,b){b=b||NX.util.DateFormat.forName("datetime")["long"];return a?Ext.util.Format.date(new Date(a),b):undefined},timestampRenderer:function(a){return function(b){return NX.util.DateFormat.timestamp(b,a)}},getTimeZone:function(){var a=this;if(!a.timeZone){a.timeZone=new Date().toTimeString();a.timeZone=a.timeZone.substring(a.timeZone.indexOf(" "))}return a.timeZone}});Ext.define("NX.wizard.Screen",{extend:"Ext.container.Container",alias:"widget.nx-wizard-screen",requires:["NX.I18n"],mixins:{logAware:"NX.LogAware"},config:{title:undefined,description:undefined,buttons:undefined,fields:undefined},layout:"fit",initComponent:function(){var c=this,a=[],b=[];if(c.description){a.push({xtype:"container",itemId:"description",html:c.description})}if(c.fields){Ext.Array.push(a,c.fields)}if(c.buttons){Ext.Array.each(c.buttons,function(d){if(d==="next"){b.push({text:NX.I18n.get("Wizard_Next"),action:"next",ui:"nx-primary",formBind:true})}else{if(d==="back"){b.push({text:NX.I18n.get("Wizard_Back"),action:"back",ui:"default"})}else{if(d==="cancel"){b.push({text:NX.I18n.get("Wizard_Cancel"),action:"cancel",ui:"default"})}else{if(Ext.isObject(d)){b.push(d)}else{c.logWarn("Invalid button:",d)}}}}})}Ext.apply(c,{items:{xtype:"form",itemId:"fields",items:a,buttonAlign:"left",buttons:b}});c.callParent(arguments)},getDescriptionContainer:function(){return this.down("#description")},getButtonsContainer:function(){return this.down("form").getDockedItems('toolbar[dock="bottom"]')[0]}});Ext.define("NX.wizard.FormScreen",{extend:"NX.wizard.Screen",alias:"widget.nx-wizard-formscreen",getForm:function(){return this.down("form").getForm()}});Ext.define("NX.app.Controller",{extend:"Ext.app.Controller",mixins:{logAware:"NX.LogAware"},onDestroy:undefined,destroy:undefined});Ext.define("NX.view.ModalDialog",{extend:"Ext.window.Window",alias:"widget.nx-modal-dialog",layout:"fit",autoShow:true,modal:true,constrain:true,closable:true,resizable:false,statics:{SMALL_MODAL:320,MEDIUM_MODAL:480,LARGE_MODAL:640}});Ext.define("NX.view.SignIn",{extend:"NX.view.ModalDialog",alias:"widget.nx-signin",requires:["NX.I18n"],initComponent:function(){var a=this;a.ui="nx-inset";a.title=NX.I18n.get("SignIn_Title");a.defaultFocus="username";a.setWidth(NX.view.ModalDialog.SMALL_MODAL);Ext.apply(a,{items:{xtype:"form",defaultType:"textfield",defaults:{anchor:"100%"},items:[{name:"username",itemId:"username",emptyText:NX.I18n.get("SignIn_Username_Empty"),allowBlank:false,validateOnBlur:false},{name:"password",itemId:"password",inputType:"password",emptyText:NX.I18n.get("SignIn_Password_Empty"),allowBlank:false,validateOnBlur:false}],buttonAlign:"left",buttons:[{text:NX.I18n.get("SignIn_Submit_Button"),action:"signin",formBind:true,bindToEnter:true,ui:"nx-primary"},{text:NX.I18n.get("SignIn_Cancel_Button"),handler:a.close,scope:a}]}});a.callParent()}});Ext.define("NX.view.header.SignOut",{extend:"Ext.button.Button",alias:"widget.nx-header-signout",requires:["NX.I18n"],initComponent:function(){Ext.apply(this,{text:NX.I18n.get("Header_SignOut_Text"),tooltip:NX.I18n.get("Header_SignOut_Tooltip"),glyph:"xf08b@FontAwesome",hidden:true});this.callParent()}});Ext.define("NX.util.Url",{singleton:true,requires:["Ext.String"],baseUrl:NX.app.baseUrl,urlSuffix:NX.app.urlSuffix,urlOf:function(b){var a=this.baseUrl;if(!Ext.isEmpty(b)){if(Ext.String.endsWith(a,"/")){a=a.substring(0,a.length-1)}if(!Ext.String.startsWith(b,"/")){b="/"+b}return a+b}return this.baseUrl},asLink:function(a,c,b,d){b=b||"_blank";if(Ext.isEmpty(c)){c=a}if(d){d=' id="'+d+'"'}else{d=""}return'<a href="'+a+'" target="'+b+'"'+d+">"+c+"</a>"},asCopyWidget:function(a){return"<button onclick=\"Ext.widget('nx-copywindow', { copyText: '"+a+'\' });" title="'+a+'"><i class="fa fa-clipboard"></i> copy</button>'},cacheBustingUrl:function(a){return a+"?"+this.urlSuffix}});Ext.define("NX.Icons",{singleton:true,requires:["Ext.DomHelper","NX.util.Url"],mixins:{logAware:"NX.LogAware"},cls:function(b,c){var a="nx-icon-"+b.replace(".","_");if(c){a+="-"+c}return a},img:function(a,b){return Ext.DomHelper.markup({tag:"img",src:Ext.BLANK_IMAGE_URL,cls:this.cls(a,b)})},url:function(a,c,d){var b=a;if(d===undefined){d="png"}b+="."+d;return this.url2(b,c)},url2:function(c,b){var a=NX.util.Url.baseUrl+"/static/rapture/resources/icons/";if(b){a+=b+"/"}a+=c;return NX.util.Url.cacheBustingUrl(a)}});Ext.define("NX.view.Authenticate",{extend:"NX.view.ModalDialog",alias:"widget.nx-authenticate",requires:["NX.Icons","NX.I18n"],cls:"nx-authenticate",message:undefined,initComponent:function(){var a=this;a.ui="nx-inset";a.title=NX.I18n.get("Authenticate_Title");a.defaultFocus="password";a.setWidth(NX.view.ModalDialog.SMALL_MODAL);if(!a.message){a.message=NX.I18n.get("Authenticate_Help_Text")}Ext.apply(this,{items:{xtype:"form",defaultType:"textfield",defaults:{anchor:"100%"},items:[{xtype:"container",layout:"hbox",cls:"message",items:[{xtype:"component",html:NX.Icons.img("authenticate","x32")},{xtype:"component",html:"<div>"+a.message+"</div>"}]},{name:"username",itemId:"username",emptyText:NX.I18n.get("SignIn_Username_Empty"),allowBlank:false,readOnly:true},{name:"password",itemId:"password",inputType:"password",emptyText:NX.I18n.get("SignIn_Password_Empty"),allowBlank:false,validateOnBlur:false}],buttonAlign:"left",buttons:[{text:NX.I18n.get("User_View_Authenticate_Submit_Button"),action:"authenticate",formBind:true,bindToEnter:true,ui:"nx-primary"},{text:NX.I18n.get("Authenticate_Cancel_Button"),handler:a.close,scope:a}]}});a.callParent()}});Ext.define("NX.view.ExpireSession",{extend:"NX.view.ModalDialog",requires:["NX.I18n"],alias:"widget.nx-expire-session",cls:"nx-expire-session",initComponent:function(){var a=this;a.title=NX.I18n.get("ExpireSession_Title");a.setWidth(NX.view.ModalDialog.MEDIUM_MODAL);Ext.apply(a,{items:[{xtype:"label",id:"expire",text:NX.I18n.get("ExpireSession_Help_Text")}],buttonAlign:"left",buttons:[{text:NX.I18n.get("ExpireSession_Cancel_Button"),action:"cancel"},{text:NX.I18n.get("ExpireSession_SignIn_Button"),action:"signin",hidden:true,itemId:"expiredSignIn",ui:"nx-primary",handler:function(){this.up("nx-expire-session").close()}},{text:NX.I18n.get("Button_Close"),action:"close",hidden:true,handler:function(){this.up("nx-expire-session").close()}}]});a.callParent()},sessionExpired:function(){return this.down("#expiredSignIn").isVisible()}});Ext.define("NX.util.Utf8",{singleton:true,encode:function(b){var a="",e,d;b=b.replace(/\r\n/g,"\n");for(d=0;d<b.length;d++){e=b.charCodeAt(d);if(e<128){a+=String.fromCharCode(e)}else{if((e>127)&&(e<2048)){a+=String.fromCharCode((e>>6)|192);a+=String.fromCharCode((e&63)|128)}else{a+=String.fromCharCode((e>>12)|224);a+=String.fromCharCode(((e>>6)&63)|128);a+=String.fromCharCode((e&63)|128)}}}return a},decode:function(a){var d="",f=0,g=0,e=0,b=0;while(f<a.length){g=a.charCodeAt(f);if(g<128){d+=String.fromCharCode(g);f++}else{if((g>191)&&(g<224)){e=a.charCodeAt(f+1);d+=String.fromCharCode(((g&31)<<6)|(e&63));f+=2}else{e=a.charCodeAt(f+1);b=a.charCodeAt(f+2);d+=String.fromCharCode(((g&15)<<12)|((e&63)<<6)|(b&63));f+=3}}}return d}});Ext.define("NX.util.Base64",{singleton:true,requires:["NX.util.Utf8"],keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(c){var a="",k,h,f,j,g,e,d,b=0;c=NX.util.Utf8.encode(c);while(b<c.length){k=c.charCodeAt(b++);h=c.charCodeAt(b++);f=c.charCodeAt(b++);j=k>>2;g=((k&3)<<4)|(h>>4);e=((h&15)<<2)|(f>>6);d=f&63;if(isNaN(h)){e=d=64}else{if(isNaN(f)){d=64}}a=a+this.keyStr.charAt(j)+this.keyStr.charAt(g)+this.keyStr.charAt(e)+this.keyStr.charAt(d)}return a},decode:function(c){var a="";var k,h,f;var j,g,e,d;var b=0;c=c.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(b<c.length){j=this.keyStr.indexOf(c.charAt(b++));g=this.keyStr.indexOf(c.charAt(b++));e=this.keyStr.indexOf(c.charAt(b++));d=this.keyStr.indexOf(c.charAt(b++));k=(j<<2)|(g>>4);h=((g&15)<<4)|(e>>2);f=((e&3)<<6)|d;a=a+String.fromCharCode(k);if(e!==64){a=a+String.fromCharCode(h)}if(d!==64){a=a+String.fromCharCode(f)}}a=NX.util.Utf8.decode(a);return a}});Ext.define("NX.Messages",{singleton:true,add:function(a){NX.getApplication().getMessageController().addMessage(a)},notice:function(a){this.add({type:"default",text:a})},info:function(a){this.add({type:"primary",text:a})},error:function(a){this.add({type:"danger",text:a})},warning:function(a){this.add({type:"warning",text:a})},success:function(a){this.add({type:"success",text:a})}});Ext.define("NX.view.header.Mode",{extend:"Ext.container.Container",alias:"widget.nx-header-mode",config:{name:undefined,title:undefined,tooltip:undefined,glyph:undefined,autoHide:false,collapseMenu:false},layout:"absolute",initComponent:function(){var a=this;a.addEvents("selected");Ext.apply(a,{items:[{xtype:"button",ui:"nx-header",cls:"nx-modebutton",scale:"medium",height:39,minWidth:39,toggleGroup:"mode",allowDepress:false,tooltip:a.tooltip,glyph:a.glyph,handler:function(b){a.fireEvent("selected",a)},autoEl:{tag:"a",hidefocus:"on",unselectable:"on","data-name":a.name}},{xtype:"container",cls:"nx-caret",width:0,height:0,x:14,y:34}]});a.callParent()},setText:function(a){this.down("button").setText(a)},setTooltip:function(a){this.down("button").setTooltip(a)},toggle:function(b,a){this.down("button").toggle(b,a)}});Ext.define("NX.State",{singleton:true,requires:["Ext.Version"],mixins:{observable:"Ext.util.Observable",logAware:"NX.LogAware"},constructor:function(a){var b=this;b.mixins.observable.constructor.call(b,a);b.addEvents("changed")},isBrowserSupported:function(){return this.getValue("browserSupported")===true},setBrowserSupported:function(a){this.setValue("browserSupported",a===true)},requiresLicense:function(){return this.getValue("license",{})["required"]===true},isLicenseInstalled:function(){return this.getValue("license",{})["installed"]===true},isLicenseValid:function(){return this.isLicenseInstalled()&&this.getValue("license",{})["valid"]===true},getDaysToLicenseExpiry:function(){return this.getValue("license",{})["daysToExpiry"]},hasFeature:function(a){var b=this.getValue("license",{})["features"];if(b){return b.indexOf(a)!==-1}return false},getUser:function(){return this.getValue("user")},setUser:function(a){this.setValue("user",a)},getVersion:function(){return this.getValue("status")["version"]},getVersionMajorMinor:function(){var a=Ext.create("Ext.Version",this.getVersion());return a.getMajor()+"."+a.getMinor()},getEdition:function(){return this.getValue("status")["edition"]},getBrandedEditionAndVersion:function(){var b=this.getEdition(),a=this.getVersion();return b+" "+a},getBuildRevision:function(){return this.getValue("status")["buildRevision"]},getBuildTimestamp:function(){return this.getValue("status")["buildTimestamp"]},isReceiving:function(){return this.getValue("receiving")},getValue:function(b,a){return this.controller().getValue(b,a)},setValue:function(a,b){this.controller().setValue(a,b)},setValues:function(a){this.controller().setValues(a)},controller:function(){return NX.getApplication().getStateController()}});Ext.define("NX.view.header.SignIn",{extend:"Ext.button.Button",alias:"widget.nx-header-signin",requires:["NX.I18n"],initComponent:function(){Ext.apply(this,{text:NX.I18n.get("Header_SignIn_Text"),tooltip:NX.I18n.get("Header_SignIn_Tooltip"),glyph:"xf090@FontAwesome"});this.callParent()}});Ext.define("NX.controller.User",{extend:"NX.app.Controller",requires:["NX.util.Base64","NX.Messages","NX.State","NX.I18n","NX.view.header.Mode"],views:["header.SignIn","header.SignOut","Authenticate","SignIn","ExpireSession"],refs:[{ref:"signInButton",selector:"nx-header-signin"},{ref:"signOutButton",selector:"nx-header-signout"},{ref:"userMode",selector:"nx-header-mode[name=user]"},{ref:"signIn",selector:"nx-signin"},{ref:"authenticate",selector:"nx-authenticate"}],init:function(){var a=this;a.getApplication().getIconController().addIcons({authenticate:{file:"lock.png",variants:["x16","x32"]}});a.listen({controller:{"#State":{userchanged:a.onUserChanged}},component:{"nx-header-panel":{afterrender:a.manageButtons},"nx-header-signin":{click:a.showSignInWindow},"nx-expire-session button[action=signin]":{click:a.showSignInWindow},"nx-header-signout":{click:a.onClickSignOut},"nx-signin button[action=signin]":{click:a.signIn},"nx-authenticate button[action=authenticate]":{click:a.doAuthenticateAction}}});a.addEvents("signin","beforesignout","signout")},onUserChanged:function(a,b){var c=this;if(a&&!b){NX.Messages.add({text:NX.I18n.format("User_SignedIn_Message",a.id),type:"default"});c.fireEvent("signin",a)}else{if(!a&&b){NX.Messages.add({text:NX.I18n.get("User_SignedOut_Message"),type:"default"});c.fireEvent("signout")}}c.manageButtons()},hasUser:function(){return Ext.isDefined(NX.State.getUser())},askToAuthenticate:function(c,a){var b=this;if(b.hasUser()){b.showAuthenticateWindow(c,Ext.apply(a||{},{authenticateAction:b.authenticate}))}else{b.showSignInWindow(a)}},doWithAuthenticationToken:function(c,a){var b=this;b.showAuthenticateWindow(c,Ext.apply(a||{},{authenticateAction:b.retrieveAuthenticationToken}))},showSignInWindow:function(a){var b=this;if(!b.getSignIn()){b.getSignInView().create({options:a})}},showAuthenticateWindow:function(d,b){var c=this,a=NX.State.getUser(),e;if(!c.getAuthenticate()){e=c.getAuthenticateView().create({message:d,options:b});if(c.hasUser()){e.down("form").getForm().setValues({username:a.id});e.down("#password").focus()}}},signIn:function(b){var e=this,g=b.up("window"),d=b.up("form"),a=d.getValues(),c=NX.util.Base64.encode(a.username),f=NX.util.Base64.encode(a.password);g.getEl().mask(NX.I18n.get("User_SignIn_Mask"));e.doSignIn(c,f,a,b)},doAuthenticateAction:function(a){var b=a.up("window");if(b.options&&Ext.isFunction(b.options.authenticateAction)){b.options.authenticateAction.call(this,a)}},doSignIn:function(c,e,a,b){var d=this,f=b.up("window");Ext.Ajax.request({url:NX.util.Url.urlOf("service/rapture/session"),method:"POST",params:{username:c,password:e},scope:d,suppressStatus:true,success:function(){f.getEl().unmask();NX.State.setUser({id:a.username});f.close();if(f.options&&Ext.isFunction(f.options.success)){f.options.success.call(f.options.scope,f.options)}},failure:function(g){var h=NX.I18n.get("User_Credentials_Message");if(g.status===0){h=NX.I18n.get("User_ConnectFailure_Message")}f.getEl().unmask();NX.Messages.add({text:h,type:"warning"})}})},authenticate:function(c){var f=this,h=c.up("window"),e=c.up("form"),b=NX.State.getUser(),a=Ext.applyIf(e.getValues(),{username:b?b.id:undefined}),d=NX.util.Base64.encode(a.username),g=NX.util.Base64.encode(a.password);h.getEl().mask(NX.I18n.get("User_Controller_Authenticate_Mask"));f.doSignIn(d,g,a,c)},retrieveAuthenticationToken:function(c){var g=c.up("window"),e=c.up("form"),b=NX.State.getUser(),a=Ext.applyIf(e.getValues(),{username:b?b.id:undefined}),d=NX.util.Base64.encode(a.username),f=NX.util.Base64.encode(a.password);g.getEl().mask(NX.I18n.get("User_Retrieving_Mask"));NX.direct.rapture_Security.authenticationToken(d,f,function(h){g.getEl().unmask();if(Ext.isObject(h)&&h.success){g.close();if(g.options&&Ext.isFunction(g.options.success)){g.options.success.call(g.options.scope,h.data,g.options)}}})},onClickSignOut:function(){var a=this;if(a.fireEvent("beforesignout")){a.signOut()}},signOut:function(){var a=this;a.logDebug("Sign-out");Ext.Ajax.request({url:NX.util.Url.urlOf("service/rapture/session"),method:"DELETE",scope:a,suppressStatus:true,success:function(){NX.State.setUser(undefined)}})},manageButtons:function(){var e=this,c=NX.State.getUser(),d=e.getSignInButton(),a=e.getSignOutButton(),b=e.getUserMode();if(d){if(c){d.hide();b.show();b.setText(c.id);b.setTooltip(NX.I18n.format("User_Tooltip",c.id));a.show()}else{d.show();b.hide();a.hide()}}}});Ext.define("NX.Security",{singleton:true,requires:["NX.controller.User"],controller:function(){return NX.getApplication().getController("User")},hasUser:function(){var a=this;if(a.controller()){return a.controller().hasUser()}},askToAuthenticate:function(c,a){var b=this;if(b.controller()){b.controller().askToAuthenticate(c,a)}},doWithAuthenticationToken:function(c,a){var b=this;if(b.controller()){b.controller().doWithAuthenticationToken(c,a)}},signOut:function(){var a=this;if(a.controller()){a.controller().signOut()}}});Ext.define("NX.controller.ExtDirect",{extend:"NX.app.Controller",requires:["NX.Security","NX.Messages","NX.I18n"],init:function(){var a=this;a.listen({direct:{"*":{beforecallback:a.checkResponse}}})},checkResponse:function(d,c){var a=c.result,b;if(Ext.isDefined(a)){if(Ext.isDefined(a.success)&&a.success===false){if(Ext.isDefined(a.authenticationRequired)&&a.authenticationRequired===true){b=a.message;NX.Security.askToAuthenticate()}else{if(Ext.isDefined(a.message)){b=a.message}else{if(Ext.isDefined(a.messages)){b=Ext.Array.from(a.messages).join("<br/>")}}}}if(Ext.isDefined(c.serverException)){b=c.serverException.exception.message}}else{b=NX.I18n.get("User_ConnectFailure_Message")}if(b){NX.Messages.add({text:b,type:"warning"})}}});Ext.define("NX.model.LogEvent",{extend:"Ext.data.Model",fields:[{name:"timestamp",type:"int"},{name:"logger",type:"string"},{name:"level",type:"string"},{name:"message",type:"object"}],idgen:"sequential"});Ext.define("NX.store.LogEvent",{extend:"Ext.data.ArrayStore",model:"NX.model.LogEvent"});Ext.define("NX.util.log.Sink",{mixins:{stateful:"Ext.state.Stateful",logAware:"NX.LogAware"},enabled:true,constructor:function(){this.mixins.stateful.constructor.call(this,{stateful:true,stateId:this.self.getName()});this.callParent(arguments);this.initState()},getState:function(){return{enabled:this.enabled}},setEnabled:function(a){this.enabled=a;this.saveState()},receive:function(a){throw"abstract-method"}});Ext.define("NX.Assert",{singleton:true,requires:["NX.Console"],disable:false,assert:function(){}});Ext.define("NX.util.log.StoreSink",{extend:"NX.util.log.Sink",requires:["NX.Assert"],store:undefined,maxSize:200,constructor:function(a){this.store=a;this.callParent(arguments)},getState:function(){return Ext.apply(this.callParent(),{maxSize:this.maxSize})},setMaxSize:function(a){this.maxSize=a;this.logDebug("Max size:",a);this.saveState()},records:[],receive:function(b){var a=this.store.add(b)[0];this.shrink();this.records.push(a)},shrink:function(){var a=this.records.length-this.maxSize;if(a>0){var b=this.records.splice(0,a);this.store.remove(b)}}});Ext.define("NX.view.dashboard.Welcome",{extend:"Ext.container.Container",alias:"widget.nx-dashboard-welcome",requires:["NX.Icons"],cls:"nx-dashboard-welcome",width:"100%",layout:{type:"vbox",align:"center",pack:"start"},initComponent:function(){var a=this;a.items=[{xtype:"image",cls:"logo",src:NX.Icons.url("nexus-clear","x200"),height:150,width:150}];a.callParent()}});Ext.define("NX.view.header.Help",{extend:"Ext.button.Button",alias:"widget.nx-header-help",requires:["NX.I18n"],initComponent:function(){var a=this;a.tooltip=NX.I18n.get("Header_Help_Tooltip");a.glyph="xf059@FontAwesome";a.arrowCls="";a.menu=[{tooltip:NX.I18n.get("Header_Help_Feature_Tooltip"),action:"feature"},"-",{text:NX.I18n.get("Header_Help_About_Text"),iconCls:"nx-icon-nexus-x16",tooltip:NX.I18n.get("Header_Help_About_Tooltip"),action:"about"},{text:NX.I18n.get("Header_Help_Documentation_Text"),iconCls:"nx-icon-help-manual-x16",tooltip:NX.I18n.get("Header_Help_Documentation_Tooltip"),action:"docs"},{text:NX.I18n.get("Header_Help_KB_Text"),iconCls:"nx-icon-help-kb-x16",tooltip:NX.I18n.get("Header_Help_KB_Tooltip"),action:"kb"},{text:NX.I18n.get("Header_Help_Community_Text"),iconCls:"nx-icon-help-community-x16",tooltip:NX.I18n.get("Header_Help_Community_Tooltip"),action:"community"},{text:NX.I18n.get("Header_Help_Issues_Text"),iconCls:"nx-icon-help-issues-x16",tooltip:NX.I18n.get("Header_Help_Issues_Tooltip"),action:"issues"},"-",{text:NX.I18n.get("Header_Help_Support_Text"),iconCls:"nx-icon-help-support-x16",tooltip:NX.I18n.get("Header_Help_Support_Tooltip"),action:"support"}];a.callParent()}});Ext.define("NX.Bookmark",{config:{token:undefined},segments:undefined,constructor:function(a){this.initConfig(a)},applyToken:function(a){var b=this;if(a&&!Ext.isString(a)){throw Ext.Error.raise("Invalid token")}if(a&&(a.trim().length===0)){a=undefined}if(!a){a=undefined}b.segments=[];if(a){b.segments=a.split(":")}return a},getSegment:function(a){return this.segments[a]},getSegments:function(){return this.segments},appendSegments:function(a){var b=this;if(!a){throw Ext.Error.raise("Invalid segment: "+segment)}if(!Ext.isArray(a)){a=[a]}Ext.each(a,function(c){if(!c||!Ext.isString(c)){throw Ext.Error.raise("Invalid segment: "+c)}b.segments.push(c)});b.setToken(b.segments.join(":"));return b}});Ext.define("NX.Bookmarks",{singleton:true,requires:["NX.Bookmark"],controller:function(){return NX.getApplication().getBookmarkingController()},getBookmark:function(){return this.controller().getBookmark()},bookmark:function(b,a){return this.controller().bookmark(b,a)},navigateTo:function(b,a){return this.controller().navigateTo(b,a)},navigateBackSegments:function(c,b,a){return this.controller().navigateTo(NX.Bookmarks.fromSegments(c.getSegments().slice(0,-b)),a)},fromToken:function(a){return Ext.create("NX.Bookmark",{token:a})},fromSegments:function(a){var b;if(Ext.isDefined(a)){b=Ext.Array.from(a).join(":")}return Ext.create("NX.Bookmark",{token:b})},encode:function(a){if(!Ext.isString(a)){throw Ext.Error.raise("Value to be encoded must be a String")}return a.replace(/\s/g,"")}});Ext.define("NX.controller.Bookmarking",{extend:"NX.app.Controller",requires:["Ext.History","NX.Bookmark","NX.Bookmarks"],launched:false,init:function(){var a=this;Ext.History.useTopWindow=false;Ext.History.init();a.bindToHistory();a.addEvents("navigate")},getBookmark:function(){return NX.Bookmarks.fromToken(Ext.History.bookmark||Ext.History.getToken())},bookmark:function(c,b){var d=this,a=d.getBookmark().getToken();if(!d.launched){return}if(c&&a!==c.getToken()){Ext.History.bookmark=c.getToken();Ext.History.add(c.getToken())}},navigateTo:function(b,a){var c=this;if(!c.launched){return}if(b){c.bookmark(b,a);c.fireEvent("navigate",b)}},onLaunch:function(){var a=this;a.launched=true;a.navigateTo(a.getBookmark(),a)},onNavigate:function(a){var b=this;if(a!==Ext.History.bookmark){delete Ext.History.bookmark;b.navigateTo(NX.Bookmarks.fromToken(a),b)}},bindToHistory:function(){var a=this;Ext.History.on("change",a.onNavigate,a)}});Ext.define("NX.util.Filter",{singleton:true,buildEmptyResult:function(b,a){var c=Ext.util.Format.htmlEncode(b);return'<div class="x-grid-empty">'+a.replace(/\$filter/,c)+"</div>"}});Ext.define("NX.ext.grid.plugin.Filtering",{extend:"Ext.AbstractPlugin",alias:"plugin.gridfiltering",requires:["Ext.util.Filter"],mixins:{logAware:"NX.LogAware"},filterValue:undefined,filteredStore:undefined,filteredFields:undefined,filterFn:function(b,c){var a;if(b){a=b.toString();if(a){return a.toLowerCase().indexOf(c.toLowerCase())!==-1}}return false},matches:function(d,a,c,b){return this.filterFn(b,d)},filter:function(b){var a=this;a.filterValue=b;a.applyFilter()},clearFilter:function(){var a=this;if(a.filterValue){a.filterValue=undefined;a.applyFilter()}},applyFilter:function(){var b=this,c=b.filteredStore.remoteFilter,a=b.filteredStore.filters.items;if(c){b.filteredStore.filters.clear();b.filteredStore.remoteFilter=false}if(b.filterValue){b.filteredStore.filter(b.filteringFilter)}else{b.filteredStore.removeFilter(b.filteringFilter)}if(c){b.filteredStore.remoteFilter=c;if(a){b.filteredStore.filters.add(a)}}},syncFilterValue:function(a,c){var b=this,d=true;if(c){Ext.Array.each(c,function(e){if(e.id===b.filteringFilter.id){d=false;return false}return true})}if(b.filterValue&&d){b.clearFilter();b.grid.fireEvent("filteringautocleared")}},init:function(a){var b=this;b.grid=a;a.filterable=true;a.filter=Ext.Function.bind(b.filter,b);a.clearFilter=Ext.Function.bind(b.clearFilter,b);b.filteringFilter=Ext.create("Ext.util.Filter",{id:"filteringPlugin",filterFn:function(c){for(var e=0;e<b.filteredFields.length;e++){var d=b.filteredFields[e];if(d){if(b.matches(b.filterValue,c,d,c.data[d])){return true}}}return false}});a.mon(a,{reconfigure:b.onReconfigure,scope:b,beforerender:{fn:b.onBeforeRender,single:true,scope:b}})},onBeforeRender:function(a){this.onReconfigure(a,a.getStore(),a.columns)},onReconfigure:function(c,a,b){var d=this,a=a||d.grid.getStore();d.reconfigureStore(a,d.extractColumnsWithDataIndex(b))},reconfigureStore:function(a,c){var b=this;if(b.filteredStore!==a){b.unbindFromStore(b.filteredStore);b.bindToStore(a)}b.filteredFields=c;b.applyFilter()},bindToStore:function(a){var b=this;b.filteredStore=a;if(a){b.grid.mon(a,"load",b.applyFilter,b);b.grid.mon(a,"filterchange",b.syncFilterValue,b)}},unbindFromStore:function(a){var b=this;if(a){b.grid.mun(a,"load",b.applyFilter,b);b.grid.mun(a,"filterchange",b.syncFilterValue,b)}},extractColumnsWithDataIndex:function(b){var a=[];if(b){Ext.each(b,function(c){if(c.dataIndex){a.push(c.dataIndex)}})}if(a.length>0){return a}}});Ext.define("NX.ext.grid.plugin.FilterBox",{extend:"NX.ext.grid.plugin.Filtering",alias:"plugin.gridfilterbox",requires:["NX.I18n","NX.util.Filter"],init:function(b){var c=this,d=b.getDockedItems('toolbar[dock="top"]')[0],a=["->",{xtype:"nx-searchbox",emptyText:NX.I18n.get("Grid_Plugin_FilterBox_Empty"),searchDelay:200,width:200,listeners:{search:c.onSearch,searchcleared:c.onSearchCleared,scope:c}}];c.callParent(arguments);if(d){d.add(a)}else{b.addDocked([{xtype:"toolbar",dock:"top",items:a}])}c.grid.on("filteringautocleared",c.syncSearchBox,c)},onSearch:function(a,c){var b=this;if(b.emptyText){b.grid.getView().emptyText=NX.util.Filter.buildEmptyResult(c,b.emptyText)}b.filter(c)},destroy:function(){var a=this;a.clearFilter();a.callParent()},onSearchCleared:function(){var a=this;if(a.grid.emptyText){a.grid.getView().emptyText='<div class="x-grid-empty">'+a.grid.emptyText+"</div>"}a.clearFilter()},syncSearchBox:function(){var a=this;a.grid.down("nx-searchbox").setValue(a.filterValue)}});Ext.define("NX.util.condition.Condition",{mixins:{observable:"Ext.util.Observable",logAware:"NX.LogAware"},statics:{counter:1},id:undefined,listenerCounter:0,bounded:false,satisfied:false,constructor:function(a){var b=this;b.id=b.self.getName()+"-"+NX.util.condition.Condition.counter++;b.mixins.observable.constructor.call(b,a);b.addEvents("satisfied","unsatisfied")},logDebug:function(){},bind:function(){var a=this;if(!a.bounded){a.setBounded(true)}return a},unbind:function(){var a=this;if(a.bounded){a.clearListeners();Ext.app.EventBus.unlisten(a.id);a.setBounded(false)}return a},setBounded:function(a){var b=this;if(Ext.isDefined(b.bounded)){if(a!==b.bounded){if(!a){b.setSatisfied(false)}b.bounded=a;Ext.defer(function(){NX.getApplication().getStateController().fireEvent("conditionboundedchanged",b)},1)}}else{b.bounded=a}},isSatisfied:function(){return this.satisfied},setSatisfied:function(b){var a=this;if(Ext.isDefined(a.satisfied)){if(b!==a.satisfied){a.satisfied=b;a.fireEvent(b?"satisfied":"unsatisfied",a);Ext.defer(function(){NX.getApplication().getStateController().fireEvent("conditionstatechanged",a)},1)}}else{a.satisfied=b}},addListener:function(b,d,c,a){var e=this;e.mixins.observable.addListener.call(e,b,d,c,a);e.listenerCounter++;if(e.listenerCounter===1){e.bind()}e.fireEvent(e.satisfied?"satisfied":"unsatisfied",e)},removeListener:function(a,c,b){var d=this;d.mixins.observable.removeListener.call(d,a,c,b);d.listenerCounter--;if(d.listenerCounter===0){d.unbind()}}});Ext.define("NX.util.condition.NeverSatisfied",{extend:"NX.util.condition.Condition",toString:function(){return this.self.getName()+"{ never satisfied }"}});Ext.define("NX.util.condition.Conjunction",{extend:"NX.util.condition.Condition",conditions:undefined,bind:function(){var a=this;if(!a.bounded){a.callParent();a.evaluate();Ext.each(a.conditions,function(b){a.mon(b,{satisfied:a.evaluate,unsatisfied:a.evaluate,scope:a})})}return a},evaluate:function(){var a=this,b=true;if(a.bounded){Ext.each(a.conditions,function(c){b=c.satisfied;return b});a.setSatisfied(b)}},toString:function(){return this.conditions.join(" AND ")}});Ext.define("NX.util.condition.GridHasSelection",{extend:"NX.util.condition.Condition",grid:undefined,fn:undefined,bind:function(){var b=this,a={};if(!b.bounded){a[b.grid]={cellclick:function(e,f,d,c){b.evaluate(e,c)},selection:b.evaluate,selectionchange:function(d,c){b.evaluate(d,c?c[0]:null)},destroy:b.evaluate};Ext.app.EventBus.listen({component:a},b);b.callParent()}return b},evaluate:function(c,a){var b=this,d=false;if(b.bounded){if(a){d=true;if(Ext.isFunction(b.fn)){d=b.fn(a)===true}}b.setSatisfied(d)}},toString:function(){return this.self.getName()+"{ grid="+this.grid+" }"}});Ext.define("NX.util.condition.WatchState",{extend:"NX.util.condition.Condition",requires:["NX.State"],key:undefined,fn:undefined,bind:function(){var c=this,a,b;if(!c.bounded){if(!Ext.isDefined(c.fn)){c.fn=function(d){return d}}a=NX.getApplication().getController("State");b={scope:c};b[c.key.toLowerCase()+"changed"]=c.evaluate;c.mon(a,b);c.callParent();c.evaluate(NX.State.getValue(c.key))}return c},evaluate:function(c,a){var b=this;if(b.bounded){b.setSatisfied(b.fn(c,a))}},toString:function(){return this.self.getName()+"{ key="+this.key+" }"}});Ext.define("NX.util.condition.Disjunction",{extend:"NX.util.condition.Condition",conditions:undefined,bind:function(){var a=this;if(!a.bounded){a.callParent();a.evaluate();Ext.each(a.conditions,function(b){a.mon(b,{satisfied:a.evaluate,unsatisfied:a.evaluate,scope:a})})}return a},evaluate:function(){var a=this,b=false;if(a.bounded){Ext.each(a.conditions,function(c){if(c.satisfied){b=true;return false}return true});a.setSatisfied(b)}},toString:function(){return this.conditions.join(" OR ")}});Ext.define("NX.util.condition.StoreHasRecords",{extend:"NX.util.condition.Condition",store:undefined,bind:function(){var b=this,a;if(!b.bounded){a=NX.getApplication().getStore(b.store);b.mon(a,{datachanged:b.evaluate,beforeload:Ext.pass(b.evaluate,[undefined]),scope:b});b.callParent();b.evaluate(a)}return b},evaluate:function(a){var b=this;if(b.bounded){b.setSatisfied(Ext.isDefined(a)&&(a.getCount()>0))}},toString:function(){return this.self.getName()+"{ store="+this.store+" }"}});Ext.define("NX.util.condition.FormHasRecord",{extend:"NX.util.condition.Condition",form:undefined,fn:undefined,bind:function(){var b=this,a={},c;if(!b.bounded){a[b.form]={afterrender:b.evaluate,recordloaded:b.evaluate,destroy:b.evaluate};Ext.app.EventBus.listen({component:a},b);b.callParent();c=Ext.ComponentQuery.query(b.form);if(c&&c.length>0){b.evaluate(c[0])}}return b},evaluate:function(c){var b=this,d=false,a;if(b.bounded){if(Ext.isDefined(c)&&c.isXType("form")){a=c.getRecord();if(a){d=true;if(Ext.isFunction(b.fn)){d=b.fn(a)===true}}}b.setSatisfied(d)}},toString:function(){return this.self.getName()+"{ form="+this.form+" }"}});Ext.define("NX.util.condition.IsPermitted",{extend:"NX.util.condition.Condition",permission:undefined,bind:function(){var b=this,a;if(!b.bounded){a=NX.getApplication().getController("Permissions");b.mon(a,{changed:b.evaluate,scope:b});b.callParent();b.evaluate()}return b},evaluate:function(){var a=this;if(a.bounded){a.setSatisfied(NX.Permissions.check(a.permission))}},toString:function(){return this.self.getName()+"{ permission="+this.permission+" }"},setPermission:function(a){this.permission=a;this.evaluate()}});Ext.define("NX.Conditions",{singleton:true,requires:["NX.util.condition.Conjunction","NX.util.condition.Disjunction","NX.util.condition.FormHasRecord","NX.util.condition.GridHasSelection","NX.util.condition.IsPermitted","NX.util.condition.StoreHasRecords","NX.util.condition.WatchState","NX.util.condition.NeverSatisfied"],isPermitted:function(a){return Ext.create("NX.util.condition.IsPermitted",{permission:a})},storeHasRecords:function(a){return Ext.create("NX.util.condition.StoreHasRecords",{store:a})},gridHasSelection:function(a,b){return Ext.create("NX.util.condition.GridHasSelection",{grid:a,fn:b})},formHasRecord:function(b,a){return Ext.create("NX.util.condition.FormHasRecord",{form:b,fn:a})},watchState:function(a,b){return Ext.create("NX.util.condition.WatchState",{key:a,fn:b})},and:function(){return Ext.create("NX.util.condition.Conjunction",{conditions:Array.prototype.slice.call(arguments)})},or:function(){return Ext.create("NX.util.condition.Disjunction",{conditions:Array.prototype.slice.call(arguments)})},never:function(){return Ext.create("NX.util.condition.NeverSatisfied")}});Ext.define("NX.controller.dev.Stores",{extend:"NX.app.Controller",requires:["Ext.data.StoreManager"],refs:[{ref:"stores",selector:"nx-dev-stores"}],init:function(){var a=this;a.listen({component:{"nx-dev-stores combobox":{change:a.onStoreSelected},"nx-dev-stores button[action=load]":{click:a.loadStore},"nx-dev-stores button[action=clear]":{click:a.clearStore}}})},onStoreSelected:function(c){var b=c.getValue(),a=this.getStores(),f=a.down("grid"),d,e=[];if(b){d=Ext.data.StoreManager.get(b);if(d){Ext.each(d.model.getFields(),function(g){e.push({text:g.name,dataIndex:g.name,renderer:function(h){if(Ext.isObject(h)||Ext.isArray(h)){try{return Ext.encode(h)}catch(i){console.error("Failed to encode value:",h,i)}}return h}})});a.removeAll(true);a.add({xtype:"grid",autoScroll:true,store:d,columns:e})}}},loadStore:function(){var a=this.getStores(),b=a.down("grid");if(b){b.getStore().load()}},clearStore:function(){var a=this.getStores(),b=a.down("grid");if(b){b.getStore().removeAll()}}});Ext.define("NX.util.Array",{singleton:true,requires:["Ext.Array"],containsAll:function(c,b){var a;for(a=0;a<b.length;a++){if(!Ext.Array.contains(c,b[a])){return false}}return true}});Ext.define("NX.Permissions",{singleton:true,requires:["NX.Assert","NX.util.Array"],mixins:{logAware:"NX.LogAware"},permissions:undefined,impliedCache:undefined,available:function(){return Ext.isDefined(this.permissions)},setPermissions:function(a){var b=this;b.permissions=Ext.clone(a);b.impliedCache={}},resetPermissions:function(){var a=this;delete a.permissions;delete a.impliedCache},check:function(a){var c=this,b=false;if(!c.available()){return false}if(c.permissions[a]!==undefined){return c.permissions[a]}if(c.impliedCache[a]!==undefined){b=c.impliedCache[a]}else{Ext.Object.each(c.permissions,function(d,e){if(e&&c.implies(d,a)){b=true;return false}return true});c.impliedCache[a]=b}return b},implies:function(d,c){var a=d.split(":"),g=c.split(":"),f,e,b;for(b=0;b<g.length;b++){if(a.length-1<b){return true}else{f=a[b].split(",");e=g[b].split(",");if(!Ext.Array.contains(f,"*")&&!NX.util.Array.containsAll(f,e)){return false}}}for(;b<a.length;b++){f=a[b].split(",");if(!Ext.Array.contains(f,"*")){return false}}return true},checkExistsWithPrefix:function(c){var b=this,a=false;if(!b.available()){return false}Ext.Object.each(b.permissions,function(d,e){if(Ext.String.startsWith(d,c)&&e===true){a=true;return false}return true});return a}});Ext.define("NX.model.Feature",{extend:"Ext.data.Model",idProperty:"path",fields:[{name:"path"},{name:"text"},{name:"mode",type:"string",defaultValue:"admin"},{name:"weight",defaultValue:100},{name:"group",defaultValue:false},{name:"view",defaultValue:undefined},{name:"helpKeyword",defaultValue:undefined},{name:"visible",defaultValue:true},{name:"expanded",defaultValue:true},{name:"bookmark",defaultValue:undefined},{name:"iconName",defaultValue:undefined},{name:"description",defaultValue:undefined},{name:"authenticationRequired",defaultValue:true}]});Ext.define("NX.view.UnsavedChanges",{extend:"NX.view.ModalDialog",requires:["NX.I18n"],alias:"widget.nx-unsaved-changes",content:null,callback:Ext.emptyFn,initComponent:function(){var a=this;a.title=NX.I18n.get("UnsavedChanges_Title");a.defaultFocus="nx-discard";a.setWidth(NX.view.ModalDialog.SMALL_MODAL);Ext.apply(a,{items:{xtype:"panel",ui:"nx-inset",html:NX.I18n.get("UnsavedChanges_Help_HTML"),buttonAlign:"left",buttons:[{text:NX.I18n.get("UnsavedChanges_Discard_Button"),ui:"nx-primary",itemId:"nx-discard",handler:function(){a.content.resetUnsavedChangesFlag(true);a.callback();a.close()}},{text:NX.I18n.get("UnsavedChanges_Back_Button"),handler:a.close,scope:a}]}});a.callParent()}});Ext.define("NX.view.feature.NotVisible",{extend:"Ext.container.Container",alias:"widget.nx-feature-notvisible",requires:["NX.I18n"],cls:["nx-feature-notvisible","nx-hr"],layout:{type:"vbox",align:"center",pack:"center"},initComponent:function(){var a=this;a.items=[{xtype:"label",cls:"title",text:a.text},{xtype:"label",cls:"description",text:"Sorry you are not permitted to use the feature you selected.  Please select another feature."}];a.callParent()}});Ext.define("NX.store.Feature",{extend:"Ext.data.ArrayStore",model:"NX.model.Feature",sorters:{property:"path",direction:"ASC"}});Ext.define("NX.view.feature.Menu",{extend:"Ext.tree.Panel",alias:"widget.nx-feature-menu",width:220,ui:"nx-feature-menu",stateful:true,stateId:"nx-feature-menu",store:"FeatureMenu",rootVisible:false,lines:false});Ext.define("NX.model.FeatureMenu",{extend:"Ext.data.TreeModel",fields:[{name:"path"},{name:"mode",type:"string"},{name:"text"},{name:"weight",defaultValue:100},{name:"group",defaultValue:false},{name:"view"},{name:"bookmark"},{name:"iconName"}]});Ext.define("NX.store.FeatureMenu",{extend:"Ext.data.TreeStore",model:"NX.model.FeatureMenu",root:{expanded:true,text:"Features",children:[]}});Ext.define("NX.controller.Features",{extend:"NX.app.Controller",models:["Feature"],stores:["Feature","FeatureMenu"],statics:{alwaysVisible:function(){return true},alwaysHidden:function(){return false}},registerFeature:function(b,a){var c=this;if(b){if(a){a.on("destroy",Ext.pass(c.unregisterFeature,[b],c),c)}Ext.each(Ext.Array.from(b),function(e){var d=Ext.clone(e),f;if(!d.path){throw Ext.Error.raise("Feature missing path")}if(!d.mode){d.mode="admin"}if(!d.view&&d.group===true){d.view="NX.view.feature.Group"}if(!d.view){c.logError("Missing view configuration for feature at path:",d.path)}f=d.path;if(f.charAt(0)==="/"){f=f.substr(1,f.length)}c.configureIcon(f,d);f=d.mode+"/"+f;d.path="/"+f;if(!d.bookmark){d.bookmark=NX.Bookmarks.encode(f).toLowerCase()}if(!d.helpKeyword){d.helpKeyword=f.replace(/\//g," ").toLowerCase()}if(Ext.isDefined(d.visible)){if(!Ext.isFunction(d.visible)){if(d.visible){d.visible=NX.controller.Features.alwaysVisible}else{d.visible=NX.controller.Features.alwaysHidden}}}else{d.visible=NX.controller.Features.alwaysVisible}c.getStore("Feature").addSorted(c.getFeatureModel().create(d))})}},unregisterFeature:function(a){var b=this;if(a){Ext.each(Ext.Array.from(a),function(e){var c=Ext.clone(e),f,d;if(!c.mode){c.mode="admin"}f=c.path;if(f.charAt(0)==="/"){f=f.substr(1,f.length)}f=c.mode+"/"+f;c.path="/"+f;d=b.getStore("Feature").getById(c.path);if(d){b.getStore("Feature").remove(d)}})}},configureIcon:function(c,a){var d="feature-"+a.mode+"-"+c.toLowerCase().replace(/\//g,"-").replace(/\s/g,"");if(a.iconConfig){var b=a.iconConfig;delete a.iconConfig;if(b.name){a.iconName=b.name}else{b.name=d}this.getApplication().getIconController().addIcon(b)}if(!a.iconName){a.iconName=d}}});Ext.define("NX.store.FeatureGroup",{extend:"Ext.data.ArrayStore",model:"NX.model.Feature",sorters:{property:"path",direction:"ASC"}});Ext.define("NX.view.feature.NotFound",{extend:"Ext.container.Container",alias:"widget.nx-feature-notfound",requires:["NX.I18n"],cls:["nx-feature-notfound","nx-hr"],layout:{type:"vbox",align:"center",pack:"center"},initComponent:function(){var a=this;a.items=[{xtype:"label",cls:"title",text:a.path?NX.I18n.format("Feature_NotFoundPath_Text",a.path):NX.I18n.get("Feature_NotFound_Text")},{xtype:"label",cls:"description",text:"Sorry the feature you have selected does not exist.  Please make another selection."}];a.callParent()}});Ext.define("NX.controller.Menu",{extend:"NX.app.Controller",requires:["NX.Bookmarks","NX.controller.User","NX.controller.Features","NX.Permissions","NX.Security","NX.State","NX.view.header.Mode","NX.I18n"],views:["feature.Menu","feature.NotFound","feature.NotVisible","UnsavedChanges"],models:["Feature"],stores:["Feature","FeatureMenu","FeatureGroup"],refs:[{ref:"featureMenu",selector:"nx-feature-menu"},{ref:"featureContent",selector:"nx-feature-content"},{ref:"headerPanel",selector:"nx-header-panel"}],mode:undefined,availableModes:undefined,bookmarkingEnabled:true,currentSelectedPath:undefined,navigateToFirstFeature:false,init:function(){var a=this;a.availableModes=Ext.create("Ext.util.MixedCollection");a.getApplication().getIconController().addIcons({"feature-notfound":{file:"exclamation.png",variants:["x16","x32"]}});a.listen({controller:{"#Permissions":{changed:a.refreshMenu},"#State":{changed:a.onStateChange},"#Bookmarking":{navigate:a.navigateTo},"#User":{beforesignout:a.warnBeforeSignOut,signout:a.onSignOut},"#Refresh":{beforerefresh:a.warnBeforeRefresh}},component:{"nx-feature-menu":{select:a.onSelection,itemclick:a.onItemClick,afterrender:a.onAfterRender,beforecellclick:a.warnBeforeMenuSelect},"nx-main #quicksearch":{beforesearch:a.warnBeforeSearch},"#breadcrumb button":{click:a.warnBeforeButtonClick},"nx-actions button[handler]":{click:a.warnBeforeButtonClick},"nx-actions menuitem[handler]":{click:a.warnBeforeButtonClick},"nx-header-mode":{afterrender:a.registerMode,destroy:a.unregisterMode,selected:a.warnBeforeModeSelect}},store:{"#Feature":{update:a.refreshMenu}}});a.addEvents("featureselected");a.warnBeforeUnload()},destroy:function(){var a=this;a.getApplication().un("controllerschanged",a.refreshMenu,a);a.callParent(arguments)},onAfterRender:function(){var a=this;a.getApplication().on("controllerschanged",a.refreshMenu,a);a.refreshMenu()},getBookmark:function(){var b=this,a=b.getFeatureMenu().getSelectionModel().getSelection();return NX.Bookmarks.fromToken(a.length?a[0].get("bookmark"):b.mode)},onItemClick:function(a,b){this.selectMenuItem(b,true)},onSelection:function(a,b){this.selectMenuItem(b,false)},selectMenuItem:function(b,a){var c=this,d=b.get("path");if(a||d!==c.currentSelectedPath||b.get("group")){c.currentSelectedPath=d;if(c.bookmarkingEnabled){c.bookmark(b)}c.selectFeature(c.getStore("Feature").getById(b.get("path")));c.populateFeatureGroupStore(b)}},selectFeature:function(b){var a;if(b){a=b.get("path");if(a&&a.length>0){this.fireEvent("featureselected",b)}}},populateFeatureGroupStore:function(a){var c=this,b=[],d=c.getStore("Feature");a.eachChild(function(e){e.cascadeBy(function(f){b.push(d.getById(f.get("path")))})});c.getStore("FeatureGroup").loadData(b)},navigateTo:function(b){var d=this,c,e,a,g,f;if(b){if(b.getSegments().length){f=b.getSegment(0).indexOf("=");if(f!==-1){g=b.getSegment(0).slice(0,b.getSegment(0).indexOf("="))}else{g=b.getSegment(0)}}e=d.getMode(b);if(d.mode!==e){d.mode=e;d.refreshModes()}if(g){c=d.getStore("FeatureMenu").getRootNode().findChild("bookmark",g,true)}if(!c&&(!Ext.isDefined(g)||d.navigateToFirstFeature)){if(!d.mode){d.selectFirstAvailableMode();d.refreshModes()}c=d.getStore("FeatureMenu").getRootNode().firstChild}if(c){d.bookmarkingEnabled=d.navigateToFirstFeature;d.navigateToFirstFeature=false;d.getFeatureMenu().selectPath(c.getPath("text"),"text",undefined,function(){d.bookmarkingEnabled=true})}else{delete d.currentSelectedPath;if(g){a=d.getStore("Feature").findRecord("bookmark",g,0,false,false,true)}d.getFeatureMenu().getSelectionModel().deselectAll();if(a){if(a.get("authenticationRequired")&&NX.Permissions.available()){NX.Security.askToAuthenticate()}d.selectFeature(d.createNotAvailableFeature(a))}else{d.selectFeature(d.createNotFoundFeature(g))}}}},onSignOut:function(){this.navigateToFirstFeature=true},onStateChange:function(){var a=this,b=false;a.getStore("Feature").each(function(c){var e,d;if(c.get("mode")===a.mode){e=c.get("visible")();d=a.getStore("FeatureMenu").getRootNode().findChild("path",c.get("path"),true)!==null;b=(e!==d)}return !b});if(b){a.refreshMenu()}},bookmark:function(c){var b=this,a=c.get("bookmark");if(NX.Bookmarks.getBookmark().getToken()!==a){NX.Bookmarks.bookmark(NX.Bookmarks.fromToken(a),b)}},refreshMenu:function(){var a=this;a.refreshVisibleModes();a.refreshTree();a.navigateTo(NX.Bookmarks.getBookmark())},findModeSwitcher:function(a){return this.availableModes.findBy(function(b){return b.name===a})},refreshVisibleModes:function(){var c=this,b=[],a;c.getStore("Feature").each(function(d){a=d.getData();if(a.visible()&&!a.group&&b.indexOf(a.mode)===-1){b.push(a.mode)}});c.availableModes.each(function(d){d.toggle(false,true);if(d.autoHide){if(b.indexOf(d.name)>-1){d.show()}else{d.hide()}}});c.refreshModeButtons()},refreshModeButtons:function(){var a=this,b;a.availableModes.each(function(c){c.toggle(false,true)});if(a.mode){b=a.findModeSwitcher(a.mode);if(!b||b.isHidden()){delete a.mode}}if(a.mode){b=a.findModeSwitcher(a.mode);b.toggle(true,true)}},refreshTree:function(){var f=this,b=f.mode,a=[],d,c,e,h,g;Ext.suspendLayouts();g=f.findModeSwitcher(f.mode);if(g&&g.title){b=g.title}f.getFeatureMenu().setTitle(b);f.getStore("FeatureMenu").getRootNode().removeAll();f.getStore("Feature").each(function(k){d=k.getData();if((f.mode===d.mode)&&d.visible()){c=d.path.split("/");e=f.getStore("FeatureMenu").getRootNode();for(var j=2;j<c.length;j++){h=e.findChild("path",c.slice(0,j+1).join("/"),false);if(h){if(j<c.length-1){h.data=Ext.apply(h.data,{leaf:false})}}else{if(j<c.length-1){h=e.appendChild({text:c[j],leaf:false,expanded:true})}else{h=e.appendChild(Ext.apply(d,{leaf:true,iconCls:NX.Icons.cls(d.iconName,"x16"),qtip:d.description}))}}e=h}}});f.getStore("FeatureMenu").getRootNode().cascadeBy(function(i){if(i.get("group")&&!i.hasChildNodes()){a.push(i)}});Ext.Array.each(a,function(i){i.parentNode.removeChild(i,true)});f.getStore("FeatureMenu").sort([{property:"weight",direction:"ASC"},{property:"text",direction:"ASC"}]);Ext.resumeLayouts(true)},createNotAvailableFeature:function(a){return this.getFeatureModel().create({text:a.get("text"),path:a.get("path"),description:a.get("description"),iconName:a.get("iconName"),view:{xtype:"nx-feature-notvisible",text:a.get("text")+" feature is not available as "+(NX.State.getValue("user")?" you do not have the required permissions":" you are not logged in")},visible:NX.controller.Features.alwaysVisible})},createNotFoundFeature:function(a){return this.getFeatureModel().create({text:"Not found",path:"/Not Found",description:a,iconName:"feature-notfound",view:{xtype:"nx-feature-notfound",path:a},visible:NX.controller.Features.alwaysVisible})},getMode:function(a){if(a&&a.getSegment(0)){return a.getSegment(0).split("/")[0]}return undefined},changeMode:function(b){var a=this;a.mode=b;a.refreshTree();a.navigateTo(NX.Bookmarks.fromToken(a.getStore("FeatureMenu").getRootNode().firstChild.get("bookmark")));NX.Bookmarks.bookmark(a.getBookmark())},registerMode:function(a){this.availableModes.add(a)},unregisterMode:function(a){this.availableModes.remove(a)},selectFirstAvailableMode:function(){var a=this;a.availableModes.each(function(b){if(!b.isHidden()){a.mode=b.name;return false}return true})},refreshModes:function(){this.refreshModeButtons();this.refreshTree()},warnBeforeMenuSelect:function(a,e,c,b){var d=this;return d.warnBeforeNavigate(function(){d.getFeatureMenu().getSelectionModel().select(b);d.getFeatureMenu().fireEvent("itemclick",d.getFeatureMenu(),b)})},warnBeforeModeSelect:function(c){var b=this;var a=function(){c.toggle(true);b.changeMode(c.name)};if(b.warnBeforeNavigate(a)){b.changeMode(c.name)}else{c.toggle(true)}},warnBeforeSearch:function(){var b=this,a=b.getHeaderPanel().down("nx-header-quicksearch");return b.warnBeforeNavigate(function(){a.fireEvent("search",a,a.getValue())})},warnBeforeButtonClick:function(a,b){return this.warnBeforeNavigate(function(){a.handler.call(a.scope,a,b)})},warnBeforeRefresh:function(){var b=this,a=b.getHeaderPanel().down("nx-header-refresh");return b.warnBeforeNavigate(function(){a.fireEvent("click")})},warnBeforeSignOut:function(){return this.warnBeforeNavigate(function(){NX.getApplication().getController("User").signOut()})},warnBeforeNavigate:function(d){var c=this,a=c.hasDirt(),b=c.getFeatureContent();if(b.discardUnsavedChanges){b.resetUnsavedChangesFlag();return true}if(a){c.showUnsavedChangesModal(d);return false}else{return true}},showUnsavedChangesModal:function(b){var a=this.getFeatureContent();Ext.create("NX.view.UnsavedChanges",{content:a,callback:function(){b();a.resetUnsavedChangesFlag()}})},hasDirt:function(){var b=false,a=Ext.ComponentQuery.query("form[settingsForm=true]");if(a.length!==0){Ext.Array.each(a,function(c){if(c.isDirty()){b=true;return false}})}return b},warnBeforeUnload:function(){var a=this;window.onbeforeunload=function(){if(a.hasDirt()){return NX.I18n.get("Menu_Browser_Title")}}}});Ext.define("NX.view.header.Panel",{extend:"Ext.container.Container",alias:"widget.nx-header-panel",requires:["NX.I18n","NX.State"],cls:"nx-header-panel",layout:{type:"vbox",align:"stretch",pack:"start"},initComponent:function(){var a=this;a.items=[{xtype:"nx-header-branding",hidden:true},{xtype:"toolbar",height:40,anchor:"100%",defaults:{scale:"medium"},items:[{xtype:"nx-header-logo"},{xtype:"container",layout:{type:"vbox",pack:"center"},items:[{xtype:"label",cls:"productname",text:NX.I18n.get("Header_Panel_Logo_Text")},{xtype:"label",cls:"productspec",text:NX.State.getBrandedEditionAndVersion()}]}]}];a.callParent()}});Ext.define("NX.util.log.RemoteSink",{extend:"NX.util.log.Sink",enabled:false,receive:function(a){var b=Ext.clone(a);b.message=b.message.join(" ");NX.direct.rapture_LogEvent.recordEvent(b)}});Ext.define("NX.util.log.ConsoleSink",{extend:"NX.util.log.Sink",requires:["NX.Console"],enabled:false,receive:function(a){NX.Console.recordEvent(a)}});Ext.define("NX.controller.Logging",{extend:"NX.app.Controller",requires:["NX.Log","NX.util.log.StoreSink","NX.util.log.ConsoleSink","NX.util.log.RemoteSink"],mixins:{stateful:"Ext.state.Stateful"},stores:["LogEvent"],sinks:{},sinkRefs:undefined,threshold:"debug",constructor:function(){this.mixins.stateful.constructor.call(this,{stateful:true,stateId:this.self.getName()});this.callParent(arguments);this.initState()},init:function(){this.sinks={store:Ext.create("NX.util.log.StoreSink",this.getStore("LogEvent")),console:Ext.create("NX.util.log.ConsoleSink"),remote:Ext.create("NX.util.log.RemoteSink")};this.sinkRefs=Ext.Object.getValues(this.sinks)},onLaunch:function(){NX.Log.attach(this);this.logInfo("Attached")},getState:function(){return{threshold:this.threshold}},getSink:function(a){return this.sinks[a]},getThreshold:function(){return this.threshold},setThreshold:function(a){this.threshold=a;this.saveState()},levelWeights:{all:1,trace:2,debug:3,info:4,warn:5,error:6,off:7},exceedsThreshold:function(a){return this.levelWeights[a]>=this.levelWeights[this.threshold]},recordEvent:function(b){if(!this.exceedsThreshold(b.level)){return}for(var a=0;a<this.sinkRefs.length;a++){if(this.sinkRefs[a].enabled){this.sinkRefs[a].receive(b)}}}});Ext.define("NX.model.Icon",{extend:"Ext.data.Model",idProperty:"cls",fields:[{name:"cls",type:"string"},{name:"name",type:"string"},{name:"file",type:"string"},{name:"variant",type:"string"},{name:"height",type:"int"},{name:"width",type:"int"},{name:"url",type:"string"},{name:"preload",type:"boolean"}]});Ext.define("NX.view.dev.styles.StyleSection",{extend:"Ext.panel.Panel",ui:"nx-light",bodyPadding:"5px 5px 5px 5px",html:function(b,a){var c={xtype:"container",html:b};if(a){Ext.apply(c,a)}return c},label:function(b,a){var c={xtype:"label",html:b};if(a){Ext.apply(c,a)}return c}});Ext.define("NX.view.dev.styles.Pickers",{extend:"NX.view.dev.styles.StyleSection",requires:["Ext.data.ArrayStore"],title:"Pickers",initComponent:function(){var b=this,a;a=Ext.create("Ext.data.ArrayStore",{fields:["id","name"],data:[["foo","Foo"],["bar","Bar"],["baz","Baz"]]});b.items=[{xtype:"nx-itemselector",name:"realms",buttons:["up","add","remove","down"],fromTitle:"Available",toTitle:"Selected",store:a,valueField:"id",displayField:"name",delimiter:null}];b.callParent()}});Ext.define("NX.view.dev.State",{extend:"Ext.grid.Panel",alias:"widget.nx-dev-state",title:"State",store:"State",emptyText:"No values",viewConfig:{deferEmptyText:false},columns:[{text:"key",dataIndex:"key",width:250},{text:"hash",dataIndex:"hash"},{text:"value",dataIndex:"value",flex:1,renderer:function(a){return Ext.JSON.encode(a)}}]});Ext.define("NX.view.drilldown.Drilldown",{extend:"Ext.container.Container",alias:"widget.nx-drilldown",itemId:"nx-drilldown",requires:["NX.Icons"],masters:null,actions:null,items:[],initComponent:function(){var a=this;a.on("beforerender",a.loadDrilldown);a.callParent()},loadDrilldown:function(d){var b=[],a;if(!d.masters){a=[]}else{if(!Ext.isArray(d.masters)){a=[Ext.clone(d.masters)]}else{a=Ext.Array.clone(d.masters)}}if(!d.skipDetail){if(d.detail){a.push(d.detail)}else{a.push({xtype:"nx-drilldown-details",header:false,plain:true,layout:{type:"vbox",align:"stretch",pack:"start"},tabs:Ext.clone(d.tabs),actions:Ext.isArray(d.actions)?Ext.Array.clone(d.actions):d.actions})}}for(var c=0;c<a.length;++c){b.push(d.createDrilldownItem(c,a[c],undefined))}d.add({xtype:"container",defaults:{flex:1},layout:{type:"hbox",align:"stretch"},items:b});d.addEvents("syncsize")},createDrilldownItem:function(c,b,a){return{xtype:"nx-drilldown-item",itemClass:NX.Icons.cls(this.iconName)+(c===0?"-x32":"-x16"),items:[{xtype:"container",layout:"fit",itemId:"browse"+c,items:b},{xtype:"container",layout:"fit",itemId:"create"+c,items:a},{type:"container",layout:"fit",itemId:"nothin"+c}]}}});Ext.define("Ext.ux.window.Notification",{extend:"Ext.window.Window",alias:"widget.uxNotification",cls:"ux-notification-window",autoClose:true,autoHeight:true,plain:false,draggable:false,shadow:false,focus:Ext.emptyFn,manager:null,useXAxis:false,position:"br",spacing:6,paddingX:30,paddingY:10,slideInAnimation:"easeIn",slideBackAnimation:"bounceOut",slideInDuration:1500,slideBackDuration:1000,hideDuration:500,autoCloseDelay:7000,stickOnClick:true,stickWhileHover:true,isHiding:false,isFading:false,destroyAfterHide:false,closeOnMouseOut:false,xPos:0,yPos:0,statics:{defaultManager:{el:null}},initComponent:function(){var a=this;if(Ext.isDefined(a.corner)){a.position=a.corner}if(Ext.isDefined(a.slideDownAnimation)){a.slideBackAnimation=a.slideDownAnimation}if(Ext.isDefined(a.autoDestroyDelay)){a.autoCloseDelay=a.autoDestroyDelay}if(Ext.isDefined(a.autoHideDelay)){a.autoCloseDelay=a.autoHideDelay}if(Ext.isDefined(a.autoHide)){a.autoClose=a.autoHide}if(Ext.isDefined(a.slideInDelay)){a.slideInDuration=a.slideInDelay}if(Ext.isDefined(a.slideDownDelay)){a.slideBackDuration=a.slideDownDelay}if(Ext.isDefined(a.fadeDelay)){a.hideDuration=a.fadeDelay}a.position=a.position.replace(/c/,"");a.updateAlignment(a.position);a.setManager(a.manager);a.callParent(arguments)},onRender:function(){var a=this;a.callParent(arguments);a.el.hover(function(){a.mouseIsOver=true},function(){a.mouseIsOver=false;if(a.closeOnMouseOut){a.closeOnMouseOut=false;a.close()}},a)},updateAlignment:function(a){var b=this;switch(a){case"br":b.paddingFactorX=-1;b.paddingFactorY=-1;b.siblingAlignment="br-br";if(b.useXAxis){b.managerAlignment="bl-br"}else{b.managerAlignment="tr-br"}break;case"bl":b.paddingFactorX=1;b.paddingFactorY=-1;b.siblingAlignment="bl-bl";if(b.useXAxis){b.managerAlignment="br-bl"}else{b.managerAlignment="tl-bl"}break;case"tr":b.paddingFactorX=-1;b.paddingFactorY=1;b.siblingAlignment="tr-tr";if(b.useXAxis){b.managerAlignment="tl-tr"}else{b.managerAlignment="br-tr"}break;case"tl":b.paddingFactorX=1;b.paddingFactorY=1;b.siblingAlignment="tl-tl";if(b.useXAxis){b.managerAlignment="tr-tl"}else{b.managerAlignment="bl-tl"}break;case"b":b.paddingFactorX=0;b.paddingFactorY=-1;b.siblingAlignment="b-b";b.useXAxis=0;b.managerAlignment="t-b";break;case"t":b.paddingFactorX=0;b.paddingFactorY=1;b.siblingAlignment="t-t";b.useXAxis=0;b.managerAlignment="b-t";break;case"l":b.paddingFactorX=1;b.paddingFactorY=0;b.siblingAlignment="l-l";b.useXAxis=1;b.managerAlignment="r-l";break;case"r":b.paddingFactorX=-1;b.paddingFactorY=0;b.siblingAlignment="r-r";b.useXAxis=1;b.managerAlignment="l-r";break}},getXposAlignedToManager:function(){var a=this;var b=0;if(a.manager&&a.manager.el&&a.manager.el.dom){if(!a.useXAxis){return a.el.getLeft()}else{if(a.position=="br"||a.position=="tr"||a.position=="r"){b+=a.manager.el.getAnchorXY("r")[0];b-=(a.el.getWidth()+a.paddingX)}else{b+=a.manager.el.getAnchorXY("l")[0];b+=a.paddingX}}}return b},getYposAlignedToManager:function(){var b=this;var a=0;if(b.manager&&b.manager.el&&b.manager.el.dom){if(b.useXAxis){return b.el.getTop()}else{if(b.position=="br"||b.position=="bl"||b.position=="b"){a+=b.manager.el.getAnchorXY("b")[1];a-=(b.el.getHeight()+b.paddingY)}else{a+=b.manager.el.getAnchorXY("t")[1];a+=b.paddingY}}}return a},getXposAlignedToSibling:function(a){var b=this;if(b.useXAxis){if(b.position=="tl"||b.position=="bl"||b.position=="l"){return(a.xPos+a.el.getWidth()+a.spacing)}else{return(a.xPos-b.el.getWidth()-b.spacing)}}else{return b.el.getLeft()}},getYposAlignedToSibling:function(a){var b=this;if(b.useXAxis){return b.el.getTop()}else{if(b.position=="tr"||b.position=="tl"||b.position=="t"){return(a.yPos+a.el.getHeight()+a.spacing)}else{return(a.yPos-b.el.getHeight()-a.spacing)}}},getNotifications:function(b){var a=this;if(!a.manager.notifications[b]){a.manager.notifications[b]=[]}return a.manager.notifications[b]},setManager:function(a){var b=this;b.manager=a;if(typeof b.manager=="string"){b.manager=Ext.getCmp(b.manager)}if(!b.manager){b.manager=b.statics().defaultManager;if(!b.manager.el){b.manager.el=Ext.getBody()}}if(typeof b.manager.notifications=="undefined"){b.manager.notifications={}}},beforeShow:function(){var a=this;if(a.stickOnClick){if(a.body&&a.body.dom){Ext.fly(a.body.dom).on("click",function(){a.cancelAutoClose();a.addCls("notification-fixed")},a)}}if(a.autoClose){a.task=new Ext.util.DelayedTask(a.doAutoClose,a);a.task.delay(a.autoCloseDelay)}a.el.setX(-10000);a.el.setOpacity(1)},afterShow:function(){var b=this;b.callParent(arguments);var a=b.getNotifications(b.managerAlignment);if(a.length){b.el.alignTo(a[a.length-1].el,b.siblingAlignment,[0,0]);b.xPos=b.getXposAlignedToSibling(a[a.length-1]);b.yPos=b.getYposAlignedToSibling(a[a.length-1])}else{b.el.alignTo(b.manager.el,b.managerAlignment,[(b.paddingX*b.paddingFactorX),(b.paddingY*b.paddingFactorY)],false);b.xPos=b.getXposAlignedToManager();b.yPos=b.getYposAlignedToManager()}Ext.Array.include(a,b);b.el.animate({from:{x:b.el.getX(),y:b.el.getY()},to:{x:b.xPos,y:b.yPos,opacity:1},easing:b.slideInAnimation,duration:b.slideInDuration,dynamic:true})},slideBack:function(){var c=this;var b=c.getNotifications(c.managerAlignment);var a=Ext.Array.indexOf(b,c);if(!c.isHiding&&c.el&&c.manager&&c.manager.el&&c.manager.el.dom&&c.manager.el.isVisible()){if(a){c.xPos=c.getXposAlignedToSibling(b[a-1]);c.yPos=c.getYposAlignedToSibling(b[a-1])}else{c.xPos=c.getXposAlignedToManager();c.yPos=c.getYposAlignedToManager()}c.stopAnimation();c.el.animate({to:{x:c.xPos,y:c.yPos},easing:c.slideBackAnimation,duration:c.slideBackDuration,dynamic:true})}},cancelAutoClose:function(){var a=this;if(a.autoClose){a.task.cancel()}},doAutoClose:function(){var a=this;if(!(a.stickWhileHover&&a.mouseIsOver)){a.close()}else{a.closeOnMouseOut=true}},removeFromManager:function(){var c=this;if(c.manager){var b=c.getNotifications(c.managerAlignment);var a=Ext.Array.indexOf(b,c);if(a!=-1){Ext.Array.erase(b,a,1);for(;a<b.length;a++){b[a].slideBack()}}}},hide:function(){var a=this;if(a.isHiding){if(!a.isFading){a.callParent(arguments);a.isHiding=false}}else{a.isHiding=true;a.isFading=true;a.cancelAutoClose();if(a.el){a.el.fadeOut({opacity:0,easing:"easeIn",duration:a.hideDuration,remove:a.destroyAfterHide,listeners:{afteranimate:function(){a.isFading=false;a.removeCls("notification-fixed");a.removeFromManager();a.hide(a.animateTarget,a.doClose,a)}}})}}return a},destroy:function(){var a=this;if(!a.hidden){a.destroyAfterHide=true;a.hide(a.animateTarget,a.doClose,a)}else{a.callParent(arguments)}}});Ext.define("NX.view.message.Notification",{extend:"Ext.ux.window.Notification",alias:"widget.nx-message-notification",minWidth:200,maxWidth:400,autoShow:true,manager:"default",position:"tr",paddingX:10,paddingY:55,stickWhileHover:true,slideInDuration:800,slideBackDuration:1500,autoCloseDelay:4000,slideInAnimation:"elasticIn",slideBackAnimation:"elasticIn"});Ext.define("NX.controller.Message",{extend:"NX.app.Controller",requires:["NX.Icons"],views:["message.Notification"],init:function(){var a=this;a.getApplication().getIconController().addIcons({"message-default":{file:"bell.png",variants:["x16","x32"],preload:true},"message-primary":{file:"information.png",variants:["x16","x32"],preload:true},"message-danger":{file:"exclamation.png",variants:["x16","x32"],preload:true},"message-warning":{file:"warning.png",variants:["x16","x32"],preload:true},"message-success":{file:"accept.png",variants:["x16","x32"],preload:true}})},windowOptions:{},addMessage:function(b){if(!b.type){b.type="default"}b.timestamp=new Date();if(!this.messageExists(b)){var a=Ext.clone(this.windowOptions);this.getView("message.Notification").create(Ext.apply(a,{ui:"nx-message-"+b.type,iconCls:NX.Icons.cls("message-"+b.type,"x16"),title:Ext.String.capitalize(b.type),html:b.text}))}},messageExists:function(b){var a="nx-message-notification[title="+Ext.String.capitalize(b.type)+"]";var c=Ext.Array.filter(Ext.ComponentQuery.query(a),function(d){return Ext.String.trim(d.body.el.dom.innerText)==b.text});return c.length>0}});Ext.define("NX.view.dev.Permissions",{extend:"Ext.grid.Panel",requires:["NX.Permissions"],alias:"widget.nx-dev-permissions",title:"Permissions",store:"Permission",emptyText:"No permissions",viewConfig:{deferEmptyText:false,markDirty:false},columns:[{text:"permission",dataIndex:"id",flex:1,editor:{xtype:"textfield",allowBlank:false}},{xtype:"nx-iconcolumn",text:"Permitted",dataIndex:"permitted",width:100,align:"center",editor:"checkbox",iconVariant:"x16",iconName:function(a){return a?"permission-granted":"permission-denied"}}],plugins:[{pluginId:"editor",ptype:"rowediting",clicksToEdit:1,errorSummary:false},"gridfilterbox"],tbar:[{xtype:"button",text:"Add",action:"add"},{xtype:"button",text:"Delete",action:"delete",disabled:true}]});Ext.define("NX.view.dev.styles.Fonts",{extend:"NX.view.dev.styles.StyleSection",requires:["Ext.XTemplate"],title:"Fonts",layout:{type:"vbox",defaultMargins:{top:4,right:0,bottom:0,left:0}},initComponent:function(){var e=this;var d=Ext.create("Ext.XTemplate","<div>",'<span class="nx-section-header">{text}</span>','<p class="{clz}">',"Trusted applications at the speed of deployment<br/>","abcdefghijklmnopqrstuvwxyz<br/>","ABCDEFGHIJKLMNOPQRSTUVWXYZ<br/>",",1234567890?;.:*@#$%&/()=[]+","</p>","</div>");function c(g,h){return e.html(d.apply({text:g,clz:h}))}var b=Ext.create("Ext.XTemplate",'<table cellpadding="5">',"<thead>{thead}</thead>","<tbody>{tbody}</tbody>","</table>");var a=Ext.create("Ext.XTemplate",'<tpl for=".">',"<th>{.}</th>","</tpl>");var f=Ext.create("Ext.XTemplate",'<tpl foreach=".">',"<tr>","<td>{$}</td>",'<tpl for=".">','<tpl if="clz">','<td class="{clz}">{text}</td>',"<tpl else>","<td>{.}</td>","</tpl>","</tpl>","</tr>","</tpl>");e.items=[{xtype:"panel",title:"Faces",ui:"nx-subsection",layout:{type:"hbox",defaultMargins:{top:0,right:20,bottom:0,left:0}},items:[c("Proxima Nova Regular","nx-proxima-nova-regular"),c("Proxima Nova Bold","nx-proxima-nova-bold"),c("Courier New","nx-courier-new-regular")]},{xtype:"panel",title:"Styles",ui:"nx-subsection",items:[e.html(b.apply({thead:a.apply(["Name","Description","Font & Weight","Use Cases","Pixels","Sample"]),tbody:f.apply({h1:["Header","Proxima Nova Light","Logo","20",{text:"Sonatype Nexus",clz:"nx-sample-h1"}],h2:["Header","Proxima Nova Bold","Page Title","26",{text:"Development",clz:"nx-sample-h2"}],h3:["Header","Proxima Nova Bold","Header","22",{text:"Development",clz:"nx-sample-h3"}],h4:["Header","Proxima Nova Bold","Sub-Header","18",{text:"Development",clz:"nx-sample-h4"}],h5:["Header","Proxima Nova Bold","Sub-Header","13",{text:"Development",clz:"nx-sample-h5"}],"p/ul/ol":["Body","Proxima Nova Regular","Body text, lists, default size","13",{text:"Development",clz:"nx-sample-body"}],code:["Code","Courier New Regular","Code examples","13",{text:"Development",clz:"nx-sample-code"}],utility:["Small Text","Proxima Nova Regular","Labels, Side-Nav","10",{text:"Development",clz:"nx-sample-utility"}]})}))]}];e.callParent()}});Ext.define("NX.ext.form.field.Password",{extend:"Ext.form.field.Text",alias:"widget.nx-password",inputType:"password"});Ext.define("NX.Windows",{singleton:true,requires:["NX.Messages","NX.I18n"],mixins:{logAware:"NX.LogAware"},open:function(b,a,e,c){var d;if(e===undefined){e="menubar=yes,location=yes,resizable=yes,scrollbars=yes,status=yes"}d=NX.global.open(b,a,e,c);if(d===null){NX.Messages.add({text:NX.I18n.get("Windows_Popup_Message"),type:"danger"})}return d}});Ext.define("NX.view.AboutWindow",{extend:"NX.view.ModalDialog",alias:"widget.nx-aboutwindow",requires:["NX.I18n","NX.Icons","NX.State","NX.util.Url"],cls:"nx-aboutwindow",initComponent:function(){var a=this;a.layout={type:"vbox",align:"stretch"};a.height=480;a.width=NX.view.ModalDialog.LARGE_MODAL;a.title=NX.I18n.get("AboutWindow_Title");a.items=[{xtype:"container",cls:"summary",layout:{type:"hbox",align:"stretch"},items:[{xtype:"component",cls:"logo",html:NX.Icons.img("nexus","x100")},{xtype:"nx-info",itemId:"aboutInfo",flex:1}]},{xtype:"tabpanel",ui:"nx-light",flex:1,items:[{title:NX.I18n.get("AboutWindow_About_Title"),xtype:"uxiframe",src:NX.util.Url.urlOf("/COPYRIGHT.html")},{title:NX.I18n.get("AboutWindow_License_Tab"),xtype:"uxiframe",src:NX.util.Url.urlOf("/LICENSE.html")}]}];a.buttons=[{text:NX.I18n.get("Button_Close"),action:"close",ui:"nx-primary",handler:function(){a.close()}}];a.buttonAlign="left";a.callParent();a.down("#aboutInfo").showInfo({Version:NX.State.getVersion(),Edition:NX.State.getEdition(),"Build Revision":NX.State.getBuildRevision(),"Build Timestamp":NX.State.getBuildTimestamp()})}});Ext.define("NX.controller.Help",{extend:"NX.app.Controller",requires:["NX.Icons","NX.I18n","NX.Windows"],views:["header.Help","AboutWindow"],refs:[{ref:"featureHelp",selector:"nx-header-help menuitem[action=feature]"}],baseUrl:"http://links.sonatype.com/products/nexus",selectedFeature:undefined,init:function(){var a=this;a.getApplication().getIconController().addIcons({"help-support":{file:"support.png",variants:["x16","x32"]},"help-issues":{file:"bug.png",variants:["x16","x32"]},"help-manual":{file:"book_picture.png",variants:["x16","x32"]},"help-community":{file:"users_4.png",variants:["x16","x32"]},"help-kb":{file:"brain_trainer.png",variants:["x16","x32"]}});a.listen({controller:{"#Menu":{featureselected:a.onFeatureSelected}},component:{"nx-header-help menuitem[action=feature]":{click:a.onFeatureHelp},"nx-header-help menuitem[action=about]":{click:a.onAbout},"nx-header-help menuitem[action=docs]":{click:a.onDocs},"nx-header-help menuitem[action=support]":{click:a.onSupport},"nx-header-help menuitem[action=issues]":{click:a.onIssues},"nx-header-help menuitem[action=community]":{click:a.onCommunity},"nx-header-help menuitem[action=kb]":{click:a.onKnowledgeBase}}})},onFeatureSelected:function(b){var c=this,d=b.get("text"),e=b.get("iconName"),a=c.getFeatureHelp();c.selectedFeature=b;a.setText(NX.I18n.get("Help_Feature_Text")+d);a.setIconCls(NX.Icons.cls(e,"x16"))},openUrl:function(a){NX.Windows.open(this.baseUrl+"/"+a)},createUrl:function(a){return this.baseUrl+"/docs-search/"+NX.State.getVersionMajorMinor()+"/"+a},onFeatureHelp:function(){var c=this,a=c.selectedFeature.get("helpKeyword"),b=c.createUrl(a);NX.Windows.open(b)},onAbout:function(){Ext.widget("nx-aboutwindow")},onDocs:function(){NX.Windows.open(this.baseUrl+"/docs/"+NX.State.getVersionMajorMinor())},onSupport:function(){this.openUrl("support")},onIssues:function(){this.openUrl("issues")},onCommunity:function(){this.openUrl("community")},onKnowledgeBase:function(){this.openUrl("kb")}});Ext.define("NX.view.dev.Conditions",{extend:"Ext.grid.Panel",alias:"widget.nx-dev-conditions",title:"Conditions",store:"NX.store.dev.Condition",emptyText:"No condition",viewConfig:{deferEmptyText:false},columns:[{text:"id",dataIndex:"id",flex:1},{text:"condition",dataIndex:"condition",flex:3},{xtype:"nx-iconcolumn",text:"satisfied",dataIndex:"satisfied",width:80,align:"center",iconVariant:"x16",iconName:function(a){return a?"permission-granted":"permission-denied"}}],plugins:["gridfilterbox"],tbar:[{xtype:"checkbox",itemId:"showSatisfied",boxLabel:"Show Satisfied",value:true},{xtype:"checkbox",itemId:"showUnsatisfied",boxLabel:"Show Unsatisfied",value:true}]});Ext.define("NX.view.drilldown.Item",{extend:"Ext.panel.Panel",alias:"widget.nx-drilldown-item",itemName:null,itemClass:null,itemBookmark:null,cardIndex:0,layout:"card",setItemName:function(a){this.itemName=a},setItemClass:function(a){this.itemClass=a},setItemBookmark:function(b,a){this.itemBookmark=(b?{obj:b,scope:a}:null)},setCardIndex:function(a){this.cardIndex=a}});Ext.define("NX.view.footer.Branding",{extend:"Ext.container.Container",alias:"widget.nx-footer-branding"});Ext.define("NX.view.dev.Logging",{extend:"Ext.grid.Panel",alias:"widget.nx-dev-logging",title:"Logging",store:"LogEvent",emptyText:"No events in buffer",viewConfig:{deferEmptyText:false,enableTextSelection:true},multiSelect:true,stateful:true,stateId:"nx-dev-logging",columns:[{text:"level",dataIndex:"level"},{text:"logger",dataIndex:"logger",flex:1},{text:"message",dataIndex:"message",flex:3,renderer:function(a){return a.join(" ")}},{text:"timestamp",dataIndex:"timestamp",width:130}],tbar:[{xtype:"button",text:"Clear events",action:"clear",glyph:"xf12d@FontAwesome"},{xtype:"button",text:"Export selection",action:"export",glyph:"xf019@FontAwesome"},"-",{xtype:"label",text:"Threshold:"},{xtype:"combo",itemId:"threshold",store:"LogLevel",width:80,displayField:"name",valueField:"name",queryMode:"local",allowBlank:false,editable:false},"-",{xtype:"checkbox",itemId:"buffer",boxLabel:"Buffer"},{xtype:"numberfield",itemId:"bufferSize",width:50,allowDecimals:false,allowExponential:false,minValue:-1,maxValue:999,value:200,enableKeyEvents:true,hideTrigger:true,mouseWheelEnabled:false,keyNavEnabled:false},"-",{xtype:"checkbox",itemId:"console",boxLabel:"Mirror console"},{xtype:"checkbox",itemId:"remote",boxLabel:"Remote events"}],plugins:[{ptype:"rowexpander",rowBodyTpl:Ext.create("Ext.XTemplate",'<table class="nx-rowexpander">',"<tr>",'<td class="x-selectable">{[this.render(values)]}</td>',"</tr>","</table>",{compiled:true,render:function(a){return Ext.encode(a.message)}})},{ptype:"gridfilterbox"}]});Ext.define("NX.ext.form.OptionalFieldSet",{extend:"Ext.form.FieldSet",alias:"widget.nx-optionalfieldset",cls:"nx-optionalfieldset",initComponent:function(){var a=this;a.on("add",a.setupMonitorOnChange,a);a.callParent(arguments);a.on("collapse",a.enableContainedItems,a);a.on("expand",a.enableContainedItems,a);a.on("afterrender",a.enableContainedItems,a)},enableContainedItems:function(a,b){var c=this;if(!Ext.isDefined(b)){b=!a.collapsed}if(a.items){a.items.each(function(d){if(b){if(!d.disabledOnCollapse&&!d.isXType("container")){d.enable()}delete d.disabledOnCollapse;if(d.isXType("nx-optionalfieldset")){if(d.collapsedOnCollapse===false){d.expand()}delete d.collapsedOnCollapse}}else{if(!Ext.isDefined(d.disabledOnCollapse)){d.disabledOnCollapse=d.isDisabled()}if(!d.isXType("container")){d.disable()}if(d.isXType("nx-optionalfieldset")){if(!Ext.isDefined(d.collapsedOnCollapse)){d.collapsedOnCollapse=d.collapsed}d.collapse()}}if(!d.isXType("nx-optionalfieldset")){c.enableContainedItems(d,b)}if(Ext.isFunction(d.validate)){d.validate()}})}},setupMonitorOnChange:function(a,b){var c=this;if(c===a){c.mon(b,"change",function(e,d){if(d&&c.collapsed){c.expand();if(c.checkboxCmp){c.checkboxCmp.resetOriginalValue()}}})}}});Ext.define("NX.view.dev.styles.Messages",{extend:"NX.view.dev.styles.StyleSection",requires:["NX.Icons"],title:"Messages",layout:{type:"hbox",defaultMargins:{top:0,right:4,bottom:0,left:0}},initComponent:function(){var b=this;function a(e){var d="nx-message-"+e;var c=NX.Icons.cls("message-"+e,"x16");return{xtype:"window",ui:d,iconCls:c,title:e,html:"ui: '"+d+"'",hidden:false,collapsible:false,floating:false,closable:false,draggable:false,resizable:false,width:200}}b.items=[a("default"),a("primary"),a("danger"),a("warning"),a("success")];b.callParent()}});Ext.define("NX.view.dev.styles.Modals",{extend:"NX.view.dev.styles.StyleSection",requires:["NX.I18n"],title:"Modals",layout:{type:"hbox",defaultMargins:{top:0,right:4,bottom:0,left:0}},initComponent:function(){var a=this;a.items=[{xtype:"window",title:NX.I18n.get("SignIn_Title"),hidden:false,collapsible:false,floating:false,closable:false,draggable:false,resizable:false,width:320,cls:"fixed-modal",items:{xtype:"form",ui:"nx-inset",defaultType:"textfield",defaults:{anchor:"100%"},items:[{name:"username",itemId:"username",emptyText:NX.I18n.get("SignIn_Username_Empty"),allowBlank:false,validateOnBlur:false},{name:"password",itemId:"password",inputType:"password",emptyText:NX.I18n.get("SignIn_Password_Empty"),allowBlank:false,validateOnBlur:false}],buttonAlign:"left",buttons:[{text:NX.I18n.get("SignIn_Submit_Button"),formBind:true,bindToEnter:true,ui:"nx-primary"},{text:NX.I18n.get("SignIn_Cancel_Button")}]}},{xtype:"window",title:"Session",hidden:false,collapsible:false,floating:false,closable:false,draggable:false,resizable:false,width:320,cls:"fixed-modal",items:[{xtype:"label",text:"Session is about to expire",style:{color:"red","font-size":"20px",margin:"10px"}}],buttons:[{text:"Cancel"}]}];a.callParent()}});Ext.define("NX.view.dev.styles.Menus",{extend:"NX.view.dev.styles.StyleSection",title:"Menus",layout:{type:"hbox",defaultMargins:{top:0,right:4,bottom:0,left:0}},initComponent:function(){var a=this;function b(f,c,e,d){return{text:f,iconCls:c,tooltip:e,action:d}}a.items=[{xtype:"menu",floating:false,items:[b("Help for [Feature]","nx-icon-search-default-x16","Help for the current feature","feature"),"-",b("About","nx-icon-nexus-x16","About Nexus Repository Manager","about"),b("Documentation","nx-icon-help-manual-x16","Product documentation","docs"),b("Knowledge Base","nx-icon-help-kb-x16","Knowledge base","kb"),b("Community","nx-icon-help-community-x16","Community information","community"),b("Issue Tracker","nx-icon-help-issues-x16","Issue and bug tracker","issues"),"-",b("Support","nx-icon-help-support-x16","Product support","support")]}];a.callParent()}});Ext.define("NX.view.dev.styles.Forms",{extend:"NX.view.dev.styles.StyleSection",title:"Forms",layout:{type:"hbox",defaultMargins:{top:0,right:4,bottom:0,left:0}},initComponent:function(){var a=this;a.items=[{xtype:"form",items:[{xtype:"textfield",value:"Text Input",allowBlank:false,fieldLabel:"[Label]",helpText:"[Optional description text]",width:200},{xtype:"textarea",value:"Text Input",allowBlank:false,fieldLabel:"[Label]",helpText:"[Optional description text]",width:200},{xtype:"checkbox",boxLabel:"Checkbox",checked:true,fieldLabel:null,helpText:null},{xtype:"radio",boxLabel:"Radio Button",checked:true,fieldLabel:null,helpText:null}],buttons:[{text:"Submit",ui:"nx-primary"},{text:"Discard"}]},{xtype:"form",frame:true,collapsible:true,tools:[{type:"toggle"},{type:"close"},{type:"minimize"},{type:"maximize"},{type:"restore"},{type:"gear"},{type:"pin"},{type:"unpin"},{type:"right"},{type:"left"},{type:"down"},{type:"refresh"},{type:"minus"},{type:"plus"},{type:"help"},{type:"search"},{type:"save"},{type:"print"}],bodyPadding:"10 20",defaults:{anchor:"98%",msgTarget:"side",allowBlank:false},items:[{xtype:"label",text:"Plain Label"},{fieldLabel:"TextField",xtype:"textfield",name:"someField",emptyText:"Enter a value"},{fieldLabel:"ComboBox",xtype:"combo",store:["Foo","Bar"]},{fieldLabel:"DateField",xtype:"datefield",name:"date"},{fieldLabel:"TimeField",name:"time",xtype:"timefield"},{fieldLabel:"NumberField",xtype:"numberfield",name:"number",emptyText:"(This field is optional)",allowBlank:true},{fieldLabel:"TextArea",xtype:"textareafield",name:"message",cls:"x-form-valid",value:'This field is hard-coded to have the "valid" style (it will require some code changes to add/remove this style dynamically)'},{fieldLabel:"Checkboxes",xtype:"checkboxgroup",columns:[100,100],items:[{boxLabel:"Foo",checked:true,inputId:"fooChkInput"},{boxLabel:"Bar"}]},{fieldLabel:"Radios",xtype:"radiogroup",columns:[100,100],items:[{boxLabel:"Foo",checked:true,name:"radios"},{boxLabel:"Bar",name:"radios"}]},{hideLabel:true,xtype:"htmleditor",name:"html",enableColors:false,value:"Mouse over toolbar for tooltips.<br /><br />The HTMLEditor IFrame requires a refresh between a stylesheet switch to get accurate colors.",height:110},{xtype:"fieldset",title:"Plain Fieldset",items:[{hideLabel:true,xtype:"radiogroup",items:[{boxLabel:"Radio A",checked:true,name:"radiogrp2"},{boxLabel:"Radio B",name:"radiogrp2"}]}]},{xtype:"fieldset",title:"Collapsible Fieldset",collapsible:true,items:[{xtype:"checkbox",boxLabel:"Checkbox 1"},{xtype:"checkbox",boxLabel:"Checkbox 2"}]},{xtype:"fieldset",title:"Checkbox Fieldset",checkboxToggle:true,items:[{xtype:"radio",boxLabel:"Radio 1",name:"radiongrp1"},{xtype:"radio",boxLabel:"Radio 2",name:"radiongrp1"}]}],buttons:[{text:"Toggle Enabled",handler:function(){this.up("form").items.each(function(b){b.setDisabled(!b.disabled)})}},{text:"Reset Form",handler:function(){this.up("form").getForm().reset()}},{text:"Validate",handler:function(){this.up("form").getForm().isValid()}}]}];a.callParent()}});Ext.define("NX.view.dev.styles.Tabs",{extend:"NX.view.dev.styles.StyleSection",title:"Tabs",layout:{type:"vbox",defaultMargins:{top:4,right:0,bottom:0,left:0}},initComponent:function(){var b=this;function a(c){var d={xtype:"tabpanel",width:400,height:80,activeTab:0,ui:c,items:[{title:"Settings",items:{xtype:"panel",html:"A simple tab",ui:"nx-inset"}},{title:"Routing",items:{xtype:"panel",html:"Another one",ui:"nx-inset"}},{title:"Smart Proxy",items:{xtype:"panel",html:"Yet another",ui:"nx-inset"}},{title:"Health Check",items:{xtype:"panel",html:"And one more",ui:"nx-inset"}}]};return{xtype:"container",layout:{type:"vbox",defaultMargins:{top:4,right:0,bottom:0,left:0}},items:[b.label("ui: "+c),Ext.clone(d),b.label("ui: "+c+"; plain: true"),Ext.apply(d,{plain:true})]}}b.items=[a("default"),a("nx-light")];b.callParent()}});Ext.define("NX.view.dev.styles.Other",{extend:"NX.view.dev.styles.StyleSection",title:"Other",layout:{type:"vbox",defaultMargins:{top:4,right:0,bottom:0,left:0}},initComponent:function(){var a=this;a.items=[a.label("date picker"),{xtype:"datepicker"},a.label("sliders"),{xtype:"slider",hideLabel:true,value:50,margin:"5 0 0 0",anchor:"100%"},{xtype:"slider",vertical:true,value:50,height:100,margin:"5 0 0 0"}];a.callParent()}});Ext.define("NX.view.dev.styles.Panels",{extend:"NX.view.dev.styles.StyleSection",title:"Panels",layout:{type:"vbox",defaultMargins:{top:4,right:0,bottom:0,left:0}},initComponent:function(){var a=this;function b(c){return{layout:{type:"hbox",defaultMargins:{top:0,right:4,bottom:0,left:0}},items:[{xtype:"panel",title:c,ui:c,height:100,width:200,items:[{xtype:"container",html:"ui: "+c}]},{xtype:"panel",title:c+" framed",ui:c,frame:true,height:100,width:200,items:[{xtype:"container",html:"ui: "+c+"; frame: true"}]}]}}a.items=[b("default"),b("light"),b("nx-subsection")];a.callParent()}});Ext.define("NX.view.dev.styles.Grids",{extend:"NX.view.dev.styles.StyleSection",requires:["Ext.data.ArrayStore"],title:"Grids",initComponent:function(){var b=this,a;a=Ext.create("Ext.data.ArrayStore",{fields:["id","name"],data:[["foo","Foo"],["bar","Bar"],["baz","Baz"]]});b.items=[{xtype:"grid",store:a,height:200,width:200,columns:[{text:"ID",dataIndex:"id"},{text:"Name",dataIndex:"name"}]}];b.callParent()}});Ext.define("NX.view.dev.styles.Tooltips",{extend:"NX.view.dev.styles.StyleSection",title:"Tooltips",initComponent:function(){var a=this;a.items=[{xtype:"button",text:"Mouse over me",tooltip:"This is a tooltip"}];a.callParent()}});Ext.define("NX.view.dev.styles.Toolbars",{extend:"NX.view.dev.styles.StyleSection",title:"Toolbars",initComponent:function(){var b=this;function a(d){var c={xtype:"toolbar",items:["text",{xtype:"button",text:"plain"},{xtype:"button",text:"with glyph",glyph:"xf1b2@FontAwesome"},{xtype:"button",text:"with icon",iconCls:"nx-icon-help-kb-x16"}," ",{xtype:"button",text:"button menu",menu:[{text:"plain"},{text:"with glyph",glyph:"xf059@FontAwesome"},{text:"with icon",iconCls:"nx-icon-help-kb-x16"}]},"-",{xtype:"splitbutton",text:"split button",menu:Ext.widget("menu",{items:[{text:"Item 1"},{text:"Item 2"}]})},{xtype:"button",enableToggle:true,pressed:true,text:"toggle button"},"->",{xtype:"nx-searchbox",width:200}]};if(d){Ext.apply(c,{defaults:{scale:d}})}return c}b.items=[b.label("default"),a(undefined),b.label("scale: medium"),a("medium"),b.label("scale: large"),a("large")];b.callParent()}});Ext.define("NX.view.dev.styles.Colors",{extend:"NX.view.dev.styles.StyleSection",requires:["Ext.XTemplate"],title:"Colors",initComponent:function(){var e=this;var f=Ext.create("Ext.XTemplate","<div>",'<tpl for=".">','<div class="nx-hbox">{.}</div>',"</tpl>","</div>");var b=Ext.create("Ext.XTemplate","<div>",'<tpl for=".">','<div class="nx-vbox">{.}</div>',"</tpl>","</div>");var c=Ext.create("Ext.XTemplate",'<span class="{clz}">{text}</span>');var a=Ext.create("Ext.XTemplate",'<div style="margins: 0 20px 20px 0">','<tpl for="."><div style="float: left;">{.}</div></tpl>',"</div>");var d=Ext.create("Ext.XTemplate","<div>",'<div height="40" width="80" class="{clz}"></div>',"<div>{name}</div>","<div>{value}</div>","</div>");e.items=[{xtype:"container",layout:{type:"vbox",padding:4},items:[e.html(b.apply([c.apply({text:"Shell",clz:"nx-section-header"}),a.apply([d.apply({clz:"nx-color black",name:"Black",value:"#000000"}),d.apply({clz:"nx-color night-rider",name:"Night Rider",value:"#333333"}),d.apply({clz:"nx-color charcoal",name:"Charcoal",value:"#444444"}),d.apply({clz:"nx-color dark-gray",name:"Dark Gray",value:"#777777"}),d.apply({clz:"nx-color gray",name:"Gray",value:"#AAAAAA"}),d.apply({clz:"nx-color light-gray",name:"Light Gray",value:"#CBCBCB"}),d.apply({clz:"nx-color gainsboro",name:"Gainsboro",value:"#DDDDDD"}),d.apply({clz:"nx-color smoke",name:"Smoke",value:"#EBEBEB"}),d.apply({clz:"nx-color light-smoke",name:"Light Smoke",value:"#F4F4F4"}),d.apply({clz:"nx-color white",name:"White",value:"#FFFFFF"})])])),e.html(f.apply([b.apply([c.apply({text:"Severity",clz:"nx-section-header"}),a.apply([d.apply({clz:"nx-color cerise",name:"Cerise",value:"#DB2852"}),d.apply({clz:"nx-color sun",name:"Sun",value:"#F2862F"}),d.apply({clz:"nx-color energy-yellow",name:"Energy Yellow",value:"#F5C649"}),d.apply({clz:"nx-color cobalt",name:"Cobalt",value:"#0047B2"}),d.apply({clz:"nx-color cerulean-blue",name:"Cerulean Blue",value:"#2476C3"})])]),b.apply([c.apply({text:"Forms",clz:"nx-section-header"}),a.apply([d.apply({clz:"nx-color citrus",name:"Citrus",value:"#84C900"}),d.apply({clz:"nx-color free-speech-red",name:"Free Speech Red",value:"#C70000"})])]),b.apply([c.apply({text:"Tooltip",clz:"nx-section-header"}),a.apply([d.apply({clz:"nx-color energy-yellow",name:"Energy Yellow",value:"#F5C649"}),d.apply({clz:"nx-color floral-white",name:"Floral White",value:"#FFFAEE"})])])])),e.html(b.apply([c.apply({text:"Dashboard",clz:"nx-section-header"}),a.apply([d.apply({clz:"nx-color pigment-green",name:"Pigment Green",value:"#0B9743"}),d.apply({clz:"nx-color madang",name:"Madang",value:"#B6E9AB"}),d.apply({clz:"nx-color venetian-red",name:"Venetian Red",value:"#BC0430"}),d.apply({clz:"nx-color beauty-bush",name:"Beauty Bush",value:"#EDB2AF"}),d.apply({clz:"nx-color navy-blue",name:"Navy Blue",value:"#006BBF"}),d.apply({clz:"nx-color cornflower",name:"Cornflower",value:"#96CAEE"}),d.apply({clz:"nx-color east-side",name:"East Side",value:"#B087B9"}),d.apply({clz:"nx-color blue-chalk",name:"Blue Chalk",value:"#DAC5DF"})])])),e.html(f.apply([b.apply([c.apply({text:"Buttons",clz:"nx-section-header"}),a.apply([d.apply({clz:"nx-color white",name:"White",value:"#FFFFFF"}),d.apply({clz:"nx-color light-gainsboro",name:"Light Gainsboro",value:"#E6E6E6"}),d.apply({clz:"nx-color light-gray",name:"Light Gray",value:"#CBCBCB"}),d.apply({clz:"nx-color silver",name:"Silver",value:"#B8B8B8"}),d.apply({clz:"nx-color suva-gray",name:"Suva Gray",value:"#919191"}),d.apply({clz:"nx-color gray",name:"Gray",value:"#808080"})]),a.apply([d.apply({clz:"nx-color denim",name:"Denim",value:"#197AC5"}),d.apply({clz:"nx-color light-cobalt",name:"Light Cobalt",value:"#0161AD"}),d.apply({clz:"nx-color dark-denim",name:"Dark Denim",value:"#14629E"}),d.apply({clz:"nx-color smalt",name:"Smalt",value:"#014E8A"}),d.apply({clz:"nx-color dark-cerulean",name:"Dark Cerulean",value:"#0F4976"}),d.apply({clz:"nx-color prussian-blue",name:"Prussian Blue",value:"#013A68"})]),a.apply([d.apply({clz:"nx-color light-cerise",name:"Light Cerise",value:"#DE3D63"}),d.apply({clz:"nx-color brick-red",name:"Brick Red",value:"#C6254B"}),d.apply({clz:"nx-color old-rose",name:"Old Rose",value:"#B2314F"}),d.apply({clz:"nx-color fire-brick",name:"Fire Brick",value:"#9E1E3C"}),d.apply({clz:"nx-color shiraz",name:"Shiraz",value:"#85253B"}),d.apply({clz:"nx-color falu-red",name:"Falu Red",value:"#77162D"})]),a.apply([d.apply({clz:"nx-color sea-buckthorn",name:"Sea Buckthorn",value:"#F39244"}),d.apply({clz:"nx-color tahiti-gold",name:"Tahiti Gold",value:"#DA792B"}),d.apply({clz:"nx-color zest",name:"Zest",value:"#C17536"}),d.apply({clz:"nx-color rich-gold",name:"Rich Gold",value:"#AE6122"}),d.apply({clz:"nx-color afghan-tan",name:"Afghan Tan",value:"#925829"}),d.apply({clz:"nx-color russet",name:"Russet",value:"#83491A"})]),a.apply([d.apply({clz:"nx-color elf-green",name:"Elf Green",value:"#23A156"}),d.apply({clz:"nx-color dark-pigment-green",name:"Dark Pigment Green",value:"#0B893D"}),d.apply({clz:"nx-color salem",name:"Salem",value:"#1C8145"}),d.apply({clz:"nx-color jewel",name:"Jewel",value:"#096E31"}),d.apply({clz:"nx-color fun-green",name:"Fun Green",value:"#156134"}),d.apply({clz:"nx-color dark-jewel",name:"Dark Jewel",value:"#0C4F26"})])]),b.apply([c.apply({text:"Font Awesome Icons",clz:"nx-section-header"}),a.apply([d.apply({clz:"nx-color navy-blue",name:"Navy Blue",value:"#006BBF"}),d.apply({clz:"nx-color smalt",name:"Smalt",value:"#014E8A"}),d.apply({clz:"nx-color prussian-blue",name:"Prussian Blue",value:"#013A68"})]),a.apply([d.apply({clz:"nx-color white",name:"White",value:"#FFFFFF"}),d.apply({clz:"nx-color gainsboro",name:"Gainsboro",value:"#DDDDDD"}),d.apply({clz:"nx-color gray",name:"Gray",value:"#AAAAAA"})])])]))]}];e.callParent()}});Ext.define("NX.view.dev.styles.Buttons",{extend:"NX.view.dev.styles.StyleSection",requires:["Ext.XTemplate"],title:"Buttons",layout:{type:"vbox",defaultMargins:{top:4,right:0,bottom:0,left:0}},initComponent:function(){var c=this;var a=Ext.create("Ext.XTemplate","<table>",'<tpl for=".">',"<tr>",'<td><div class="nx-color {.}"></div></td>','<td><div style="padding: 0 10px 0 0">$color-{.}</div></td>',"</tr>","</tpl>","</table>");function b(h,j,f,g,i){var e={xtype:"button",text:j,ui:h,margin:"0 10 10 0",width:100};if(f){e.disabled=true}if(g){e.pressed=true;e.enableToggle=true}if(i){e.menu=[{text:"First"},"-",{text:"Second"}]}else{e.glyph="xf036@FontAwesome"}return e}function d(f,e){return{xtype:"container",layout:{type:"hbox",defaultMargins:{top:0,right:4,bottom:0,left:0}},items:[c.label("ui: "+f,{width:80}),b(f,f,false,false,false),b(f,f,true,false,false),b(f,f,false,false,true),c.html(a.apply(e))]}}c.items=[d("default",["white","light-gainsboro","light-gray","silver","suva-gray","gray"]),d("nx-plain",["white","light-gainsboro","light-gray","silver","suva-gray","gray"]),d("nx-primary",["denim","light-cobalt","dark-denim","smalt","dark-cerulean","prussian-blue"]),d("nx-danger",["light-cerise","brick-red","old-rose","fire-brick","shiraz","falu-red"]),d("nx-warning",["sea-buckthorn","tahiti-gold","zest","rich-gold","afghan-tan","russet"]),d("nx-success",["elf-green","dark-pigment-green","salem","jewel","fun-green","dark-jewel"])];c.callParent()}});Ext.define("NX.view.dev.Styles",{extend:"Ext.panel.Panel",alias:"widget.nx-dev-styles",requires:["NX.view.dev.styles.Colors","NX.view.dev.styles.Fonts","NX.view.dev.styles.Buttons","NX.view.dev.styles.Forms","NX.view.dev.styles.Messages","NX.view.dev.styles.Modals","NX.view.dev.styles.Menus","NX.view.dev.styles.Tabs","NX.view.dev.styles.Pickers","NX.view.dev.styles.Tooltips","NX.view.dev.styles.Panels","NX.view.dev.styles.Toolbars","NX.view.dev.styles.Grids","NX.view.dev.styles.Other"],mixins:{logAware:"NX.LogAware"},title:"Styles",layout:{type:"vbox",defaultMargins:{top:0,right:4,bottom:10,left:0}},defaults:{width:"100%"},initComponent:function(){var a=this;a.on("activate",function(){var b=["Colors","Fonts","Buttons","Forms","Messages","Modals","Menus","Tooltips","Tabs","Pickers","Panels","Toolbars","Grids","Other"];a.logDebug("Creating style guide");Ext.Array.each(b,function(c){a.add(Ext.create("NX.view.dev.styles."+c))});a.logDebug("Style guide ready")});a.on("deactivate",function(){a.removeAll(true);a.logDebug("Destroyed style guide")});a.callParent()}});Ext.define("NX.view.dev.Tests",{extend:"Ext.panel.Panel",alias:"widget.nx-dev-tests",title:"Tests",layout:{type:"vbox",padding:4,defaultMargins:{top:0,right:0,bottom:4,left:0}},items:[{xtype:"button",text:"clear local state",action:"clearLocalState"},{xtype:"button",text:"javascript error",action:"testError"},{xtype:"button",text:"ext error",action:"testExtError"},{xtype:"button",text:"message types",action:"testMessages"},{xtype:"button",text:"toggle unsupported browser",action:"toggleUnsupportedBrowser"},{xtype:"button",text:"show license expiry warning",action:"showLicenseWarning"},{xtype:"button",text:"show quorum warning",action:"showQuorumWarning"}]});Ext.define("NX.store.Icon",{extend:"Ext.data.Store",model:"NX.model.Icon"});Ext.define("NX.ext.form.field.Hostname",{extend:"Ext.form.field.Text",alias:"widget.nx-hostname",vtype:"nx-hostname",maskRe:/\S/});Ext.define("NX.view.drilldown.Actions",{extend:"Ext.toolbar.Toolbar",alias:"widget.nx-actions",cls:"nx-actions",dock:"top"});Ext.define("NX.ext.form.field.Checkbox",{override:"Ext.form.field.Checkbox",width:undefined,initComponent:function(){var a=this;if(a.helpText&&!a.isHelpTextPlaced){a.boxLabel='<span class="nx-boxlabel">'+a.helpText+"</span>";a.isHelpTextPlaced=true}a.callParent(arguments)}});Ext.define("NX.ext.grid.column.Icon",{extend:"Ext.grid.column.Column",alias:"widget.nx-iconcolumn",requires:["Ext.DomHelper","NX.Icons"],hideable:false,sortable:false,menuDisabled:true,resizable:false,draggable:false,stateId:"icon",defaultRenderer:function(g,h,c){var f=this,b,a=f.iconHeight,e=f.iconWidth,d;b=f.iconCls(g,h,c);if(f.iconVariant){switch(f.iconVariant){case"x16":a=e=16;break;case"x32":a=e=32;break}}d={tag:"img",src:Ext.BLANK_IMAGE_URL,cls:b,alt:f.iconName(g,h,c)};if(a){d.height=a}if(e){d.width=e}return Ext.DomHelper.markup(d)},iconName:function(b,c,a){return b},iconCls:function(d,e,a){var c=this,b=c.iconName(d,e,a);if(c.iconNamePrefix){b=c.iconNamePrefix+b}return NX.Icons.cls(b,c.iconVariant)}});Ext.define("NX.model.Permission",{extend:"Ext.data.Model",requires:["NX.Permissions"],idProperty:"id",fields:[{name:"id",type:"string"},{name:"permitted",type:"bool",defaultValue:true}]});Ext.define("NX.store.Permission",{extend:"Ext.data.Store",model:"NX.model.Permission",proxy:{type:"direct",paramsAsHash:false,api:{read:"NX.direct.rapture_Security.getPermissions"},reader:{type:"json",root:"data",idProperty:"id",successProperty:"success"}},sortOnLoad:true,sorters:{property:"id",direction:"ASC"}});Ext.define("NX.controller.dev.Permissions",{extend:"NX.app.Controller",requires:["NX.Permissions"],stores:["Permission"],models:["Permission"],views:["dev.Permissions"],refs:[{ref:"grid",selector:"nx-dev-permissions"}],init:function(){var a=this;a.getApplication().getIconController().addIcons({"permission-granted":{file:"tick.png",variants:["x16","x32"]},"permission-denied":{file:"cross.png",variants:["x16","x32"]}});a.listen({component:{"nx-dev-permissions":{beforeedit:a.beforeEdit,canceledit:a.cancelEdit,validateedit:a.update,selectionchange:a.onSelectionChange},"nx-dev-permissions button[action=add]":{click:a.add},"nx-dev-permissions button[action=delete]":{click:a.deleteModel}}})},add:function(){var d=this,b=d.getGrid(),c=b.getPlugin("editor"),a=d.getPermissionModel().create();c.cancelEdit();b.getStore().insert(0,a);c.startEdit(a,0)},deleteModel:function(){var a=this.getGrid(),b=a.getPlugin("editor");b.cancelEdit();a.getStore().remove(a.getSelectionModel().getSelection())},beforeEdit:function(c,b){var a=c.editor.form.findField("id");if(b.record.get("id")){a.disable()}else{a.enable()}},cancelEdit:function(b,a){if(!a.record.get("id")){a.store.remove(a.record)}},update:function(b,a){a.record.set("permitted",a.newValues.permitted);a.record.commit()},onSelectionChange:function(a,b){var c=this.getGrid().down("button[action=delete]");c.setDisabled(!b.length)}});Ext.define("NX.ext.form.field.RegExp",{extend:"Ext.form.field.Text",alias:"widget.nx-regexp",validator:function(b){try{new RegExp(b)}catch(a){return a.message}return true}});Ext.define("NX.ext.grid.plugin.RemoteFilterBox",{extend:"Ext.AbstractPlugin",alias:"plugin.remotegridfilterbox",requires:["NX.I18n","NX.util.Filter"],init:function(b){var c=this,d=b.getDockedItems('toolbar[dock="top"]')[0],a=["->",{xtype:"nx-searchbox",emptyText:NX.I18n.get("Grid_Plugin_FilterBox_Empty"),searchDelay:200,width:200,listeners:{search:c.onSearch,searchcleared:c.onSearchCleared,scope:c}}];c.grid=b;c.callParent(arguments);if(d){d.add(a)}else{b.addDocked([{xtype:"nx-actions",dock:"top",items:a}])}c.grid.on("filteringautocleared",c.syncSearchBox,c)},syncSearchBox:function(){var a=this;a.grid.down("nx-searchbox").setValue(a.filterValue)},clearSearch:function(){var a=this;a.grid.down("nx-searchbox").clearSearch()},onSearch:function(e,d){var c=e.up("grid"),b=c.getStore(),a=c.getView().emptyTextFilter;if(!c.emptyText){c.emptyText=c.getView().emptyText}c.getView().emptyText=NX.util.Filter.buildEmptyResult(d,a);c.getSelectionModel().deselectAll();b.addFilter([{id:"filter",property:"filter",value:d}])},onSearchCleared:function(c){var b=c.up("grid"),a=b.getStore();if(b.emptyText){b.getView().emptyText=b.emptyText}b.getSelectionModel().deselectAll();if(a.filters.removeAtKey("filter")){if(a.filters.length){a.filter()}else{a.clearFilter()}}}});Ext.define("Ext.patch.Ticket_17866",{override:"Ext.menu.Menu",onMouseLeave:function(c){var b=this;var a=false;b.items.each(function(d){if(d.menu&&d.menu.isVisible()){a=true}});if(a){return}b.deactivateActiveItem();if(b.disabled){return}b.fireEvent("mouseleave",b,c)}});Ext.define("NX.model.LogLevel",{extend:"Ext.data.Model",idProperty:"name",fields:[{name:"name",type:"string"}]});Ext.define("NX.store.LogLevel",{extend:"Ext.data.Store",model:"NX.model.LogLevel",data:[{name:"all"},{name:"trace"},{name:"debug"},{name:"info"},{name:"warn"},{name:"error"},{name:"off"}]});Ext.define("NX.util.DownloadHelper",{singleton:true,requires:["NX.Messages","NX.Windows","NX.I18n"],mixins:{logAware:"NX.LogAware"},windowId:"nx-download-frame",windowName:"nx_download_frame",getFrame:function(){var a=this,b;b=Ext.get(a.windowId);if(!b){b=Ext.getBody().createChild({tag:"iframe",cls:"x-hidden",id:a.windowId,name:a.windowName})}return b},downloadUrl:function(a){var b=this;b.getFrame();if(NX.Windows.open(a,b.windowName)!==null){NX.Messages.add({text:NX.I18n.get("Util_DownloadHelper_Download_Message"),type:"success"})}}});Ext.define("NX.wizard.Step",{alias:"widget.nx-wizard-step",requires:["NX.Assert"],mixins:{observable:"Ext.util.Observable",logAware:"NX.LogAware"},config:{screen:undefined,resetOnBack:false,enabled:true},controller:undefined,name:undefined,screenClass:undefined,screenXtype:undefined,constructor:function(a){var b=this;b.mixins.observable.constructor.call(b,a);b.initConfig(a);b.name=Ext.getClassName(b);b.screenClass=Ext.ClassManager.get(b.screen);b.screenXtype=b.screenClass.xtype},getName:function(){return this.name},getScreenClass:function(){return this.screenClass},getScreenXtype:function(){return this.screenXtype},getScreenCmp:function(){var b=this.screenXtype,a=Ext.ComponentQuery.query(b);if(a.length===0){return undefined}return a[0]},createScreenCmp:function(){return{xtype:this.screenXtype}},attach:function(a){var b=this;b.controller=a;b.controller.control(b.screenXtype,{activate:{fn:b.doActivate,scope:b}});b.init()},init:Ext.emptyFn,prepared:false,doActivate:function(){var a=this;if(!a.prepared){a.prepare();a.prepared=true}},prepare:Ext.emptyFn,refresh:Ext.emptyFn,reset:function(){this.prepared=false;this.enabled=true},control:function(a){var b=this,d=b.screenXtype,c=b.controller;Ext.Object.each(a,function(e,f){var g;if(e==="$screen"){g=d}else{g=d+" "+e}c.control(g,b.normalizeListeners(f))})},normalizeListeners:function(a){var c=this,b,d;for(b in a){if(a.hasOwnProperty(b)){d=a[b];if(Ext.isFunction(d)){d={fn:d,scope:c};a[b]=d}else{Ext.applyIf(d,{scope:c})}}}return a},listen:function(f){var c=this,e,b,a,d=c.controller;for(e in f){if(f.hasOwnProperty(e)){b=f[e];for(a in b){if(b.hasOwnProperty(a)){c.normalizeListeners(b[a])}}}}d.listen(f)},getContext:function(){return this.controller.getContext()},get:function(a){return this.getContext().get(a)},set:function(a,b){this.getContext().add(a,b)},unset:function(a){this.getContext().removeAtKey(a)},moveNext:function(){this.controller.moveNext()},moveBack:function(){this.controller.moveBack();if(this.resetOnBack){this.reset()}},cancel:function(){this.controller.cancel()},finish:function(){this.controller.finish()},getStore:function(a){return this.controller.getStore(a)},mask:function(a){this.controller.mask(a)},unmask:function(){this.controller.unmask()}});Ext.define("NX.ext.form.field.Base",{override:"Ext.form.field.Base",width:600,labelAlign:"top",labelStyle:"font-weight: bold;",msgTarget:"under",hideIfUndefined:false,isHelpTextPlaced:false,initComponent:function(){var a=this;if(a.helpText&&!a.isHelpTextPlaced){a.beforeSubTpl='<span class="nx-boxlabel">'+a.helpText+"</span>";a.isHelpTextPlaced=true}a.callParent(arguments)},setValue:function(b){var a=this;a.callParent(arguments);if(a.readOnly&&a.hideIfUndefined){if(b){a.show()}else{a.hide()}}}});Ext.define("NX.view.Unlicensed",{extend:"Ext.container.Container",alias:"widget.nx-unlicensed",cls:"nx-unlicensed",layout:"border",items:[{xtype:"nx-header-panel",region:"north",collapsible:false},{xtype:"panel",region:"center",layout:{type:"vbox",align:"center",pack:"center"},items:[{xtype:"label",cls:"title",html:"Product License Required"},{xtype:"label",cls:"description",text:"A license is required to use this product."}]},{xtype:"nx-footer",region:"south",hidden:false},{xtype:"nx-dev-panel",region:"south",collapsible:true,collapsed:true,resizable:true,resizeHandles:"n",height:300,hidden:true}]});Ext.define("NX.ext.form.field.ItemOrderer",{extend:"Ext.ux.form.MultiSelect",alias:"widget.nx-itemorderer",requires:["Ext.button.Button","Ext.ux.form.MultiSelect"],hideNavIcons:false,buttons:["top","up","down","bottom"],buttonsText:{top:"Move to Top",up:"Move Up",down:"Move Down",bottom:"Move to Bottom"},buttonsGlyph:{top:"xf102@FontAwesome",up:"xf106@FontAwesome",down:"xf107@FontAwesome",bottom:"xf103@FontAwesome"},layout:{type:"hbox",align:"stretch"},initComponent:function(){var a=this;a.ddGroup=a.id+"-dd";a.callParent();a.bindStore(a.store)},setupItems:function(){var a=this;a.orderField=Ext.create("Ext.ux.form.MultiSelect",{submitValue:false,getSubmitData:function(){return null},getModelData:function(){return null},flex:1,dragGroup:a.ddGroup,dropGroup:a.ddGroup,title:a.title,store:{model:a.store.model,data:[]},displayField:a.displayField,valueField:a.valueField,disabled:a.disabled,listeners:{boundList:{scope:a,drop:a.syncValue}}});return[a.orderField,{xtype:"container",margins:"0 4",layout:{type:"vbox",pack:"center"},items:a.createButtons()}]},createButtons:function(){var b=this,a=[];if(!b.hideNavIcons){Ext.Array.forEach(b.buttons,function(c){a.push({xtype:"button",tooltip:b.buttonsText[c],glyph:b.buttonsGlyph[c],handler:b["on"+Ext.String.capitalize(c)+"BtnClick"],navBtn:true,scope:b,margin:"4 0 0 0"})})}return a},getSelections:function(b){var a=b.getStore();return Ext.Array.sort(b.getSelectionModel().getSelection(),function(d,c){d=a.indexOf(d);c=a.indexOf(c);if(d<c){return -1}else{if(d>c){return 1}}return 0})},onTopBtnClick:function(){var c=this,d=c.orderField.boundList,a=d.getStore(),b=c.getSelections(d);a.suspendEvents();a.remove(b,true);a.insert(0,b);a.resumeEvents();d.refresh();c.syncValue();d.getSelectionModel().select(b)},onBottomBtnClick:function(){var c=this,d=c.orderField.boundList,a=d.getStore(),b=c.getSelections(d);a.suspendEvents();a.remove(b,true);a.add(b);a.resumeEvents();d.refresh();c.syncValue();d.getSelectionModel().select(b)},onUpBtnClick:function(){var f=this,g=f.orderField.boundList,b=g.getStore(),e=f.getSelections(g),h,d=0,a=e.length,c=0;b.suspendEvents();for(;d<a;++d,c++){h=e[d];c=Math.max(c,b.indexOf(h)-1);b.remove(h,true);b.insert(c,h)}b.resumeEvents();g.refresh();f.syncValue();g.getSelectionModel().select(e)},onDownBtnClick:function(){var e=this,f=e.orderField.boundList,a=f.getStore(),d=e.getSelections(f),g,c=d.length-1,b=a.getCount()-1;a.suspendEvents();for(;c>-1;--c,b--){g=d[c];b=Math.min(b,a.indexOf(g)+1);a.remove(g,true);a.insert(b,g)}a.resumeEvents();f.refresh();e.syncValue();f.getSelectionModel().select(d)},syncValue:function(){var a=this;a.mixins.field.setValue.call(a,a.setupValue(a.orderField.store.getRange()))},setValue:function(a){},onBindStore:function(a){var b=this;if(b.orderField){if(a.getCount()){b.populateStore(a)}else{b.store.on("load",b.populateStore,b)}}},populateStore:function(a){var c=this,b=c.orderField.store;c.storePopulated=true;b.removeAll();b.add(a.getRange());c.syncValue();b.fireEvent("load",b)},onEnable:function(){var a=this;a.callParent();a.orderField.enable();Ext.Array.forEach(a.query("[navBtn]"),function(b){b.enable()})},onDisable:function(){var a=this;a.callParent();a.orderField.disable();Ext.Array.forEach(a.query("[navBtn]"),function(b){b.disable()})},onDestroy:function(){var a=this;if(a.store){a.store.un("load",a.populateStore,a)}a.bindStore(null);a.callParent()}});Ext.define("NX.view.header.Branding",{extend:"Ext.container.Container",alias:"widget.nx-header-branding"});Ext.define("NX.view.header.Logo",{extend:"Ext.Img",requires:["NX.Icons"],alias:"widget.nx-header-logo",autoEl:"span",height:32,width:32,initComponent:function(){this.setSrc(NX.Icons.url("nexus","x32"));this.callParent()}});Ext.define("NX.ext.SearchBox",{extend:"Ext.form.field.Trigger",alias:"widget.nx-searchbox",requires:["Ext.util.KeyNav"],emptyText:"search",submitValue:false,searchDelay:1000,trigger1Cls:"nx-form-fa-times-circle-trigger",initComponent:function(){var a=this;Ext.apply(a,{checkChangeBuffer:a.searchDelay});a.callParent(arguments);a.on("change",a.onValueChange,a);a.addEvents("beforesearch","search","searchcleared")},initEvents:function(){var a=this;a.callParent();a.keyNav=new Ext.util.KeyNav(a.inputEl,{esc:{handler:a.clearSearch,scope:a,defaultEventAction:false},enter:{handler:a.onEnter,scope:a,defaultEventAction:false},scope:a,forceKeyDown:true})},onTrigger1Click:function(){this.clearSearch()},onEnter:function(){var a=this;a.search(a.getValue())},onValueChange:function(a,c){var b=this;if(c){b.search(c)}else{b.clearSearch()}b.resetOriginalValue()},search:function(b){var a=this;if(b!==a.getValue()){a.setValue(b)}else{if(a.fireEvent("beforesearch",a)){a.fireEvent("search",a,b)}}},clearSearch:function(){var a=this;if(a.getValue()){a.setValue(undefined)}a.fireEvent("searchcleared",a)}});Ext.define("NX.view.header.QuickSearch",{extend:"NX.ext.SearchBox",alias:"widget.nx-header-quicksearch",requires:["NX.I18n"],initComponent:function(){Ext.apply(this,{itemId:"quicksearch",cls:"nx-quicksearch",width:200,emptyText:NX.I18n.get("Header_QuickSearch_Empty"),inputAttrTpl:"data-qtip='"+NX.I18n.get("Header_QuickSearch_Tooltip")+"'"});this.callParent()}});Ext.define("NX.view.Main",{extend:"Ext.panel.Panel",alias:"widget.nx-main",requires:["NX.I18n","NX.Icons","NX.view.header.QuickSearch"],layout:"border",initComponent:function(){var a=this;a.items=[{xtype:"panel",layout:{type:"vbox",align:"stretch"},items:[{xtype:"panel",ui:"nx-database-freeze-warning",id:"nx-database-freeze-warning",iconCls:NX.Icons.cls("drilldown-warning","x16"),hidden:true},{xtype:"panel",ui:"nx-license-warning",id:"nx-license-warning",iconCls:NX.Icons.cls("drilldown-warning","x16"),hidden:true},{xtype:"nx-header-panel"}],region:"north",collapsible:false},{xtype:"nx-feature-menu",region:"west",border:false,resizable:true,resizeHandles:"e"},{xtype:"nx-feature-content",region:"center",border:true},{xtype:"nx-footer",region:"south",hidden:false},{xtype:"nx-dev-panel",region:"south",collapsible:true,collapsed:true,resizable:true,resizeHandles:"n",height:300,hidden:true}];a.callParent();a.down("nx-header-panel>toolbar").add([" "," ",{xtype:"nx-header-mode",name:"browse",title:NX.I18n.get("Header_BrowseMode_Title"),tooltip:NX.I18n.get("Header_BrowseMode_Tooltip"),glyph:"xf1b2@FontAwesome",autoHide:true,collapseMenu:true},{xtype:"nx-header-mode",name:"admin",title:NX.I18n.get("Header_AdminMode_Title"),tooltip:NX.I18n.get("Header_AdminMode_Tooltip"),glyph:"xf013@FontAwesome",autoHide:true,collapseMenu:false}," ",{xtype:"nx-header-quicksearch",hidden:true},"->",{xtype:"nx-header-refresh",ui:"nx-header"},{xtype:"nx-header-help",ui:"nx-header"},{xtype:"nx-header-mode",name:"user",title:NX.I18n.get("Header_UserMode_Title"),glyph:"xf007@FontAwesome",autoHide:false,collapseMenu:false},{xtype:"nx-header-signin",ui:"nx-header"},{xtype:"nx-header-signout",ui:"nx-header"}])}});Ext.define("NX.view.footer.Panel",{extend:"Ext.container.Container",alias:"widget.nx-footer",requires:["NX.I18n"],cls:"nx-footer",initComponent:function(){Ext.apply(this,{layout:{type:"vbox",align:"stretch",pack:"start"},items:[{xtype:"container",cls:"copyright",html:NX.I18n.get("Footer_Panel_HTML")},{xtype:"nx-footer-branding",hidden:true}]});this.callParent()}});Ext.define("NX.controller.Main",{extend:"NX.app.Controller",views:["Main","header.Panel","header.Branding","header.Logo","footer.Panel","footer.Branding"],refs:[{ref:"viewport",selector:"viewport"},{ref:"main",selector:"nx-main"}],init:function(){var a=this;a.getApplication().getIconController().addIcons({nexus:{file:"nexus.png",variants:["x16","x24","x32","x48","x100"]},sonatype:{file:"sonatype.png",variants:["x16","x24","x32","x48","x100"]}});a.listen({component:{viewport:{afterrender:a.onLaunch}}})},onLaunch:function(){var b=this,a=b.getViewport();if(a){a.add({xtype:"nx-main"})}},onDestroy:function(){var b=this,a=b.getViewport();if(a){a.remove(b.getMain())}}});Ext.define("NX.ext.grid.column.CopyLink",{extend:"Ext.grid.column.Column",alias:["widget.nx-copylinkcolumn"],requires:["NX.util.Url"],stateId:"copylink",constructor:function(){var a=this;a.listeners={click:function(){return false}};a.callParent(arguments)},defaultRenderer:function(a){if(a){a=a.replace(/\$baseUrl/,NX.util.Url.baseUrl);return NX.util.Url.asCopyWidget(a)}return undefined},target:function(a){return a}});Ext.define("NX.view.feature.Content",{extend:"Ext.panel.Panel",alias:"widget.nx-feature-content",itemId:"feature-content",ui:"nx-feature-content",cls:"nx-feature-content",layout:"fit",discardUnsavedChanges:false,header:{items:[{xtype:"panel",layout:{type:"hbox"},itemId:"breadcrumb"}]},listeners:{afterrender:function(a){a.rendered=true;a.showRoot()}},showRoot:function(){var a=this;var b=a.down("#breadcrumb");if(!a.rendered){return}b.removeAll();b.add({xtype:"label",cls:"nx-feature-name",text:a.currentTitle},{xtype:"label",cls:"nx-feature-description",text:a.currentDescription})},currentTitle:undefined,setTitle:function(b){var a=this;a.callParent(arguments);a.currentTitle=b},setDescription:function(a){this.currentDescription=a},currentIconCls:undefined,resetUnsavedChangesFlag:function(a){var b=this;if(a){b.discardUnsavedChanges=true}else{b.discardUnsavedChanges=false}}});Ext.define("NX.view.dev.Panel",{extend:"Ext.panel.Panel",requires:["NX.view.dev.Styles"],alias:"widget.nx-dev-panel",title:"Developer",glyph:"xf188@FontAwesome",ui:"nx-developer",stateful:true,stateId:"nx-dev-panel",tools:[{type:"maximize",tooltip:"Maximize"}],layout:"fit",items:{xtype:"tabpanel",tabPosition:"bottom",stateful:true,stateId:"nx-dev-panel.tabs",stateEvents:["tabchange"],getState:function(){return{activeTabId:this.items.findIndex("id",this.getActiveTab().id)}},applyState:function(a){this.setActiveTab(a.activeTabId)},items:[{xtype:"nx-dev-tests"},{xtype:"nx-dev-styles"},{xtype:"nx-dev-icons"},{xtype:"nx-dev-features"},{xtype:"nx-dev-permissions"},{xtype:"nx-dev-state"},{xtype:"nx-dev-stores"},{xtype:"nx-dev-logging"}]}});Ext.define("Ext.patch.Ticket_15227",{override:"Ext.view.Table",getMaxContentWidth:function(d){var f=this,k=f.el.query(d.getCellInnerSelector()),b=d.getWidth(),c=0,e=k.length,a=f.body.select(f.getColumnSizerSelector(d)),h=Math.max,g=0,j;if(e>0){if(Ext.supports.ScrollWidthInlinePaddingBug){g+=f.getCellPaddingAfter(k[0])}else{g+=1}if(f.columnLines){g+=Ext.fly(k[0].parentNode).getBorderWidth("lr")}}a.setWidth(1);d.titleEl.setStyle("text-overflow","clip");j=d.textEl.dom.offsetWidth+d.titleEl.getPadding("lr");d.titleEl.setStyle("text-overflow","");for(;c<e;c++){j=h(j,k[c].scrollWidth)}j+=g;j=h(j,40);a.setWidth(b);return j}});Ext.define("NX.view.header.Refresh",{extend:"Ext.button.Button",alias:"widget.nx-header-refresh",requires:["NX.I18n"],initComponent:function(){Ext.apply(this,{tooltip:NX.I18n.get("Header_Refresh_Tooltip"),glyph:"xf021@FontAwesome"});this.callParent()}});Ext.define("NX.controller.Refresh",{extend:"NX.app.Controller",requires:["NX.Messages","NX.I18n"],views:["header.Refresh"],init:function(){var a=this;a.listen({component:{"nx-header-refresh":{click:a.refresh}}});a.addEvents("beforerefresh","refresh")},refresh:function(){var a=this;if(a.fireEvent("beforerefresh")){a.fireEvent("refresh");NX.Messages.add({text:NX.I18n.get("Refresh_Message"),type:"default"})}}});Ext.define("NX.ext.grid.column.Renderers",{singleton:true,optionalData:function(a){return a?a:'<span class="x-fa fa-ban" style="opacity: 0.33;"/>'}});Ext.define("NX.controller.Permissions",{extend:"NX.app.Controller",requires:["NX.State","NX.Permissions"],stores:["Permission"],init:function(){var a=this;a.listen({controller:{"#State":{userchanged:a.fetchPermissions,permissionschanged:a.loadPermissions}},store:{"#Permission":{load:a.firePermissionsChanged,update:a.onUpdate,remove:a.firePermissionsChanged}}});a.addEvents("changed")},onLaunch:function(){var a=this,b=NX.State.getValue("permissions");a.getStore("Permission").loadRawData(b,false);NX.Permissions.setPermissions(a.getPermissions())},onUpdate:function(c,a,b){if(b===Ext.data.Model.COMMIT){this.firePermissionsChanged()}},fetchPermissions:function(){var a=this;NX.Permissions.resetPermissions();a.getStore("Permission").load()},loadPermissions:function(a){var b=this;b.getStore("Permission").loadRawData(a,false);b.firePermissionsChanged()},firePermissionsChanged:function(){var a=this;NX.Permissions.setPermissions(a.getPermissions());a.fireEvent("changed",NX.Permissions)},getPermissions:function(){var a=this.getStore("Permission"),b={};a.clearFilter();a.each(function(c){b[c.get("id")]=c.get("permitted")});return b}});Ext.define("NX.controller.KeyNav",{extend:"NX.app.Controller",requires:["Ext.util.KeyNav"],init:function(){var a=this;a.listen({component:{"form button[bindToEnter=true]":{afterrender:a.installEnterKey}}});a.disableBackspaceNav()},installEnterKey:function(a){var b=a.up("form");a.keyNav=Ext.create("Ext.util.KeyNav",b.el,{enter:function(){if(!a.isDisabled()){a.fireEvent("click",a)}}})},disableBackspaceNav:function(){var a=Ext.isIE?document:window;Ext.EventManager.on(a,"keydown",function(d,c){var b=d.getKey()===d.BACKSPACE;if(b&&!g()){d.stopEvent()}function g(){var e=(c.readOnly!==undefined&&!c.readOnly),i=!c.disabled,h=e&&i;return h&&f()}function f(){var k=c.attributes.role,j=k&&k.value,h=["textbox","spinbutton","combobox"],i="^"+h.join("|")+"$",e=new RegExp(i,"i");return e.test(j)}})}});Ext.define("NX.ext.form.action.DirectSubmit",{override:"Ext.form.action.DirectSubmit",submitEmptyText:false,doSubmit:function(){var e=this,b=e.form,d=b.api,f=d.submit,g=Ext.Function.bind(e.onComplete,e),a=e.buildForm(),i,h;if(!Ext.isFunction(f)){var c=f;d.update=f=Ext.direct.Manager.parseMethod(f);if(!Ext.isFunction(f)){Ext.Error.raise("Cannot resolve Ext.Direct API method "+c)}}if(e.timeout||b.timeout){i={timeout:e.timeout*1000||b.timeout*1000}}if(f.directCfg.method.formHandler){h=a.formEl}else{h=e.getParams(true);Ext.Object.each(h,function(j,k){if(Ext.typeOf(k)==="date"){h[j]=Ext.Date.format(k,"Y-m-d\\TH:i:s.uP")}})}f.call(NX.global,h,g,e,i);e.cleanup(a)}});Ext.define("NX.model.dev.Condition",{extend:"Ext.data.Model",fields:[{name:"id",type:"string"},{name:"condition",defaultValue:undefined},{name:"satisfied",type:"boolean"}]});Ext.define("NX.store.dev.Condition",{extend:"Ext.data.Store",model:"NX.model.dev.Condition"});Ext.define("Ext.patch.Ticket_18960",{override:"Ext.grid.RowEditor",renderColumnData:function(l,h,c){var j=this,a=j.editingPlugin.grid,e=a.headerCt,k=j.scrollingView,n=k.dataSource,f=c||l.column,m=h.get(f.dataIndex),i=f.editRenderer||f.renderer,o=f.usingDefaultRenderer&&!f.scope?f:f.scope,b,d,g;if(i){b={tdCls:"",style:""};d=n.indexOf(h);g=e.getHeaderIndex(f);m=i.call(o||e.ownerCt,m,b,h,d,g,n,k)}l.setRawValue(m);l.resetOriginalValue()}});Ext.define("Ext.ux.ActivityMonitor",{ui:null,runner:null,task:null,lastActive:null,ready:false,verbose:false,interval:(1000*60*1),maxInactive:(1000*60*5),constructor:function(a){if(!a){a={}}Ext.apply(this,a,{runner:new Ext.util.TaskRunner(),ui:Ext.getBody(),task:{run:this.monitorUI,interval:a.interval||this.interval,scope:this}});this.callParent(arguments)},isActive:Ext.emptyFn,isInactive:Ext.emptyFn,start:function(){this.ui.on("mousemove",this.captureActivity,this);this.ui.on("mousedown",this.captureActivity,this);this.ui.on("keydown",this.captureActivity,this);this.lastActive=new Date();this.log("ActivityMonitor has been started.");this.runner.start(this.task)},stop:function(){this.runner.stop(this.task);this.lastActive=null;this.ui.un("mousemove",this.captureActivity);this.ui.un("mousedown",this.captureActivity,this);this.ui.un("keydown",this.captureActivity);this.log("ActivityMonitor has been stopped.")},captureActivity:function(c,b,a){this.lastActive=new Date()},monitorUI:function(){var a=new Date(),b=(a-this.lastActive);if(b>=this.maxInactive){this.log("MAXIMUM INACTIVE TIME HAS BEEN REACHED");this.stop();this.isInactive()}else{this.log("CURRENTLY INACTIVE FOR "+b+" (ms)");this.isActive()}},log:function(a){if(this.verbose){window.console.log(a)}}});Ext.define("NX.controller.UiSessionTimeout",{extend:"NX.app.Controller",requires:["Ext.ux.ActivityMonitor","NX.Messages","NX.Security","NX.State","NX.I18n","NX.State"],views:["ExpireSession"],refs:[{ref:"expireSessionWindow",selector:"nx-expire-session"}],SECONDS_TO_EXPIRE:30,activityMonitor:undefined,expirationTicker:undefined,init:function(){var a=this;a.listen({controller:{"#State":{userchanged:a.setupTimeout,uisettingschanged:a.onUiSettingsChanged,receivingchanged:a.setupTimeout}},component:{"nx-expire-session":{afterrender:a.startTicking},"nx-expire-session button[action=cancel]":{click:a.setupTimeout}}})},onLaunch:function(){this.setupTimeout()},onUiSettingsChanged:function(b,a){b=b||{};a=a||{};if(b.sessionTimeout!==a.sessionTimeout){this.setupTimeout()}},setupTimeout:function(){var c=this,a=NX.State.getUser(),d=NX.State.getValue("uiSettings")||{},b=a?d.sessionTimeout:undefined;c.cancelTimeout();if((a&&NX.State.isReceiving())&&b>0){c.activityMonitor=Ext.create("Ext.ux.ActivityMonitor",{interval:1000,maxInactive:((b*60)-c.SECONDS_TO_EXPIRE)*1000,isInactive:Ext.bind(c.showExpirationWindow,c)});c.activityMonitor.start()}},cancelTimeout:function(){var a=this,b=a.getExpireSessionWindow();if(b&&(!b.sessionExpired()||!NX.State.isReceiving())){b.close()}if(a.activityMonitor){a.activityMonitor.stop();delete a.activityMonitor}if(a.expirationTicker){a.expirationTicker.destroy();delete a.expirationTicker}},showExpirationWindow:function(){NX.Messages.add({text:NX.I18n.get("UiSessionTimeout_Expire_Message"),type:"warning"});this.getExpireSessionView().create()},startTicking:function(b){var a=this;a.expirationTicker=Ext.util.TaskManager.newTask({run:function(c){b.down("label").setText(NX.I18n.format("UiSessionTimeout_Expire_Text",a.SECONDS_TO_EXPIRE-c));if(c===a.SECONDS_TO_EXPIRE){b.down("label").setText(NX.I18n.get("SignedOut_Text"));b.down("button[action=close]").show();b.down("button[action=signin]").show();b.down("button[action=cancel]").hide();NX.Messages.add({text:NX.I18n.format("UiSessionTimeout_Expired_Message",NX.State.getValue("uiSettings")["sessionTimeout"]),type:"warning"});NX.Security.signOut()}},interval:1000,repeat:a.SECONDS_TO_EXPIRE});a.expirationTicker.start()}});Ext.define("NX.ext.form.action.DirectLoad",{override:"Ext.form.action.DirectLoad",onComplete:function(){if(!this.form.isDestroyed){this.callParent(arguments)}}});Ext.define("NX.ext.form.field.DateDisplayField",{extend:"Ext.form.field.Display",alias:"widget.nx-datedisplayfield",config:{format:"c"},setValue:function(a){if(a){arguments[0]=Ext.Date.format(Ext.Date.parse(a,"c"),this.format)}this.callParent(arguments)}});Ext.define("NX.view.Viewport",{extend:"Ext.container.Viewport",layout:"fit",items:[]});Ext.define("NX.ext.form.field.ClearableComboBox",{extend:"Ext.form.field.ComboBox",alias:"widget.nx-clearablecombobox",trigger2Cls:Ext.baseCSSPrefix+"form-clear-trigger",onTrigger2Click:function(){this.reset()}});Ext.define("NX.ext.form.field.ValueSet",{extend:"Ext.form.FieldContainer",alias:"widget.nx-valueset",requires:["Ext.data.SequentialIdGenerator","Ext.data.Store","Ext.util.KeyNav","NX.Icons"],mixins:{field:"Ext.form.field.Field"},statics:{idGenerator:Ext.create("Ext.data.SequentialIdGenerator"),generateId:function(){return"nx-valueset-valuefield-"+NX.ext.form.field.ValueSet.idGenerator.generate()}},width:600,minValues:0,maxValues:Number.MAX_VALUE,blankText:"At least one value is required",minValuesText:"Minimum {0} value(s) required",maxValuesText:"Maximum {0} values(s) allowed",allowBlank:true,sorted:false,input:undefined,emptyText:undefined,converter:{toValues:undefined,fromValues:undefined},glyphAddButton:"xf055@FontAwesome",glyphDeleteButton:"xf056@FontAwesome",store:undefined,initComponent:function(){var a=this,b=NX.ext.form.field.ValueSet.generateId();if(!Ext.isDefined(a.input)){a.input={xtype:"textfield"}}Ext.apply(a.input,{valueFieldId:b,submitValue:false,isFormField:false,flex:1,inputFor:a.name});if(a.emptyText){a.input.emptyText=a.emptyText}if(!a.converter){a.converter={}}if(!a.converter.toValues||!Ext.isFunction(a.converter.toValues)){a.converter.toValues=function(c){return c}}if(!a.converter.fromValues||!Ext.isFunction(a.converter.fromValues)){a.converter.fromValues=function(c){return c}}a.items=[{xtype:"panel",layout:"hbox",items:[a.input,{xtype:"button",listeners:{click:function(){a.addValue();a.items.items[0].items.items[0].resumeEvents();if(a.items.items[0].items.items[0].isValid()){a.validate()}},mouseover:function(){a.items.items[0].items.items[0].suspendEvents(false)},mouseout:function(){a.items.items[0].items.items[0].resumeEvents();if(a.items.items[0].items.items[0].isValid()){a.validate()}},scope:a},ui:"nx-plain",glyph:a.glyphAddButton}]},a.values={xtype:"grid",hideHeaders:true,ui:"nx-borderless",columns:[{text:"Value",dataIndex:"value",flex:1},{xtype:"actioncolumn",width:25,items:[{icon:NX.Icons.url("cross","x16"),tooltip:"Delete",handler:function(c,d){a.removeValue(d)}}]}],store:a.store=Ext.create("Ext.data.Store",{storeId:b,fields:["value"],idProperty:"value",sorters:a.sorted?{property:"value",direction:"ASC"}:undefined})}];a.callParent(arguments);a.on("afterrender",function(){a.valueField=a.down("component[valueFieldId="+b+"]");a.mon(a.valueField,"blur",function(c){if(c.isValid()){a.validate()}});a.mon(a.valueField,"change",function(c,d){if(!d||d===""){a.validate()}});Ext.create("Ext.util.KeyNav",a.valueField.el,{enter:a.addValue,scope:a})})},addValue:function(){var a=this,b;if(!a.valueField.isValid()){return}b=a.valueField.getValue();if(b&&a.store.find("value",b)===-1){a.store.add({value:b});a.valueField.setValue(undefined)}a.valueField.focus();a.syncValue()},removeValue:function(b){var a=this;a.store.removeAt(b);a.syncValue()},getSubmitData:function(){var a=this,b=null,c;if(!a.disabled&&a.submitValue&&!a.isFileUpload()){c=a.getSubmitValue();if(c!==null){b={};b[a.getName()]=c}}return b},getSubmitValue:function(){return this.getValue()},isValid:function(){var b=this,a=b.disabled,c=b.forceValidation||!a;return c?b.validateValue():a},validateValue:function(){var a=this,c=a.getErrors(),b=Ext.isEmpty(c);if(b){a.clearInvalid()}else{a.markInvalid(c)}return b},markInvalid:function(a){this.items.items[0].items.items[0].markInvalid(a)},getErrors:function(){var b=this,c=Ext.String.format,d=[],a=b.store.getCount();if(!b.allowBlank&&a<1){d.push(b.blankText)}if(a<b.minValues){d.push(c(b.minValuesText,b.minValues))}if(a>b.maxValues){d.push(c(b.maxValuesText,b.maxValues))}return d},clearInvalid:function(){this.items.items[0].items.items[0].clearInvalid()},setValue:function(b){var a=this;a.loadValues(b);a.syncValue()},getValues:function(){var a=[];this.store.each(function(b){a.push(b.get("value"))});return a},loadValues:function(b){var a=this,c;a.store.removeAll();if(b){c=a.converter.toValues(b);Ext.each(c,function(d){a.store.add({value:d})})}},syncValue:function(){var a=this;a.mixins.field.setValue.call(a,a.converter.fromValues(a.getValues()))}},function(){this.borrow(Ext.form.field.Base,["setError"])});Ext.define("NX.model.State",{extend:"Ext.data.Model",idProperty:"key",fields:[{name:"key",type:"string"},{name:"value",defaultValue:undefined},{name:"hash",type:"string"}]});Ext.define("NX.store.State",{extend:"Ext.data.Store",model:"NX.model.State"});Ext.define("NX.Dialogs",{singleton:true,requires:["NX.I18n"],showInfo:function(c,b,a){a=a||{};Ext.applyIf(a,{title:c||NX.I18n.get("Dialogs_Info_Title"),msg:b,buttons:Ext.Msg.OK,icon:Ext.MessageBox.INFO,closable:true});Ext.Msg.show(a)},showError:function(c,b,a){a=a||{};Ext.applyIf(a,{title:c||NX.I18n.get("Dialogs_Error_Title"),msg:b||NX.I18n.get("Dialogs_Error_Message"),buttons:Ext.Msg.OK,icon:Ext.MessageBox.ERROR,closable:true});Ext.Msg.show(a)},askConfirmation:function(d,c,b,a){a=a||{};Ext.Msg.show({title:d,msg:c,buttons:Ext.Msg.YESNO,icon:Ext.MessageBox.QUESTION,closable:false,animEl:a.animEl,fn:function(e){if(e==="yes"||e==="ok"){if(Ext.isDefined(b)){b.call(a.scope)}}}})}});Ext.define("NX.controller.State",{extend:"NX.app.Controller",requires:["Ext.direct.Manager","NX.Dialogs","NX.Messages","NX.I18n"],models:["State"],stores:["State"],disconnectedTimes:0,maxDisconnectWarnings:3,receiving:false,init:function(){var a=this;a.listen({controller:{"#State":{userchanged:a.onUserChanged,uisettingschanged:a.onUiSettingsChanged,licensechanged:a.onLicenseChanged,serveridchanged:a.reloadWhenServerIdChanged}},store:{"#State":{add:a.onEntryAdded,update:a.onEntryUpdated,remove:a.onEntryRemoved}}});a.addEvents("changed")},onLaunch:function(){var a=this;var b=NX.app.state.uiSettings;NX.State.setBrowserSupported(!Ext.isIE||(Ext.isIE9p&&Ext.isIE11m));NX.State.setValue("debug",NX.app.debug);NX.State.setValue("receiving",false);delete NX.app.state.uiSettings;NX.State.setValues(NX.app.state);NX.State.setValues({uiSettings:b})},isReceiving:function(){return this.receiving},getValue:function(c,a){var b=this.getStore("State").getById(c),d;if(b){d=b.get("value");if(Ext.isDefined(d)){return d}}return a},setValue:function(b,d,e){var c=this,a=c.getStore("State").getById(b);if(!a){if(Ext.isDefined(d)){c.getStore("State").add(c.getStateModel().create({key:b,value:d,hash:e}))}}else{if(Ext.isDefined(d)&&d!==null){if(!Ext.Object.equals(d,a.get("value"))){a.set("value",d)}if(!Ext.Object.equals(e,a.get("hash"))){a.set("hash",e)}}else{c.getStore("State").remove(a)}}c.getStore("State").commitChanges();if(c.statusProvider){if(Ext.isDefined(d)&&e){c.statusProvider.baseParams[b]=e}else{delete c.statusProvider.baseParams[b]}}},setValues:function(d){var b=this,c,a;if(d){Ext.Object.each(d,function(e,f){a=f;if(Ext.isObject(f)&&Ext.isDefined(f.hash)&&Ext.isDefined(f.value)){c=f.hash;a=f.value}if(Ext.isDefined(a)){if(!Ext.isPrimitive(a)&&!Ext.isArray(a)&&Ext.ClassManager.getByAlias("nx.state."+e)){a=Ext.ClassManager.instantiateByAlias("nx.state."+e,a)}}b.setValue(e,a,c)})}},onEntryAdded:function(a,c){var b=this;Ext.each(c,function(d){b.notifyChange(d.get("key"),d.get("value"))})},onEntryUpdated:function(b,c,a,d){if((a===Ext.data.Model.EDIT)&&d.indexOf("value")>-1){this.notifyChange(c.get("key"),c.get("value"),c.modified.value)}},onEntryRemoved:function(a,b){this.notifyChange(b.get("key"),undefined,b.get("value"))},notifyChange:function(b,d,a){var c=this;c.fireEvent(b.toLowerCase()+"changed",d,a);c.fireEvent("changed",b,d,a)},onUiSettingsChanged:function(c,a){var b=this,e,d;c=c||{};a=a||{};if(c.debugAllowed!==a.debugAllowed){NX.State.setValue("debug",c.debugAllowed&&(NX.global.location.search==="?debug"))}if(c.title!==a.title){NX.global.document.title=NX.global.document.title.replace(a.title,c.title)}if(b.statusProvider){d=b.statusProvider.interval}e=c.statusIntervalAnonymous;if(NX.State.getUser()){e=c.statusIntervalAuthenticated}if(e>0){if(e!==d){if(b.statusProvider){b.statusProvider.disconnect();b.receiving=false}b.statusProvider=Ext.direct.Manager.addProvider({type:"polling",url:NX.direct.api.POLLING_URLS.rapture_State_get,interval:e*1000,baseParams:{},listeners:{data:b.onServerData,scope:b}})}}else{if(b.statusProvider){b.statusProvider.disconnect()}}},onUserChanged:function(a,b){var c;if(Ext.isDefined(a)!==Ext.isDefined(b)){c=NX.State.getValue("uiSettings");this.onUiSettingsChanged(c,c)}},onServerData:function(c,b){var a=this;if(b.data){a.onSuccess(b)}else{a.onError(b)}},onSuccess:function(c){var b=this,a=b.getValue("serverId"),d;b.receiving=true;if(b.disconnectedTimes>0){b.disconnectedTimes=0;NX.Messages.add({text:NX.I18n.get("State_Reconnected_Message"),type:"success"})}NX.State.setValue("receiving",true);d=c.data.data;if(!b.reloadWhenServerIdChanged(a,d.serverId?d.serverId.value:a)){b.setValues(d)}},onError:function(b){var a=this;if(b.code==="xhr"){if(b.xhr.status===402){NX.State.setValue("license",Ext.apply(Ext.clone(NX.State.getValue("license")),{installed:false}))}else{a.receiving=false;a.disconnectedTimes=a.disconnectedTimes+1;NX.State.setValue("receiving",false);if(a.disconnectedTimes<=a.maxDisconnectWarnings){NX.Messages.add({text:NX.I18n.get("State_Disconnected_Message"),type:"warning"})}if(a.disconnectedTimes>a.maxDisconnectWarnings){NX.Messages.add({text:NX.I18n.get("State_Disconnected_Message"),type:"danger"});a.statusProvider.disconnect();NX.Dialogs.showError("Server disconnected","There is a problem communicating with the server",{buttonText:{ok:"Retry"},fn:function(){a.statusProvider.connect()}})}}}else{if(b.type==="exception"){NX.Messages.add({text:b.message,type:"danger"})}}},refreshNow:function(){var a=this;if(a.statusProvider){a.statusProvider.disconnect();a.statusProvider.connect()}},onLicenseChanged:function(b,a){if(b&&a){if(b.installed&&!a.installed){NX.Messages.add({text:NX.I18n.get("State_Installed_Message"),type:"success"})}else{if(!b.installed&&a.installed){NX.Messages.add({text:NX.I18n.get("State_Uninstalled_Message"),type:"warning"})}}}},reloadWhenServerIdChanged:function(a,b){if(b&&(a!==b)){NX.Dialogs.showInfo("Server restarted","Application will be reloaded as server has been restarted",{fn:function(){NX.global.location.reload()}});return true}return false}});Ext.define("Ext.patch.Ticket_22557_2",{override:"Ext.grid.header.Container",onHeaderCtEvent:function(d,a){var c=this,h=d.getTarget("."+Ext.grid.column.Column.prototype.baseCls),g,f,b;if(h&&!c.ddLock){g=Ext.getCmp(h.id);if(g){f=g[g.clickTargetName];if(d.within(f)){if(d.type==="click"){b=g.onTitleElClick(d,f);if(b){c.onHeaderTriggerClick(g,d,a)}else{c.onHeaderClick(g,d,a)}}else{if(d.type==="contextmenu"){c.onHeaderContextMenu(g,d,a)}else{if(d.type==="dblclick"){g.onTitleElDblClick(d,f.dom)}}}}}}}});Ext.define("Ext.patch.Ticket_21425",{override:"Ext.util.History",getHash:function(){return location.href.split("#").splice(1).join("#")}});Ext.define("Ext.patch.Ticket_22557_1",{override:"Ext.view.Table",getMaxContentWidth:function(a){return this.callParent(arguments)+4}});Ext.define("NX.ext.grid.column.Date",{override:"Ext.grid.column.Date",format:"Y-M-d H:i:s"});Ext.define("NX.ext.form.field.Number",{override:"Ext.form.field.Number",mouseWheelEnabled:false});Ext.define("NX.ext.form.field.Email",{extend:"Ext.form.field.Text",alias:"widget.nx-email",vtype:"nx-email",maxLength:254});Ext.define("NX.ext.form.FieldContainer",{override:"Ext.form.FieldContainer",labelAlign:"top",labelStyle:"font-weight: bold;",msgTarget:"under",initComponent:function(){var a=this;if(a.helpText){a.afterLabelTpl='<span style="font-size: 10px;">'+a.helpText+"</span>"}a.callParent(arguments)}});Ext.define("NX.ext.direct.RemotingProvider",{override:"Ext.direct.RemotingProvider",queueTransaction:function(a){if(a.callbackOptions&&a.callbackOptions.enableBuffer===false){this.sendRequest(a);return}this.callParent(arguments)}});Ext.define("NX.view.CopyWindow",{extend:"NX.view.ModalDialog",alias:"widget.nx-copywindow",requires:["NX.I18n","NX.Icons"],layout:{type:"vbox",align:"stretch"},ui:"nx-inset",copyText:"",defaultMessage:"Copy to clipboard: #{key}, Enter",initComponent:function(){var b=this,a=this.format(this.defaultMessage);b.width=NX.view.ModalDialog.MEDIUM_MODAL;b.title=a;b.items={xtype:"form",defaults:{anchor:"100%"},items:{xtype:"textfield",name:"url",value:b.copyText,selectOnFocus:true},buttonAlign:"left",buttons:[{text:NX.I18n.get("Button_Close"),action:"close",bindToEnter:true,handler:function(){b.close()}}]};b.defaultFocus="textfield";b.callParent()},format:function(a){var b=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";return a.replace(/#{\s*key\s*}/g,b)}});Ext.define("NX.controller.Copy",{extend:"NX.app.Controller",views:["CopyWindow"],refs:[{ref:"copyModal",selector:"nx-copywindow"}],init:function(){var a=this;a.listen({component:{"nx-copywindow button[action=close]":{click:a.copyToClipboard}}})},copyToClipboard:function(){this.getCopyModal().close()}});Ext.define("Ext.patch.Ticket_18964",{override:"Ext.view.BoundList",getRefItems:function(){var b=this,a=[];if(b.pagingToolbar){a.push(b.pagingToolbar)}return a}});Ext.define("NX.controller.Icon",{extend:"NX.app.Controller",requires:["Ext.Error","Ext.util.CSS","NX.util.Url","NX.Icons"],models:["Icon"],stores:["Icon"],stylesheet:undefined,onLaunch:function(){var a=this;a.installStylesheet();a.preloadImage(NX.util.Url.cacheBustingUrl(NX.util.Url.baseUrl+"/static/rapture/resources/images/shared/icon-error.png"));a.preloadImage(NX.util.Url.cacheBustingUrl(NX.util.Url.baseUrl+"/static/rapture/resources/images/shared/icon-info.png"));a.preloadImage(NX.util.Url.cacheBustingUrl(NX.util.Url.baseUrl+"/static/rapture/resources/images/shared/icon-question.png"));a.preloadImage(NX.util.Url.cacheBustingUrl(NX.util.Url.baseUrl+"/static/rapture/resources/images/shared/icon-warning.png"))},preloadImage:function(b){var a;a=new Image();a.src=b},installStylesheet:function(){var b=this,a=[];b.getStore("Icon").each(function(c){var d,e=b.buildIconStyle(c.data);a.push(e);if(c.data.preload){b.preloadImage(c.data.url)}});b.stylesheet=Ext.util.CSS.createStyleSheet(a.join(" "),"nx-icons")},buildIconStyle:function(b){var a;a="."+b.cls+" {";a+="background: url("+b.url+") no-repeat center center !important;";a+="height: "+b.height+"px;";a+="width: "+b.width+"px;";a+="vertical-align: middle;";a+="}";return a},addIcons:function(a){var b=this;if(Ext.isArray(a)){Ext.Array.each(a,function(c){b.addIcon(c)})}else{if(Ext.isObject(a)){Ext.Object.each(a,function(c,d){var e=Ext.clone(d);e.name=c;b.addIcon(e)})}else{Ext.Error.raise("Expected array or object, found: "+a)}}},addIcon:function(a){var b=this;if(Ext.isArray(a.variants)){var c=Ext.clone(a);delete c.variants;Ext.each(a.variants,function(d){c.variant=d;b.addIcon(c)});return}b.configureIcon(a);if(!a.height){b.logWarn("Icon missing height:",a.css)}if(!a.width){b.logWarn("Icon missing width:",a.css)}b.getStore("Icon").add(a)},configureIcon:function(c){var b=c.variant;if(Ext.isString(b)){if(b.charAt(0)==="x"&&b.length>1){var a=Ext.Number.from(b.substring(1),-1);if(a===-1){throw Ext.Error.raise("Invalid variant format: "+b)}c.height=c.width=a}}c.url=NX.Icons.url2(c.file,c.variant);c.cls=NX.Icons.cls(c.name,c.variant)},findIcon:function(b,d){var a=this.getStore("Icon"),c;c=a.findBy(function(e,f){if(b===e.get("name")){if(d){if(d===e.get("variant")){return true}}}return false});if(c===-1){return null}return a.getAt(c)}});Ext.define("NX.ext.form.field.Display",{override:"Ext.form.field.Display",width:undefined});Ext.define("NX.app.Application",{extend:"Ext.app.Application",requires:["Ext.Ajax","Ext.Error","Ext.direct.Manager","Ext.state.Manager","Ext.state.LocalStorageProvider","Ext.util.LocalStorage","NX.view.Viewport","NX.util.Url","NX.I18n","NX.State"],mixins:{logAware:"NX.LogAware"},uses:["Ext.patch.Ticket_15227","Ext.patch.Ticket_17866","Ext.patch.Ticket_18960","Ext.patch.Ticket_18964","Ext.patch.Ticket_21425","Ext.patch.Ticket_22557_1","Ext.patch.Ticket_22557_2","NX.ext.direct.RemotingProvider","NX.ext.form.action.DirectLoad","NX.ext.form.action.DirectSubmit","NX.ext.form.FieldContainer","NX.ext.form.field.Base","NX.ext.form.field.Checkbox","NX.ext.form.field.Display","NX.ext.form.field.Number","NX.ext.form.OptionalFieldSet","NX.ext.form.field.Email","NX.ext.form.field.Password","NX.ext.form.field.RegExp","NX.ext.form.field.Url","NX.ext.form.field.ClearableComboBox","NX.ext.form.field.DateDisplayField","NX.ext.form.field.ValueSet","NX.ext.SearchBox","Ext.ux.form.ItemSelector","NX.ext.grid.plugin.FilterBox","NX.ext.grid.plugin.RemoteFilterBox","NX.ext.grid.plugin.Filtering","NX.ext.grid.column.Date","NX.ext.grid.column.Icon","NX.ext.grid.column.CopyLink"],name:"NX",appProperty:"application",appFolder:"static/rapture/NX",paths:{"Ext.ux":"static/rapture/Ext/ux","Ext.patch":"static/rapture/Ext/patch"},controllers:["Copy","Logging","State","Bookmarking","ExtDirect","Features","Icon","KeyNav","Message","Permissions"],managedControllers:undefined,statics:{alwaysActive:function(){return true},defaultActivation:function(){return NX.app.Application.supportedBrowser()},supportedBrowser:function(){return NX.State.isBrowserSupported()},unsupportedBrowser:function(){return !NX.app.Application.supportedBrowser()},licensed:function(){return !NX.State.requiresLicense()||NX.State.isLicenseValid()},unlicensed:function(){return !NX.app.Application.licensed()},licenseExpired:function(){var a=NX.State.getDaysToLicenseExpiry();return NX.app.Application.licensed()&&a?a<0:false},debugMode:function(){return NX.State.getValue("debug")===true},bundleActive:function(a){return NX.State.getValue("activeBundles").indexOf(a)>-1}},ready:false,init:function(b){var a=this;Ext.BLANK_IMAGE_URL=NX.util.Url.baseUrl+"/static/rapture/resources/images/s.gif";Ext.Ajax.defaultHeaders={"X-Nexus-UI":"true"};b.initErrorHandler();b.initDirect();b.initState()},initErrorHandler:function(){var b=this,a=NX.global.onerror;Ext.Error.handle=function(c){b.handleError(c)};NX.global.onerror=function(e,d,c){b.handleError({msg:e+" ("+d+":"+c+")"});if(a){a(e,d,c)}}},handleError:function(a){NX.Messages.add({type:"danger",text:this.errorAsString(a)})},errorAsString:function(b){var c=b.sourceClass||"",a=b.sourceMethod?"."+b.sourceMethod+"(): ":"",d=b.msg||"(No description provided)";return c+a+d},initDirect:function(){var a;a=Ext.direct.Manager.addProvider(NX.direct.api.REMOTING_API);a.enableBuffer=10;a.maxRetries=0;a.timeout=60*1000},initState:function(){var a=this,b;if(Ext.util.LocalStorage.supported){b=Ext.create("Ext.state.LocalStorageProvider");Ext.state.Manager.setProvider(b)}else{}},start:function(){var b=this,a;Ext.create("NX.view.Viewport");b.syncManagedControllers();b.listen({controller:{"#State":{changed:b.syncManagedControllers}}});a=function(){Ext.get("loading").remove();Ext.fly("loading-mask").animate({opacity:0,remove:true});b.logInfo("Ready");b.ready=true};Ext.defer(a,500)},syncManagedControllers:function(){var d=this,c,a=[],b=false;d.managedControllers.eachKey(function(e){c=d.managedControllers.get(e);if(!c.active()){if(c.controller){b=true;c.controller.fireEvent("destroy",c.controller);c.controller.eventbus.unlisten(c.controller.id);if(Ext.isFunction(c.controller.onDestroy)){c.controller.onDestroy()}d.controllers.remove(c.controller);c.controller.clearManagedListeners();if(Ext.isFunction(c.controller.destroy)){c.controller.destroy()}delete c.controller}}});d.managedControllers.eachKey(function(e){c=d.managedControllers.get(e);if(c.active()){if(!c.controller){b=true;c.controller=d.getController(e);a.push(c.controller)}}});Ext.each(a,function(e){e.onLaunch(d)});Ext.each(a,function(e){e.finishInit(d)});if(b){d.getIconController().installStylesheet();d.fireEvent("controllerschanged")}}});Ext.define("NX.app.Loader",{requires:["NX.app.Application","Ext.app.Controller","Ext.util.MixedCollection"],mixins:{logAware:"NX.LogAware"},controllers:undefined,load:function(a){var c=this,b;if(!Ext.isArray(a.pluginConfigs)){Ext.Error.raise("Invalid config property 'pluginConfigs' (expected array): "+a.pluginConfigs)}if(!Ext.isObject(a.state)){Ext.Error.raise("Invalid config property: 'state' (expected object): "+a.state)}c.controllers=Ext.create("Ext.util.MixedCollection");NX.app.state=a.state;NX.app.debug=false;if(NX.global.location.search==="?debug"){if(NX.app.state.uiSettings.value.debugAllowed){NX.app.debug=true}else{c.logWarn("Debug mode disallowed")}}Ext.each(a.pluginConfigs,function(d){c.applyPluginConfig(d)});b=Ext.ClassManager.get("NX.app.Application");Ext.onReady(function(){Ext.app.Application.instance=new b({managedControllers:c.controllers});Ext.app.Application.instance.start()})},applyPluginConfig:function(b){var c=this,a;a=Ext.create(b);if(a.controllers){Ext.each(a.controllers,function(e){var d=c.defineController(e);c.controllers.add(d)})}if(c.controllers){c.controllers.each(function(d){d.type=Ext.app.Controller.getFullName(d.id,"controller","NX").absoluteName;Ext.require(d.type)})}},defineController:function(b){if(Ext.isString(b)){return{id:b,active:NX.app.Application.defaultActivation}}if(!Ext.isObject(b)){Ext.Error.raise("Invalid controller definition: "+b)}if(!Ext.isString(b.id)||b.id.length===0){Ext.Error.raise("Invalid controller definition: "+b+"; required property: id")}if(Ext.isBoolean(b.active)){var a=b.active;b.active=function(){return a}}else{if(!Ext.isFunction(b.active)){Ext.Error.raise("Invalid controller definition: "+b.id+"; required property: active (boolean or function)")}}return b}});Ext.define("NX.view.UnsupportedBrowser",{extend:"Ext.container.Container",alias:"widget.nx-unsupported-browser",requires:["NX.I18n","NX.Icons"],cls:"nx-unsupported-browser",layout:"border",initComponent:function(){var a=this;a.items=[{xtype:"nx-header-panel",region:"north",collapsible:false},{xtype:"container",region:"center",layout:{type:"vbox",align:"center",pack:"center"},items:[{xtype:"label",cls:"title",text:NX.I18n.get("UnsupportedBrowser_Title")},{xtype:"label",cls:"description",text:NX.I18n.get("UnsupportedBrowser_Alternatives_Text")},{xtype:"container",cls:"icons",layout:{type:"hbox"},items:[{xtype:"image",width:72,height:72,src:NX.Icons.url("chrome","x72")},{xtype:"image",width:72,height:72,src:NX.Icons.url("firefox","x72")},{xtype:"image",width:72,height:72,src:NX.Icons.url("ie","x72")},{xtype:"image",width:72,height:72,src:NX.Icons.url("opera","x72")},{xtype:"image",width:72,height:72,src:NX.Icons.url("safari","x72")}]},{xtype:"button",text:NX.I18n.get("UnsupportedBrowser_Continue_Button"),action:"continue"}]},{xtype:"nx-footer",region:"south",hidden:false},{xtype:"nx-dev-panel",region:"south",collapsible:true,collapsed:true,resizable:true,resizeHandles:"n",height:300,hidden:true}];a.callParent()}});Ext.define("NX.view.dev.Stores",{extend:"Ext.panel.Panel",alias:"widget.nx-dev-stores",requires:["Ext.data.Store","Ext.data.StoreManager"],title:"Stores",layout:"fit",initComponent:function(){var a=this;Ext.apply(a,{items:[{xtype:"label",text:"No store selected",padding:"10 10 10 10"}],tbar:[{xtype:"combo",name:"storeId",width:300,emptyText:"select a store",queryMode:"local",displayField:"id",valueField:"id",trigger2Cls:"x-form-search-trigger",onTrigger2Click:function(){this.getStore().load()},store:Ext.create("Ext.data.Store",{fields:["id"],data:Ext.data.StoreManager,proxy:{type:"memory",reader:{type:"json",read:function(c){var b=[];c.each(function(d){b.push({id:d.storeId})});return this.readRecords(b)}}},sorters:{property:"id",direction:"ASC"}})},{xtype:"button",text:"Load store",action:"load",glyph:"xf0ab@FontAwesome"},{xtype:"button",text:"Clear store",action:"clear",glyph:"xf12d@FontAwesome"}]});a.callParent()}});Ext.define("NX.wizard.GridScreen",{extend:"NX.wizard.Screen",alias:"widget.nx-wizard-gridscreen",requires:["NX.Assert"],config:{grid:undefined},initComponent:function(){var b=this;Ext.applyIf(b.grid,{xtype:"grid"});b.fields=b.fields||[];b.fields.push(b.grid);b.callParent(arguments);var a=b.getGrid().getView();a.on("refresh",function(c){b.syncSizeToScreen(c)});b.on("activate",function(){b.syncSizeToScreen(a)});b.on("added",function(){var c=b.up("nx-wizard-panel");c.on("resize",function(){b.syncSizeToScreen(a)})})},getGrid:function(){return this.down("grid")},syncSizeToScreen:function(b){Ext.suspendLayouts();try{var e,d,a,c;e=b.getEl().down("table");if(!e){return}d=e.getHeight();a=b.getHeight();c=this.calculateMaxHeight(b);if(d>c){b.setHeight(c);b.setAutoScroll(true)}else{if(a<d){b.setHeight(d);b.setAutoScroll(false)}else{if(d<a){b.setHeight(d);b.setAutoScroll(false)}}}}finally{Ext.resumeLayouts(true)}},calculateMaxHeight:function(m){var l=this,c=l.up("nx-wizard-panel"),i=c.getScreenContainer(),k=c.getScreenHeader(),j=l.getButtonsContainer(),n;function g(o){var p=o.getEl(),q=p.getHeight(false),r=p.getHeight(true),h=p.getMargin("tb");return q+(q-r)+h}function f(h,o){if(h===o){return h!==0||1/h===1/o}else{return h!==h&&o!==o}}var b=l.getGrid();var e=0;l.down("#fields").items.each(function(h){if(!f(h,b)){e+=g(h)}});var d=6;var a=i.getEl();n=c.getHeight(true)-g(k)-(a.getHeight(false)-a.getHeight(true))-e-g(m.getHeaderCt())-g(j)-d;return n}});Ext.define("NX.ext.tab.SortedPanel",{extend:"Ext.tab.Panel",alias:"widget.nx-sorted-tabpanel",listeners:{add:function(e,c){var b=c.title||"",d=c.weight||1000,a=0;e.suspendEvents();e.remove(c,false);e.items.each(function(h){var g=h.title||"",f=h.weight||1000;if(d<f||(d===f&&b<g)){return false}a++;return true});e.insert(a,c);e.resumeEvents()}},onAdd:function(b,a){b.tabConfig=b.tabConfig||{};Ext.applyIf(b.tabConfig,{border:null});this.callParent([b,a])}});Ext.define("NX.view.ChangeOrderWindow",{extend:"NX.view.ModalDialog",alias:"widget.nx-changeorderwindow",requires:["NX.ext.form.field.ItemOrderer","NX.I18n"],ui:"nx-inset",displayField:"name",valueField:"id",initComponent:function(){var a=this;a.setWidth(NX.view.ModalDialog.MEDIUM_MODAL);a.items={xtype:"form",items:{xtype:"nx-itemorderer",store:a.store,displayField:a.displayField,valueField:a.valueField,delimiter:null,height:400,width:400},buttonAlign:"left",buttons:[{text:NX.I18n.get("ChangeOrderWindow_Submit_Button"),action:"save",formBind:true,ui:"nx-primary"},{text:NX.I18n.get("ChangeOrderWindow_Cancel_Button"),handler:function(){this.up("window").close()}}]};a.callParent()}});Ext.define("NX.controller.dev.Conditions",{extend:"NX.app.Controller",requires:["Ext.util.Filter"],stores:["NX.store.dev.Condition"],views:["dev.Conditions"],refs:[{ref:"showSatisfied",selector:"nx-dev-conditions #showSatisfied"},{ref:"showUnsatisfied",selector:"nx-dev-conditions #showUnsatisfied"},{ref:"devPanelTabs",selector:"nx-dev-panel tabpanel"},{ref:"devConditionsPanel",selector:"nx-dev-panel nx-dev-conditions"}],init:function(){var a=this;a.excludeSatisfiedFilter=Ext.create("Ext.util.Filter",{id:"excludeSatisfiedFilter",filterFn:function(b){return b.get("satisfied")!==true}});a.excludeUnsatisfiedFilter=Ext.create("Ext.util.Filter",{id:"excludeUnsatisfiedFilter",filterFn:function(b){return b.get("satisfied")!==false}});a.listen({controller:{"#State":{conditionboundedchanged:a.boundedChanged,conditionstatechanged:a.stateChanged}},component:{"nx-dev-conditions #showSatisfied":{change:a.syncSatisfiedFilter},"nx-dev-conditions #showUnsatisfied":{change:a.syncUnsatisfiedFilter}}})},onLaunch:function(){var a=this.getDevPanelTabs();if(a){a.add({xtype:"nx-dev-conditions"})}},onDestroy:function(){var a=this,b=a.getDevConditionsPanel();if(b){a.getDevPanelTabs().remove(b)}},syncSatisfiedFilter:function(){var b=this,c=b.getShowSatisfied().getValue(),a=b.getStore("NX.store.dev.Condition");if(c){a.removeFilter(b.excludeSatisfiedFilter)}else{a.addFilter(b.excludeSatisfiedFilter)}},syncUnsatisfiedFilter:function(){var b=this,c=b.getShowUnsatisfied().getValue(),a=b.getStore("NX.store.dev.Condition");if(c){a.removeFilter(b.excludeUnsatisfiedFilter)}else{a.addFilter(b.excludeUnsatisfiedFilter)}},boundedChanged:function(c){var a=this.getStore("NX.store.dev.Condition"),b;if(c.bounded){a.add({id:c.id,condition:c});a.filter()}else{b=a.getById(c.id);if(b){a.remove(b)}}},stateChanged:function(c){var a=this.getStore("NX.store.dev.Condition"),b=a.getById(c.id);if(b){b.set("satisfied",c.isSatisfied());b.commit();a.filter()}}});Ext.define("NX.view.drilldown.Details",{extend:"Ext.panel.Panel",alias:"widget.nx-drilldown-details",requires:["NX.Icons","NX.Bookmarks","NX.ext.tab.SortedPanel","NX.view.drilldown.Actions"],initComponent:function(){var a=this;a.items=[{xtype:"panel",itemId:"info",ui:"nx-drilldown-message",cls:"nx-drilldown-info",iconCls:NX.Icons.cls("drilldown-info","x16"),hidden:true},{xtype:"panel",itemId:"warning",ui:"nx-drilldown-message",cls:"nx-drilldown-warning",iconCls:NX.Icons.cls("drilldown-warning","x16"),hidden:true},{xtype:"nx-actions",items:a.actions},{xtype:"nx-sorted-tabpanel",itemId:"tab",ui:"nx-light",cls:"nx-hr",activeTab:0,layoutOnTabChange:true,flex:1,items:a.tabs}];a.callParent();a.on("afterrender",a.calculateBookmarks,a)},showInfo:function(a){var b=this.down(">#info");b.setTitle(a);b.show()},clearInfo:function(){var a=this.down(">#info");a.hide()},showWarning:function(a){var b=this.down(">#warning");b.setTitle(a);b.show()},clearWarning:function(){var a=this.down(">#warning");a.hide()},addTab:function(a){var b=this,c=b.down(">#tab");c.add(a);b.calculateBookmarks()},removeTab:function(a){var b=this,c=b.down(">#tab");c.remove(a);b.calculateBookmarks()},getBookmarkOfSelectedTab:function(){var a=this.down(">#tab");return a.getActiveTab().bookmark},setActiveTabByBookmark:function(b){var c=this,d=c.down(">#tab"),a=c.down("> tabpanel > panel[bookmark="+b+"]");if(d&&a){d.setActiveTab(a)}},calculateBookmarks:function(){var a=this.down(">#tab");a.items.each(function(b){if(b.title){b.bookmark=NX.Bookmarks.encode(b.title).toLowerCase()}})}});Ext.define("NX.controller.Drilldown",{extend:"NX.app.Controller",requires:["NX.Conditions","NX.Dialogs","NX.Bookmarks","NX.view.drilldown.Drilldown","NX.view.drilldown.Item","NX.State"],views:["drilldown.Drilldown","drilldown.Details"],permission:undefined,getDescription:Ext.emptyFn,masters:null,detail:null,deleteModel:undefined,onLaunch:function(){this.getApplication().getIconController().addIcons({"drilldown-info":{file:"information.png",variants:["x16","x32"]},"drilldown-warning":{file:"warning.png",variants:["x16","x32"]}})},init:function(){var c=this,b={};if(!c.masters){c.masters=[]}for(var a=0;a<c.masters.length;++a){b[c.masters[a]]={selection:c.onSelection,cellclick:c.onCellClick}}b[(c.masters[0]||c.detail)+" ^ nx-drilldown"]={syncsize:c.syncSizeToOwner,activate:function(){c.currentIndex=0;c.reselect();c.syncSizeToOwner()}};b[c.masters[0]+" ^ nx-drilldown button[action=new]"]={afterrender:c.bindNewButton};b[c.masters[0]+" ^ nx-drilldown button[action=delete]"]={afterrender:c.bindDeleteButton,click:c.onDelete};b[(c.masters[0]||c.detail)+" ^ nx-drilldown nx-addpanel button[action=back]"]={click:function(){c.showChild(0,true)}};c.listen({component:b,controller:{"#Bookmarking":{navigate:c.onNavigate}}});if(c.icons){c.getApplication().getIconController().addIcons(c.icons)}if(c.features){c.getApplication().getFeaturesController().registerFeature(c.features,c)}},getDrilldown:function(){return Ext.ComponentQuery.query("#nx-drilldown")[0]},getDrilldownItems:function(){return Ext.ComponentQuery.query("nx-drilldown-item")},getDrilldownDetails:function(){return Ext.ComponentQuery.query("nx-drilldown-details")[0]},loadStores:function(){var a=this;if(this.getFeature()){Ext.each(this.stores,function(b){a.getStore(b).load()})}},reselect:function(){var a=Ext.ComponentQuery.query("nx-drilldown-master");if(a.length){this.navigateTo(NX.Bookmarks.getBookmark())}},onCellClick:function(a,i,d,c,f,h,g){var b=Ext.ComponentQuery.query("nx-drilldown-master").indexOf(a.up("grid"));if(g&&g.getTarget("a")){return false}this.loadView(b+1,true,c)},onModelChanged:function(f,e){var g=this,a=Ext.ComponentQuery.query("nx-drilldown-master"),c,d,b;if(!a[f]){return}c=a[f].getView();d=c.getCellByPosition({row:c.getRowId(e),column:0});b=d?d.dom.getElementsByTagName("img"):null;a[f].getSelectionModel().select([e],false,true);g.setItemName(f+1,g.getDescription(e));if(b&&b.length){this.setItemClass(f+1,b[0].className)}},loadView:function(d,b,c){var f=this,a=Ext.ComponentQuery.query("nx-drilldown-master");if(!f.getFeature()){return}if(c&&d>0){a[d-1].fireEvent("selection",a[d-1],c);f.onModelChanged(d-1,c)}for(var e=0;e<=d;++e){f.setItemBookmark(e,NX.Bookmarks.fromSegments(NX.Bookmarks.getBookmark().getSegments().slice(0,e+1)),f)}f.showChild(d,b);f.bookmark(d,c)},loadCreateWizard:function(b,a,e){var d=this;for(var c=1;c<=b;++c){d.setItemBookmark(c,null)}d.showCreateWizard(b,a,e)},bookmark:function(d,c){var a=Ext.ComponentQuery.query("nx-drilldown-master"),f=NX.Bookmarks.getBookmark().getSegments(),b=[],e=0;b.push(f.shift());while(e<a.length&&e<d-1){b.push(f.shift());++e}if(c){b.push(encodeURIComponent(c.getId()))}NX.Bookmarks.bookmark(NX.Bookmarks.fromSegments(b),this)},onNavigate:function(){this.reselect()},navigateTo:function(d){var e=this,a=Ext.ComponentQuery.query("nx-drilldown-master"),f=d.getSegments().slice(1),c,g,b;if(!e.getFeature||!e.getFeature()){return}if(a.length&&f.length){g=decodeURIComponent(f.pop());c=f.length;b=a[c].getStore();if(b.isLoading()){e.mon(b,"load",function(){e.selectModelById(c,g);e.mun(b,"load")})}else{e.selectModelById(c,g)}}else{e.loadView(0,false)}},selectModelById:function(d,f){var e=this,a=Ext.ComponentQuery.query("nx-drilldown-master"),b,c;if(!a[d]){return}b=a[d].getStore();if(!b.getCount()){return}c=e.getById(b,f);if(c===null){c=e.getById(b,parseInt(f))}if(c===null){if(Ext.isFunction(e.findAndSelectModel)){e.findAndSelectModel(d,f)}return}e.selectModel(d,c)},selectModel:function(c,b){var d=this,a=Ext.ComponentQuery.query("nx-drilldown-master");if(c+1!==d.currentIndex){d.loadView(c+1,false,b)}else{a[c].fireEvent("selection",a[c],b);d.onModelChanged(c,b);d.refreshBreadcrumb()}},findAndSelectModel:function(d,f){var e=this,a=Ext.ComponentQuery.query("nx-drilldown-master"),b=a[d].getStore(),c=b.model.modelName.replace(/^.*?model\./,"").replace(/\-.*$/,"");NX.Messages.add({text:c+" ("+f+") not found",type:"warning"})},getById:function(a,c){var b=a.findBy(function(d){return d.getId()===c});if(b!==-1){return a.getAt(b)}return null},onDelete:function(){var c=this,a=Ext.ComponentQuery.query("nx-drilldown-master")[0].getSelectionModel().getSelection(),b;if(Ext.isDefined(a)&&a.length>0){b=c.getDescription(a[0]);NX.Dialogs.askConfirmation("Confirm deletion?",b,function(){c.deleteModel(a[0]);NX.Bookmarks.bookmark(NX.Bookmarks.fromToken(NX.Bookmarks.getBookmark().getSegment(0)))},{scope:c})}},bindNewButton:function(a){a.mon(NX.Conditions.isPermitted(this.permission+":create"),{satisfied:a.enable,unsatisfied:a.disable,scope:a})},bindDeleteButton:function(a){a.mon(NX.Conditions.isPermitted(this.permission+":delete"),{satisfied:a.enable,unsatisfied:a.disable,scope:a})},BROWSE_INDEX:0,CREATE_INDEX:1,BLANK_INDEX:2,syncSizeToOwner:function(){var d=this,c=d.getDrilldown(),a=c.ownerCt.body.el,b=c.down("container");b.setSize(a.getWidth()*b.items.length,a.getHeight());d.slidePanels(d.currentIndex,false)},showCreateWizard:function(d,c,f){var e=this,a=e.getDrilldown(),b=e.padItems(d),g;if(f){g=a.down("#create"+d);g.removeAll();g.add(f)}b[d].setCardIndex(e.CREATE_INDEX);e.slidePanels(d,c)},showChild:function(c,b){var f=this,a=f.getDrilldownItems(),e=a[c],g;e.setCardIndex(f.BROWSE_INDEX);for(var d=0;d<a.length;++d){g=a[d].down("#create"+d);g.removeAll()}f.slidePanels(c,b)},hideAllExceptAndFocus:function(b){var e=this,a=e.getDrilldownItems(),d;for(var c=0;c<a.length;++c){if(c!=b){a[c].getLayout().setActiveItem(e.BLANK_INDEX)}}d=a[b].down("nx-addpanel[defaultFocus]");if(d){d.down("[name="+d.defaultFocus+"]").focus()}else{e.getDrilldown().focus()}},slidePanels:function(e,a){var g=this,d=g.getDrilldown(),j=d.up("nx-feature-content"),f=g.getDrilldownItems(),h=f[e];if(h&&h.el){g.currentIndex=e;h.getLayout().setActiveItem(h.cardIndex);var b=j.el.getX()-(e*j.el.getWidth());if(a){Ext.suspendLayouts();d.animate({easing:"easeInOut",duration:NX.State.getValue("animateDuration",200),to:{x:b},callback:function(){g.refreshBreadcrumb();g.hideAllExceptAndFocus(g.currentIndex);for(var k=e+1;k<f.length;++k){f[k].down("#create"+k).removeAll()}Ext.resumeLayouts(true);g.resizeBreadcrumb()}})}else{d.setX(b,false);g.refreshBreadcrumb();g.resizeBreadcrumb();g.hideAllExceptAndFocus(e);for(var c=e+1;c<f.length;++c){f[c].down("#create"+c).removeAll()}}}},padItems:function(c){var f=this,a=f.getDrilldown(),b=f.getDrilldownItems(),e;if(c>b.length-1){e=a.down("container");for(var d=b.length;d<=c;++d){e.add(a.createDrilldownItem(d,undefined,undefined))}f.syncSizeToOwner()}return f.getDrilldownItems()},refreshBreadcrumb:function(){var d=this,c=d.getDrilldown().up("#feature-content"),f=c.down("#breadcrumb"),a=d.getDrilldownItems(),e=[];if(d.currentIndex==0){c.showRoot()}else{e.push({xtype:"button",scale:"large",ui:"nx-drilldown",text:c.currentTitle,handler:function(){d.slidePanels(0,true);var g=a[0].itemBookmark;if(g){NX.Bookmarks.bookmark(g.obj,g.scope)}}});for(var b=1;b<=d.currentIndex&&b<a.length;++b){if(!a[b].itemName){return}e.push({xtype:"label",cls:"nx-breadcrumb-separator",text:"/"},{xtype:"image",height:16,width:16,cls:"nx-breadcrumb-icon "+a[b].itemClass},(function(g){return{xtype:"button",scale:"medium",ui:"nx-drilldown",disabled:(b===d.currentIndex?true:false),text:a[g].itemName,handler:function(){var h=a[g].itemBookmark;if(h){NX.Bookmarks.bookmark(h.obj,h.scope)}d.slidePanels(g,true)}}})(b))}f.removeAll();f.add(e)}},resizeBreadcrumb:function(){var e=this,f=60,b=e.getDrilldown().ownerCt,h=e.getDrilldown().up("#feature-content").down("#breadcrumb"),d,c,g;if(b&&h.getWidth()+f>b.getWidth()){d=h.query("button").splice(1);c=b.getWidth();g=h.getWidth()+f;for(var a=0;a<d.length;++a){g-=d[a].getWidth()}e.reduceButtonWidth(d,c-g)}},reduceButtonWidth:function(f,d,g){var e=this,b=0,h;f=f.sort(function(j,i){return i.getWidth()-j.getWidth()});for(var c=0;c<f.length;++c){b+=f[c].getWidth()}for(var c=0;c<f.length;++c){if(c<f.length-1&&f[c].getWidth()>f[c+1].getWidth()){if(b-(f[c].getWidth()-f[c+1].getWidth())<=d){h=d;for(var a=c+1;a<f.length;++a){h-=f[a].getWidth()}f[c].setWidth(h);break}else{f[c].setWidth(f[c+1].getWidth());e.reduceButtonWidth(f,d,g)}}else{h=Math.floor(d/f.length);for(var a=0;a<f.length;++a){f[a].setWidth(h)}break}}},setItemName:function(b,d){var c=this,a=c.padItems(b);a[b].setItemName(d)},setItemClass:function(c,a){var d=this,b=d.padItems(c);b[c].setItemClass(a)},setItemBookmark:function(b,d,c){var e=this,a=e.padItems(b);a[b].setItemBookmark(d,c)},showInfo:function(a){this.getDrilldownDetails().showInfo(a)},clearInfo:function(){this.getDrilldownDetails().clearInfo()},showWarning:function(a){this.getDrilldownDetails().showWarning(a)},clearWarning:function(){this.getDrilldownDetails().clearWarning()},addTab:function(a){var b=this;if(!b.detail){b.getDrilldownDetails().addTab(a)}},removeTab:function(a){var b=this;if(!b.detail){b.getDrilldownDetails().removeTab(a)}}});Ext.define("NX.view.dev.Features",{extend:"Ext.grid.Panel",alias:"widget.nx-dev-features",title:"Features",store:"Feature",emptyText:"No features",columns:[{text:"mode",dataIndex:"mode",editor:"textfield"},{text:"path",dataIndex:"path",editor:"textfield",flex:1},{text:"bookmark",dataIndex:"bookmark",editor:"textfield",flex:1},{text:"weight",dataIndex:"weight",width:80,editor:"textfield"},{text:"view",dataIndex:"view",editor:"textfield",hidden:true},{text:"help keyword",dataIndex:"helpKeyword",editor:"textfield",flex:1},{text:"description",dataIndex:"description",editor:"textfield",flex:1},{text:"iconName",dataIndex:"iconName",editor:"textfield"},{xtype:"nx-iconcolumn",dataIndex:"iconName",width:48,iconVariant:"x16"},{xtype:"nx-iconcolumn",dataIndex:"iconName",width:48,iconVariant:"x32"}],plugins:[{ptype:"rowediting",clicksToEdit:1},"gridfilterbox"],viewConfig:{deferEmptyText:false,markDirty:false}});Ext.define("NX.view.SettingsForm",{extend:"Ext.form.Panel",requires:["NX.I18n"],alias:"widget.nx-settingsform",ui:"nx-subsection",frame:true,constructor:function(a){a=a||{};a.trackResetOnLoad=true;this.callParent([a])},settingsForm:true,settingsFormSubmit:true,settingsFormSubmitOnEnter:false,settingsFormSuccessMessage:undefined,settingsFormLoadMessage:undefined,settingsFormSubmitMessage:undefined,editableCondition:undefined,editableMarker:undefined,autoScroll:true,waitMsgTarget:true,defaults:{xtype:"textfield",allowBlank:false},buttonAlign:"left",buttons:"defaultButtons",initComponent:function(){var a=this;if(a.buttons==="defaultButtons"){a.buttons=[{text:NX.I18n.get("SettingsForm_Save_Button"),action:"save",ui:"nx-primary",bindToEnter:false},{text:NX.I18n.get("SettingsForm_Discard_Button"),action:"discard"}]}Ext.applyIf(a,{settingsFormLoadMessage:NX.I18n.get("SettingsForm_Load_Message"),settingsFormSubmitMessage:NX.I18n.get("SettingsForm_Submit_Message")});if(a.buttons&&Ext.isArray(a.buttons)&&a.buttons[0]&&Ext.isDefined(a.buttons[0].bindToEnter)){a.buttons[0].bindToEnter=a.settingsFormSubmitOnEnter}a.callParent();a.addEvents("recordloaded","loaded","submitted")},loadRecord:function(a){var b=this;b.callParent(arguments);b.fireEvent("recordloaded",b,a)},setEditable:function(a){var b=this,d=b.getChildItemsToDisable(),c;if(a){Ext.Array.each(d,function(g){var e=true,f;if(g.resetEditable){if(Ext.isFunction(g.setReadOnly)){g.setReadOnly(false)}else{if(Ext.isDefined(g.resetFormBind)){g.formBind=g.resetFormBind}if(g.formBind){f=g.up("form");if(f&&!f.isValid()){e=false}}if(e){g.enable()}}}if(Ext.isDefined(g.resetEditable)){delete g.resetEditable;delete g.resetFormBind}})}else{Ext.Array.each(d,function(e){if(Ext.isFunction(e.setReadOnly)){if(e.resetEditable!==false&&!e.readOnly){e.setReadOnly(true);e.resetEditable=true}}else{if(e.resetEditable!==false&&!e.disabled){e.disable();e.resetFormBind=e.formBind;delete e.formBind;e.resetEditable=true}}})}c=b.getDockedItems('toolbar[dock="bottom"]')[0];if(c){if(a){if(c.editableMarker){c.remove(c.editableMarker);c.editableMarker=undefined}}else{if(b.editableMarker){c.editableMarker=Ext.widget({xtype:"label",text:b.editableMarker,style:{fontSize:"10px",fontWeight:"bold"}});c.add(c.editableMarker)}}}}});Ext.define("NX.ext.grid.column.Action",{extend:"Ext.grid.column.Action",alias:"widget.nx-actioncolumn",initComponent:function(){var a=this;a.handler=function(f,c,d,g,h,b,i){a.fireEvent("actionclick",a,f,c,d,g,b,i)};a.callParent()}});Ext.define("NX.view.dev.Icons",{extend:"Ext.grid.Panel",alias:"widget.nx-dev-icons",title:"Icons",store:"Icon",emptyText:"No icons",viewConfig:{deferEmptyText:false},columns:[{text:"cls",dataIndex:"cls",width:200},{text:"name",dataIndex:"name"},{text:"file",dataIndex:"file"},{text:"variant",dataIndex:"variant",width:50},{text:"size",xtype:"templatecolumn",tpl:"{height}x{width}",width:80},{text:"url",xtype:"templatecolumn",tpl:'<a href="{url}" target="_blank">{url}</a>',flex:1},{text:"img src",xtype:"templatecolumn",tpl:'<img src="{url}"/>'},{xtype:"nx-iconcolumn",text:"img class",dataIndex:"cls",iconCls:function(a){return a}}],plugins:[{ptype:"rowediting",clicksToEdit:1},"gridfilterbox"]});Ext.define("NX.controller.Branding",{extend:"NX.app.Controller",requires:["NX.State"],views:["header.Branding"],refs:[{ref:"viewport",selector:"viewport"},{ref:"headerBranding",selector:"nx-header-branding"},{ref:"footerBranding",selector:"nx-footer-branding"}],init:function(){var a=this;a.listen({controller:{"#State":{brandingchanged:a.onBrandingChanged}},component:{"nx-header-branding":{afterrender:a.renderHeaderBranding},"nx-footer-branding":{afterrender:a.renderFooterBranding}}})},onBrandingChanged:function(){this.renderHeaderBranding();this.renderFooterBranding()},renderHeaderBranding:function(){var a=NX.State.getValue("branding"),b=this.getHeaderBranding();if(b){if(a&&a.headerEnabled){b.update(a.headerHtml);b.show()}else{b.hide()}}},renderFooterBranding:function(){var b=NX.State.getValue("branding"),a=this.getFooterBranding();if(a){if(b&&b.footerEnabled){a.update(b.footerHtml);a.show()}else{a.hide()}}}});Ext.define("NX.controller.dev.Developer",{extend:"NX.app.Controller",requires:["Ext.state.Manager","NX.State","NX.Messages"],views:["dev.Panel","dev.Tests","dev.Styles","dev.Icons","dev.Features","dev.State","dev.Stores","dev.Logging"],refs:[{ref:"branding",selector:"nx-header-branding"},{ref:"developer",selector:"nx-dev-panel"}],init:function(){var a=this;a.listen({controller:{"#State":{debugchanged:a.manageDeveloperPanel}},component:{"nx-dev-panel":{afterrender:a.manageDeveloperPanel},"nx-dev-panel tool[type=maximize]":{click:a.onMaximize},"nx-dev-tests button[action=testError]":{click:a.testError},"nx-dev-tests button[action=testExtError]":{click:a.testExtError},"nx-dev-tests button[action=testMessages]":{click:a.testMessages},"nx-dev-tests button[action=toggleUnsupportedBrowser]":{click:a.toggleUnsupportedBrowser},"nx-dev-tests button[action=showLicenseWarning]":{click:a.showLicenseWarning},"nx-dev-tests button[action=showQuorumWarning]":{click:a.showQuorumWarning},"nx-dev-tests button[action=clearLocalState]":{click:a.clearLocalState}}})},onLaunch:function(){var a=this;Ext.each(Ext.ComponentQuery.query("nx-dev-panel"),function(b){a.manageDeveloperPanel(b)})},manageDeveloperPanel:function(a){var b=NX.State.getValue("debug");a=a||this.getDeveloper();if(a){if(b){a.show()}else{a.hide()}}},onMaximize:function(b){var a=b.up("nx-dev-panel"),c=a.down("tabpanel"),d;a.remove(c,false);d=Ext.create("Ext.window.Window",{title:a.title,iconCls:a.iconCls,glyph:a.glyph,maximized:true,autoScroll:true,closable:false,layout:"fit",items:c,tools:[{type:"close",handler:function(){d.hide(a,function(){d.remove(c,false);a.add(c);d.destroy()})}}]});d.show(a)},testError:function(){console.log_no_such_method()},testExtError:function(){Ext.Error.raise("simulated error")},testMessages:function(){Ext.each(["default","primary","danger","warning","success"],function(a){NX.Messages.add({type:a,text:"test of "+a})})},toggleUnsupportedBrowser:function(){NX.State.setBrowserSupported(!NX.State.isBrowserSupported())},showLicenseWarning:function(){var b=this,a=b.getController("NX.proui.controller.LicenseWarnings");a.daysToWarn=10000;a.updateLicenseExpiryWarning()},showQuorumWarning:function(){NX.State.setValue("quorum",{quorumPresent:false})},clearLocalState:function(){var a=Ext.state.Manager.getProvider();Ext.Object.each(a.state,function(b,c){a.clear(b)})}});Ext.define("NX.controller.Unlicensed",{extend:"NX.app.Controller",requires:["NX.Bookmarks","NX.Messages","NX.I18n"],onLaunch:function(){var a=this;Ext.History.on("change",a.forceLicensing);a.forceLicensing()},onDestroy:function(){var a=this;Ext.History.un("change",a.forceLicensing)},forceLicensing:function(){NX.Messages.add({text:NX.I18n.get("State_License_Invalid_Message"),type:"danger"});NX.Bookmarks.navigateTo(NX.Bookmarks.fromToken("admin/system/licensing"))}});Ext.define("NX.controller.Content",{extend:"NX.app.Controller",requires:["NX.Icons","NX.State"],views:["feature.Content"],refs:[{ref:"featureContent",selector:"nx-feature-content"}],init:function(){var a=this;a.listen({controller:{"#Menu":{featureselected:a.onFeatureSelected}},component:{"nx-feature-content":{resize:function(c){var b;if(c){b=c.down("nx-drilldown");if(b){b.fireEvent("syncsize")}}}}}})},onFeatureSelected:function(b){var f=this,e=f.getFeatureContent(),a=b.get("view"),g=b.get("text"),h=b.get("iconName"),d=b.get("description"),c;if(Ext.isString(a)){c=f.getView(a).create({})}else{c=Ext.widget(a)}f.mon(c,"destroy",function(){});e.removeAll();e.setTitle(g);e.setIconCls(NX.Icons.cls(h,"x32"));e.resetUnsavedChangesFlag();NX.global.document.title=g+" - "+NX.State.getValue("uiSettings").title;if(d===undefined){d=""}e.setDescription(d);e.showRoot();e.add(c);c.fireEvent("activate",c)}});Ext.define("NX.view.SettingsPanel",{extend:"Ext.panel.Panel",alias:"widget.nx-settingsPanel",autoScroll:true,cls:"nx-hr",layout:{type:"vbox",align:"stretch"},initComponent:function(){var a=this;a.items={xtype:"panel",ui:"nx-inset",items:a.settingsForm||[]};a.callParent()},addSettingsForm:function(a){this.down("panel").add(a)},removeAllSettingsForms:function(){this.down("panel").removeAll()},loadRecord:function(a){var b=this.down("nx-settingsform");if(b){b.loadRecord(a)}}});Ext.define("NX.ext.form.field.ItemSelector",{extend:"Ext.ux.form.ItemSelector",alias:"widget.nx-itemselector",requires:["Ext.ux.form.MultiSelect","NX.I18n"],width:600,height:253,disabledCls:"nx-itemselector-disabled",invalidCls:"nx-invalid",createButtons:function(){var c=this,b=c.callSuper();if(!c.hideNavIcons){var a=0;Ext.Array.forEach(c.buttons,function(d){c.customizeButton(d,b[a++])})}return b},customizeButton:function(a,b){delete b.iconCls;switch(a){case"top":b.glyph="xf102@FontAwesome";break;case"up":b.glyph="xf106@FontAwesome";break;case"add":b.glyph="xf105@FontAwesome";break;case"remove":b.glyph="xf104@FontAwesome";break;case"down":b.glyph="xf107@FontAwesome";break;case"bottom":b.glyph="xf103@FontAwesome";break}},createList:function(b){var a=this,c;if(!a.fromField){c={xtype:"nx-searchbox",emptyText:NX.I18n.get("Form_Field_ItemSelector_Empty"),searchDelay:200,listeners:{search:a.onSearch,searchcleared:a.onSearchCleared,scope:a}}}return Ext.create("Ext.ux.form.MultiSelect",{submitValue:false,isDirty:Ext.emptyFn,getSubmitData:function(){return null},getModelData:function(){return null},cls:"nx-multiselect",flex:1,dragGroup:a.ddGroup,dropGroup:a.ddGroup,title:b,store:{model:a.store.model,data:[]},displayField:a.displayField,valueField:a.valueField,disabled:a.disabled,listeners:{boundList:{scope:a,itemdblclick:a.onItemDblClick,drop:a.syncValue}},tbar:c})},setValue:function(a){this.callParent(arguments);this.resetOriginalValue()},populateFromStore:function(a){var c=this,b=c.fromField.store;if(b){b.removeAll()}c.callParent(arguments)},onSearch:function(a,c){var b=this;b.fromField.store.filter({id:"filter",filterFn:function(e){var d=e.get(b.displayField);if(d){d=d.toString();return d.toLowerCase().indexOf(c.toLowerCase())!==-1}return false}})},onSearchCleared:function(){this.fromField.store.clearFilter()},onDestroy:function(){var a=this;if(a.store){a.store.un("load",a.populateFromStore,a)}this.callParent()}});Ext.define("NX.wizard.Panel",{extend:"Ext.panel.Panel",alias:"widget.nx-wizard-panel",requires:["NX.I18n"],cls:"nx-wizard-panel",autoScroll:true,layout:{type:"vbox",align:"stretch"},items:{xtype:"container",itemId:"container",cls:"screencontainer",frame:true,layout:"card"},dockedItems:{xtype:"toolbar",itemId:"header",cls:"screenheader",dock:"top",items:[{xtype:"label",itemId:"title",cls:"title"},"->",{xtype:"label",itemId:"progress",cls:"progress"}]},getScreenHeader:function(){return this.down("#header")},setTitle:function(a){this.getScreenHeader().down("#title").setText(a)},setProgress:function(b,a){this.getScreenHeader().down("#progress").setText(NX.I18n.format("Wizard_Screen_Progress",b,a))},getScreenContainer:function(){return this.down("#container")}});Ext.define("NX.controller.SettingsForm",{extend:"NX.app.Controller",requires:["Ext.ComponentQuery","NX.Messages"],init:function(){var a=this;a.listen({controller:{"#Refresh":{refresh:a.onRefresh}},component:{"form[settingsForm=true]":{afterrender:a.loadForm,load:a.loadForm,dirtychange:a.updateButtonState,validitychange:a.updateButtonState},"form[settingsForm=true][editableCondition]":{afterrender:a.bindEditableCondition},"form[settingsForm=true][settingsFormSubmit=true] button[action=add]":{click:a.submitForm},"form[settingsForm=true][settingsFormSubmit=true] button[action=submit]":{click:a.submitForm},"form[settingsForm=true][settingsFormSubmit=true] button[action=save]":{click:a.submitForm},"form[settingsForm=true][settingsFormSubmit=true] button[action=discard]":{click:a.discardChanges},"form[settingsForm=true] field[bindGroup]":{validitychange:a.updateEnableState}}})},onRefresh:function(){var b=this,a=Ext.ComponentQuery.query("form[settingsForm=true]");if(a){Ext.each(a,function(c){b.loadForm(c)})}},loadForm:function(b,a){if(!b.isDestroyed&&b.rendered){if(b.api&&b.api.load){b.load(Ext.applyIf(a||{},{waitMsg:b.settingsFormLoadMessage,success:function(c,d){b.isValid();b.fireEvent("loaded",b,d)},failure:function(c,d){b.isValid()}}))}else{b.isValid()}}},submitForm:function(a){var c=this,b=a.up("form");if(b.api&&b.api.submit){b.submit({waitMsg:b.settingsFormSubmitMessage,success:function(d,e){var f=c.getSettingsFormSuccessMessage(b,e);if(f){NX.Messages.add({text:f,type:"success"})}b.fireEvent("submitted",b,e);c.loadForm(b)}})}},discardChanges:function(a){var b=a.up("form");if(b.api&&b.api.load){b.fireEvent("load",b)}else{b.getForm().reset();b.isValid()}},getSettingsFormSuccessMessage:function(a,b){var c;if(a.settingsFormSuccessMessage){if(Ext.isFunction(a.settingsFormSuccessMessage)){c=a.settingsFormSuccessMessage(b.result.data)}else{c=a.settingsFormSuccessMessage.toString()}c=c.replace(/\$action/,b.type.indexOf("submit")>-1?"updated":"refreshed")}return c},bindEditableCondition:function(a){if(Ext.isDefined(a.editableCondition)){a.mon(a.editableCondition,{satisfied:function(){a.setEditable(true)},unsatisfied:function(){a.setEditable(false)},scope:a})}},updateEnableState:function(b){var a=b.up("form");if(Ext.isString(b.bindGroup)){Ext.Array.each(b.bindGroup.split(" "),function(e){var d=a.query("component[groupBind="+e+"]"),f=a.query("field[bindGroup~="+e+"]"),c;Ext.Array.each(d,function(g){if(!Ext.isDefined(c)){c=true;Ext.Array.each(f,function(h){return c=h.isValid()})}if(c){g.enable()}else{g.disable()}})})}},updateButtonState:function(d){var a=d.isDirty(),c=d.isValid(),e=d.owner.down("button[action=save]"),b=d.owner.down("button[action=discard]");if(e){e.setDisabled(!c||!a)}if(b){b.setDisabled(!a)}}});Ext.define("NX.view.info.Entry",{extend:"Ext.Component",alias:"widget.nx-info",requires:["Ext.XTemplate"],initComponent:function(){var a=this;a.tpl=Ext.create("Ext.XTemplate",['<div class="nx-info">',"<table>",'<tpl for=".">','<tr class="nx-info-entry">','<td class="nx-info-entry-name">{name}</td>','<td class="nx-info-entry-value">{value}</td>',"</tr>","</tpl>","</tr>","</table>","</div>"]);a.callParent()},showInfo:function(b){var a=[];Ext.Object.each(b,function(c,d){if(!Ext.isEmpty(d)){a.push({name:c,value:d})}});if(this.getEl()){this.tpl.overwrite(this.getEl(),a);this.up("panel").doComponentLayout()}else{this.html=this.tpl.apply(a)}}});Ext.define("NX.view.info.Panel",{extend:"Ext.panel.Panel",alias:"widget.nx-info-panel",titled:null,framed:true,autoScroll:true,header:false,initComponent:function(){var b=this,a,c;c={xtype:"panel",ui:"nx-subsection",title:b.titled,frame:b.framed,items:{xtype:"nx-info"}};a={xtype:"panel",ui:"nx-inset",items:c};if(b.framed){b.items=a}else{b.items=c}b.callParent()},setTitle:function(b){var a=this;a.titled=b;a.down("panel").down("panel").setTitle(b)},showInfo:function(a){this.down("nx-info").showInfo(a)},addSection:function(a){this.down("nx-info").up("panel").add(a)}});Ext.define("NX.controller.UnsupportedBrowser",{extend:"NX.app.Controller",requires:["NX.State"],views:["UnsupportedBrowser","header.Panel","header.Branding","header.Logo","footer.Panel","footer.Branding"],refs:[{ref:"viewport",selector:"viewport"},{ref:"unsupportedBrowser",selector:"nx-unsupported-browser"}],init:function(){var a=this;a.listen({component:{viewport:{afterrender:a.onLaunch},"nx-unsupported-browser button[action=continue]":{click:a.onContinue}}})},onLaunch:function(){var b=this,a=b.getViewport();if(a){a.add({xtype:"nx-unsupported-browser"})}},onDestroy:function(){var b=this,a=b.getViewport();if(a){a.remove(b.getUnsupportedBrowser())}},onContinue:function(){NX.State.setBrowserSupported(true)}});Ext.define("NX.view.feature.Group",{extend:"Ext.container.Container",alias:"widget.nx-feature-group",requires:["NX.Icons"],cls:["nx-feature-group","nx-inset"],autoScroll:true,items:{xtype:"container",frame:true,cls:"nx-subsection",items:{xtype:"dataview",store:"FeatureGroup",tpl:['<tpl for=".">','<div class="item-wrap">','{[ NX.Icons.img(values.iconName, "x32") ]}',"<span>{text}</span>","</div>","</tpl>"],itemSelector:"div.item-wrap",trackOver:true,overItemCls:"x-item-over",selectedItemCls:"x-item-selected"}}});Ext.define("NX.controller.MenuGroup",{extend:"NX.app.Controller",requires:["NX.Bookmarks"],views:["feature.Group"],init:function(){var a=this;a.listen({component:{"nx-feature-group dataview":{selectionchange:a.onSelection}}})},onSelection:function(a,b){var c;if(b.length>0){c=b[0];NX.Bookmarks.navigateTo(NX.Bookmarks.fromToken(c.get("bookmark")),this)}}});Ext.define("NX.wizard.Controller",{extend:"NX.app.Controller",requires:["NX.Assert"],steps:undefined,activeStepIndex:undefined,context:undefined,init:function(){var a=this;a.steps=[];a.activeStepIndex=0;a.context=Ext.create("Ext.util.MixedCollection");a.addRef([{ref:"content",selector:"nx-feature-content"},{ref:"panel",selector:"nx-wizard-panel"}]);a.listen({controller:{"#Refresh":{refresh:a.refresh}}});a.callParent()},onDestroy:function(){this.reset()},registerStep:function(a){var b;if(Ext.isString(a)){b=Ext.create(a)}else{b=Ext.widget(a)}b.attach(this);this.steps.push(b)},registerSteps:function(b){var a=this;Ext.Array.each(b,function(c){a.registerStep(c)})},getStep:function(a){var c=this.steps,b;for(b=0;b<c.length;b++){if(a===c[b].getName()){return c[b]}}this.logWarn("Missing step:",a);return null},getStepIndex:function(c){var b=this.steps,a;for(a=0;a<b.length;a++){if(c.getName()===b[a].getName()){return a}}return -1},getActiveStep:function(){return this.steps[this.activeStepIndex]},load:function(){var c=this.steps,b,a;a=this.getPanel().getScreenContainer();for(b=0;b<c.length;b++){a.add(c[b].createScreenCmp())}this.restore()},refresh:function(){this.getActiveStep().refresh()},getContext:function(){return this.context},moveTo:function(d){if(d<0||d+1>this.steps.length){this.logError("Index out of bounds:",d);return false}var b=this.getPanel(),a,e,c;if(!b){return false}a=b.getScreenContainer();e=a.getLayout();c=e.setActiveItem(d);if(c===false){c=e.getActiveItem()}this.activeStepIndex=d;this.updateScreenHeader(c,d);return true},updateScreenHeader:function(b,d){var a=this.getPanel(),g=this.steps,c=0,f=1,e;for(e=0;e<g.length;e++){if(g[e].enabled){c++;if(e<d){f++}}}a.setTitle(b.getTitle());a.setProgress(f,c)},moveToStepNamed:function(a){var c=this,b;b=c.getStep(a);if(!b){this.logError("Missing step with name:",a);return false}return c.moveTo(c.getStepIndex(b))},moveNext:function(){var c=this.activeStepIndex,a=this.steps.length,b;if(c+1>=a){this.logError("No next step");return false}for(b=c+1;b<a;b++){if(this.steps[b].enabled){return this.moveTo(b)}}this.logError("No enabled next step");return false},moveBack:function(){var b=this.activeStepIndex,a;if(b<=0){this.logError("No back step");return false}for(a=b-1;a>=0;a--){if(this.steps[a].enabled){return this.moveTo(a)}}this.logError("No enabled back step");return false},reset:function(){var b=this.steps,a;for(a=0;a<b.length;a++){b[a].reset()}this.context.removeAll();this.moveTo(0)},cancel:function(){this.reset()},finish:function(){this.reset()},restore:function(){this.moveTo(this.activeStepIndex)},mask:function(a){this.getContent().getEl().mask(a)},unmask:function(){this.getContent().getEl().unmask()}});Ext.define("NX.controller.dev.Logging",{extend:"NX.app.Controller",requires:["Ext.util.Format","NX.Windows"],stores:["LogEvent","LogLevel"],refs:[{ref:"panel",selector:"nx-dev-logging"}],init:function(){var a=this;function b(c){return a.getController("Logging").getSink(c)}a.listen({component:{"nx-dev-logging button[action=clear]":{click:function(c){a.getStore("LogEvent").removeAll()}},"nx-dev-logging combobox[itemId=threshold]":{afterrender:function(c){c.select(a.getController("Logging").getThreshold())},select:function(c){a.getController("Logging").setThreshold(c.getValue())}},"nx-dev-logging checkbox[itemId=buffer]":{afterrender:function(c){c.setValue(b("store").enabled)},change:function(c){b("store").setEnabled(c.getValue())}},"nx-dev-logging numberfield[itemId=bufferSize]":{afterrender:function(c){c.setValue(b("store").maxSize)},blur:function(d,c){b("store").setMaxSize(d.getValue())},keypress:function(d,c){if(c.getKey()===c.ENTER){b("store").setMaxSize(d.getValue())}}},"nx-dev-logging checkbox[itemId=console]":{afterrender:function(c){c.setValue(b("console").enabled)},change:function(c){b("console").setEnabled(c.getValue())}},"nx-dev-logging checkbox[itemId=remote]":{afterrender:function(c){c.setValue(b("remote").enabled)},change:function(c){b("remote").setEnabled(c.getValue())}},"nx-dev-logging button[action=export]":{click:a.exportSelection}}})},exportSelection:function(){var c,b,a;c=NX.Windows.open("","","width=640,height=480");if(c!==null){b=c.document;a=Ext.Array.pluck(this.getPanel().getSelectionModel().getSelection(),"data");b.write("<html><head>");b.write("<title>"+Ext.util.Format.plural(a.length,"Logging Event")+"</title>");b.write("</head><body>");b.write("<pre>");Ext.Array.each(a,function(d){b.write(d.timestamp+" "+d.level+" "+d.logger+" "+d.message.join(" ")+"<br/>")});b.write("<pre>");b.write("</body></html>")}}});Ext.define("NX.view.AddPanel",{extend:"Ext.panel.Panel",alias:"widget.nx-addpanel",requires:["NX.I18n"],cls:"nx-hr",layout:{type:"vbox",align:"stretch"},autoScroll:true,initComponent:function(){var a=this;if(Ext.isDefined(a.settingsForm)&&!Ext.isArray(a.settingsForm)){if(!a.settingsForm.buttons){a.settingsForm.buttons=[{text:NX.I18n.get("Add_Submit_Button"),action:"add",formBind:true,ui:"nx-primary",bindToEnter:a.items.settingsFormSubmitOnEnter},{text:NX.I18n.get("Add_Cancel_Button"),handler:function(){this.up("nx-drilldown").showChild(0,true)}}]}}a.items={xtype:"panel",ui:"nx-inset",items:a.settingsForm};a.callParent()}});Ext.define("NX.view.AddWindow",{extend:"Ext.window.Window",alias:"widget.nx-addwindow",requires:["NX.I18n"],layout:"fit",autoShow:true,modal:true,constrain:true,width:630,minWidth:630,initComponent:function(){var a=this;if(Ext.isDefined(a.items)&&!Ext.isArray(a.items)){if(!a.items.buttons){a.items.buttons=[{text:NX.I18n.get("Add_Submit_Button"),action:"add",formBind:true,ui:"nx-primary",bindToEnter:a.items.settingsFormSubmitOnEnter},{text:NX.I18n.get("Add_Cancel_Button"),handler:function(){this.up("window").close()}}]}}a.maxHeight=Ext.getBody().getViewSize().height-100;a.callParent()}});Ext.define("NX.view.drilldown.Master",{extend:"Ext.grid.Panel",alias:"widget.nx-drilldown-master",maskElement:"body",initComponent:function(){var a=this;a.callParent();a.on("render",this.loadStore,this);a.on("viewready",function(b){b.refreshDrilldown(b.headerCt)});a.headerCt.on("columnschanged",a.refreshDrilldown)},loadStore:function(){this.getStore().load()},refreshDrilldown:function(c){var a,b=c.items.items.filter(function(f,d){if(f.cls&&f.cls==="nx-drilldown-affordance"){if(!a){a=d}return true}return false});if(b.length===1&&a+1===c.items.items.length){return}this.suspendEvents(false);b.forEach(function(d){c.remove(d)});c.add({width:28,hideable:false,sortable:false,menuDisabled:true,resizable:false,draggable:false,stateId:"affordance",cls:"nx-drilldown-affordance",defaultRenderer:function(){return Ext.DomHelper.markup({tag:"span",cls:"x-fa fa-angle-right"})}});this.resumeEvents()}});Ext.define("NX.controller.Dashboard",{extend:"NX.app.Controller",requires:["NX.I18n"],views:["dashboard.Welcome"],init:function(){this.getApplication().getFeaturesController().registerFeature({path:"/Welcome",mode:"browse",view:"NX.view.dashboard.Welcome",text:NX.I18n.get("Dashboard_Title"),description:NX.I18n.get("Dashboard_Description"),iconConfig:{file:"house.png",variants:["x16","x32"]},weight:10,authenticationRequired:false})}});
ph0p      Yz!?Yz!>>uY   G    :http://10.0.2.15:8081/static/rapture/nexus-rapture-prod.js?_v=3.4.0-02 strongly-framed 1 request-method GET response-head HTTP/1.1 200 OK
Date: Thu, 27 Jul 2017 16:47:22 GMT
Server: Nexus/3.4.0-02 (OSS)
X-Frame-Options: SAMEORIGIN
X-Content-Type-Options: nosniff
Content-Type: application/javascript
Last-Modified: Thu, 27 Jul 2017 16:36:38 GMT
Cache-Control: max-age=2592000
Content-Length: 193779
 original-response-headers Date: Thu, 27 Jul 2017 16:47:22 GMT
Server: Nexus/3.4.0-02 (OSS)
X-Frame-Options: SAMEORIGIN
X-Content-Type-Options: nosniff
Content-Type: application/javascript
Last-Modified: Thu, 27 Jul 2017 16:36:38 GMT
Cache-Control: max-age=2592000
Content-Length: 193779
 uncompressed-len 0  