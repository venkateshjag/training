Ext.define("NX.coreui.app.PluginStrings",{"@aggregate_priority":90,singleton:true,requires:["NX.I18n"],keys:{Browse_Assets_Title_Feature:"Assets",Browse_Assets_Description_Feature:"Browse assets",Browse_Components_Title_Feature:"Components",Browse_Components_Description_Feature:"Browse components and assets",Browse_BrowseComponentList_Name_Column:"Name",Browse_BrowseComponentList_Group_Column:"Group",Browse_BrowseComponentList_Version_Column:"Version",Browse_BrowseComponentList_EmptyText_View:"No components found in repository",Browse_BrowseComponentList_EmptyText_Filter:'No components matched "$filter"',Browse_BrowseAssetList_Name_Column:"Name",Browse_BrowseAssetList_EmptyText_View:"No assets found in repository",Browse_BrowseAssetList_EmptyText_Filter:'No assets matched "$filter"',Assets_Info_Path:"Path",Assets_Info_ContentType:"Content type",Assets_Info_FileSize:"File size",Assets_Info_Last_Downloaded:"Last downloaded",Assets_Info_Locally_Cached:"Locally cached",Assets_Info_BlobRef:"Blob reference",Assets_Info_Blob_Created:"Blob created",Assets_Info_Blob_Updated:"Blob updated",Assets_Info_ContainingRepositoryName:"Containing repo",AssetInfo_Delete_Button:"Delete asset",AssetInfo_Delete_Title:"Confirm deletion?",AssetInfo_Delete_Success:"Asset deleted: {0}",ComponentDetails_Delete_Button:"Delete component",ComponentDetails_Analyze_Button:"Analyze application",ComponentDetails_Delete_Title:"Confirm deletion?",ComponentDetails_Delete_Success:"Component deleted: {0}",ComponentDetails_Analyze_Success:"Analysis in process. Email will be sent when report is ready.",AnalyzeApplicationWindow_Title:"Analyze Application",AnalyzeApplicationWindow_Form_Asset_FieldLabel:"Application asset",AnalyzeApplicationWindow_Form_Asset_HelpText:"Select the asset that contains the application",AnalyzeApplicationWindow_Form_Asset_EmptyText:"Select an asset",AnalyzeApplicationWindow_Form_Email_FieldLabel:"Email address",AnalyzeApplicationWindow_Form_Email_HelpText:"The address where the summary report will be sent",AnalyzeApplicationWindow_Form_Password_FieldLabel:"Report password",AnalyzeApplicationWindow_Form_Password_HelpText:"A password to gain access to the detailed report",AnalyzeApplicationWindow_Form_ProprietaryPackages_FieldLabel:"Proprietary packages",AnalyzeApplicationWindow_Form_ProprietaryPackages_HelpText:"A comma separated list of proprietary packages",AnalyzeApplicationWindow_Form_Label_FieldLabel:"Report label",AnalyzeApplicationWindow_Form_Label_HelpText:"The name the report will be given",AnalyzeApplicationWindow_Analyze_Button:"Analyze",AnalyzeApplicationWindow_Cancel_Button:"Cancel",AnalyzeApplicationWindow_Form_Html:'<p>Application analysis performs a deep inspection of this application, identifying potential risks.  More information is available <a href="http://links.sonatype.com/products/insight/ac/home" target="_blank" class="x-link">here</a>.</p>',AnalyzeApplicationWindow_Loading_Mask:"Loading",AnalyzeApplicationWindow_No_Assets_Error_Title:"Component has no application assets",AnalyzeApplicationWindow_No_Assets_Error_Message:"The component you are analyzing has no application assets, please select another component for analysis.",HealthCheckInfo_Most_Popular_Version_Label:"Most popular version",HealthCheckInfo_Age_Label:"Age",HealthCheckInfo_Popularity_Label:"Popularity",HealthCheckInfo_Loading_Text:"Loading...",HealthCheckInfo_Disabled_Tooltip:"The age and popularity data is only available once Repository Health Check (RHC) has been enabled.",HealthCheckInfo_Error_Tooltip:"Error retrieving component data",HealthCheckInfo_Quota_Tooltip:"The query limit for age and popularity data has been reached. Contact Sonatype support to extend current quota limits.",HealthCheckInfo_Unavailable_Tooltip:"No data available for this component",Search_Text:"Search",Search_Description:"Search for components by attribute",Search_SaveSearchFilter_Title:"Save search filter",Search_SaveSearchFilter_Name_FieldLabel:"Filter name",Search_SaveSearchFilter_Description_FieldLabel:"Filter description",Search_Results_Limit_Message:"Only showing the first {0} of {1} results",SearchCriteria_Keyword_FieldLabel:"Keyword",SearchCriteria_RepositoryName_FieldLabel:"Repository Name",SearchCriteria_Name_FieldLabel:"Name",SearchCriteria_Format_FieldLabel:"Format",SearchCriteria_Group_FieldLabel:"Group",SearchCriteria_Checksum_Group:"Checksum",SearchDocker_Group:"Docker Repositories",SearchMaven_Group:"Maven Repositories",SearchNpm_Group:"npm Repositories",SearchNuget_Group:"NuGet Repositories",SearchPyPi_Group:"PyPI Repositories",SearchRubygems_Group:"RubyGems Repositories",SearchGitLfs_Group:"Git LFS Repositories",SearchYum_Group:"Yum Repositories",SearchCriteria_MD5_FieldLabel:"MD5",SearchCriteria_SHA1_FieldLabel:"SHA-1",SearchCriteria_SHA256_FieldLabel:"SHA-256",SearchCriteria_SHA2_FieldLabel:"SHA-512",SearchCriteria_Version_FieldLabel:"Version",Search_TextSearchCriteria_Filter_EmptyText:"Any",SearchDocker_Image_Name_FieldLabel:"Image Name",SearchDocker_Image_Tag_FieldLabel:"Image Tag",SearchDocker_LayerId_FieldLabel:"Layer Id",SearchDocker_ContentDigest_FieldLabel:"Content Digest",SearchMaven_ArtifactID_FieldLabel:"Artifact Id",SearchMaven_BaseVersion_FieldLabel:"Base Version",SearchMaven_Extension_FieldLabel:"Extension",SearchMaven_GroupID_FieldLabel:"Group Id",SearchMaven_Classifier_FieldLabel:"Classifier",SearchMaven_Version_FieldLabel:"Version",SearchNpm_Scope_FieldLabel:"Scope",SearchNpm_Name_FieldLabel:"Name",SearchNpm_Version_FieldLabel:"Version",SearchNuget_ID_FieldLabel:"ID",SearchNuget_Tags_FieldLabel:"Tags",SearchPyPi_Classifiers_FieldLabel:"Classifiers",SearchPyPi_Description_FieldLabel:"Description",SearchPyPi_Keywords_FieldLabel:"PyPI Keywords",SearchPyPi_Summary_FieldLabel:"Summary",SearchRubygems_Name_FieldLabel:"Name",SearchRubygems_Version_FieldLabel:"Version",SearchRubygems_Platform_FieldLabel:"Platform",SearchRubygems_Summary_FieldLabel:"Summary",SearchRubygems_Description_FieldLabel:"Description",SearchRubygems_Licenses_FieldLabel:"Licenses",SearchRubygems_Homepage_FieldLabel:"Homepage",SearchYum_Architecture_FieldLabel:"Architecture",SearchYum_Name_FieldLabel:"Package Name",Search_More_Text:"More criteria",Search_SearchResultList_Format_Header:"Format",Search_SearchResultList_Group_Header:"Group",Search_SearchResultList_Name_Header:"Name",Search_SearchResultList_Repository_Header:"Repository",Search_SearchResultList_Version_Header:"Version",Search_SearchResultList_EmptyText:"No components matched the filter criteria",Search_Assets_Group:"Group",Search_Assets_Name:"Name",Search_Assets_Format:"Format",Search_Assets_Repository:"Repository",Search_Assets_Version:"Version",SearchResultAssetList_Name_Header:"Name",Component_AssetInfo_Info_Title:"Summary",Component_AssetInfo_Attributes_Title:"Attributes",Component_AssetInfo_HealthCheck_Title:"Component IQ",SearchBower_Text:"Bower",SearchBower_Description:"Search for components in Bower repositories",SearchDocker_Text:"Docker",SearchDocker_Description:"Search for components in Docker repositories",SearchRaw_Text:"Raw",SearchRaw_Description:"Search for components in Raw repositories",SearchGitLfs_Text:"Git LFS",SearchGitLfs_Description:"Search for components in Git LFS repositories",SearchNpm_Text:"npm",SearchNpm_Description:"Search for components in npm repositories",SearchNuget_Text:"NuGet",SearchNuget_Description:"Search for components in NuGet repositories",SearchPyPi_Text:"PyPI",SearchPyPi_Description:"Search for components in PyPI repositories",SearchRubygems_Text:"RubyGems",SearchRubygems_Description:"Search for components in RubyGems repositories",Search_Custom_Text:"Custom",Search_Custom_Description:"Search for components by custom criteria",SearchMaven_Text:"Maven",SearchMaven_Description:"Search for components by Maven coordinates",SearchYum_Text:"Yum",SearchYum_Description:"Search for components in Yum repositories",FeatureGroups_Browse_Text:"Browse",FeatureGroups_Browse_Description:"Browse assets and components",FeatureGroups_Upload_Text:"Upload",FeatureGroups_Upload_Description:"Upload content to the repository",FeatureGroups_Repository_Text:"Repository",FeatureGroups_Repository_Description:"Repository administration",Repositories_Text:"Repositories",Repositories_Description:"Manage repositories",Repositories_Delete_Mask:"Deleting repository",Repositories_Create_Title:"Create Repository: {0}",Repositories_SelectRecipe_Title:"Select Recipe",Repository_RepositoryAdd_Create_Success:"Repository created: ",Repository_RepositoryAdd_Create_Error:"You do not have permission to create repositories",Repository_RepositorySettingsForm_Update_Success:"Repository updated: ",Repository_RepositorySettingsForm_Update_Error:"You do not have permission to update repositories",Repository_RepositoryList_New_Button:"Create repository",Repository_RepositoryList_Name_Header:"Name",Repository_RepositoryList_Type_Header:"Type",Repository_RepositoryList_Format_Header:"Format",Repository_RepositoryList_Status_Header:"Status",Repository_RepositoryList_URL_Header:"URL",Repository_RepositoryList_Filter_EmptyText:'No repositories matched "$filter"',Repository_RepositoryList_EmptyText:"No repositories defined",Repository_RepositoryFeature_Delete_Button:"Delete repository",Repository_RepositoryFeature_RebuildIndex_Button:"Rebuild index",Repository_RepositoryFeature_HealthCheckDisable_Button:"Disable HealthCheck",Repository_RepositoryFeature_HealthCheckEnable_Button:"Enable HealthCheck",Repository_RepositoryFeature_InvalidateCache_Button:"Invalidate cache",Repository_RepositorySettings_Title:"Settings",Repository_Facet_BowerProxyFacet_Title:"Bower",Repository_Facet_BowerProxyFacet_RewritePackageUrls_FieldLabel:"Enable rewrite of package URLs",Repository_Facet_BowerProxyFacet_RewritePackageUrls_HelpText:"Force Bower to retrieve packages through the proxy repository",Repository_Facet_DockerHostedFacet_V1_Title:"Docker Registry API Support",Repository_Facet_DockerHostedFacet_V1_Enabled:"Enable Docker V1 API",Repository_Facet_DockerHostedFacet_V1_Enabled_Help:"Allow clients to use the V1 API to interact with this Repository.",Repository_Facet_DockerConnectorFacet_Title:"Repository Connectors",Repository_Facet_DockerConnectorFacet_Help:'<em>Connectors allow Docker clients to connect directly to hosted registries, but are not always required. Consult our <a href="http://links.sonatype.com/products/nexus/docker-ssl-connector/docs" target="_blank">documentation</a> for which connector is appropriate for your use case.<em/>',Repository_Facet_DockerConnectorFacet_HttpPort_FieldLabel:"HTTP",Repository_Facet_DockerConnectorFacet_HttpPort_HelpText:"Create an HTTP connector at specified port. Normally used if the server is behind a secure proxy.",Repository_Facet_DockerConnectorFacet_HttpsPort_FieldLabel:"HTTPS",Repository_Facet_DockerConnectorFacet_HttpsPort_HelpText:"Create an HTTPS connector at specified port. Normally used if the server is configured for https.",Repository_Facet_DockerProxyFacet_IndexType_FieldLabel:"Docker Index",Repository_Facet_DockerProxyFacet_IndexTypeRegistry_BoxLabel:"Use proxy registry (specified above)",Repository_Facet_DockerProxyFacet_IndexTypeHub_BoxLabel:"Use Docker Hub",Repository_Facet_DockerProxyFacet_IndexTypeCustom_BoxLabel:"Custom index",Repository_Facet_DockerProxyFacet_IndexUrl_HelpText:"Location of Docker index",Repository_Facet_GroupFacet_Title:"Group",Repository_Facet_HttpClientFacet_Title:"HTTP",Repository_Facet_Maven2Facet_Title:"Maven 2",Repository_Facet_NegativeCacheFacet_Title:"Negative Cache",Repository_Facet_NugetProxyFacet_Title:"NuGet",Repository_Facet_ProxyFacet_Title:"Proxy",Repository_Facet_StorageFacet_Title:"Storage",Repository_Facet_StorageFacetHosted_Title:"Hosted",Repository_Facet_ProxyFacet_Autoblock_FieldLabel:"Auto blocking enabled",Repository_Facet_ProxyFacet_Autoblock_HelpText:"Auto-block outbound connections on the repository if remote peer is detected as unreachable/unresponsive",Repository_Facet_ProxyFacet_Blocked_FieldLabel:"Blocked",Repository_Facet_ProxyFacet_Blocked_HelpText:"Block outbound connections on the repository",Repository_RepositorySettingsForm_Name_FieldLabel:"Name",Repository_RepositorySettingsForm_Name_HelpText:"A unique identifier for this repository",Repository_RepositorySettingsForm_URL_FieldLabel:"URL",Repository_RepositorySettingsForm_URL_HelpText:"The URL used to access this repository",Repository_Facet_GroupFacet_Members_FieldLabel:"Member repositories",Repository_Facet_GroupFacet_Members_HelpText:"Select and order the repositories that are part of this group",Repository_Facet_GroupFacet_Members_FromTitle:"Available",Repository_Facet_GroupFacet_Members_ToTitle:"Members",Repository_Facet_StorageFacetHosted_Deployment_FieldLabel:"Deployment policy",Repository_Facet_StorageFacetHosted_Deployment_HelpText:"Controls if deployments of and updates to artifacts are allowed",Repository_Facet_StorageFacetHosted_Deployment_EmptyText:"Select a policy",Repository_Facet_StorageFacetHosted_Deployment_AllowItem:"Allow redeploy",Repository_Facet_StorageFacetHosted_Deployment_DisableItem:"Disable redeploy",Repository_Facet_StorageFacetHosted_Deployment_ReadOnlyItem:"Read-only",Repository_Facet_ProxyFacet_Remote_FieldLabel:"Remote storage",Repository_Facet_ProxyFacet_Remote_HelpText:"Location of the remote repository being proxied",Repository_Facet_ProxyFacet_Remote_EmptyText:"Enter a URL",Ssl_SslUseTrustStore_BoxLabel:"Use the Nexus truststore",Ssl_SslUseTrustStore_Certificate_Button:"View certificate",Ssl_SslUseTrustStore_Certificate_HelpText:"Use certificates stored in the Nexus truststore to connect to external systems",Maven2Facet_VersionPolicy_FieldLabel:"Version policy",Maven2Facet_VersionPolicy_HelpText:"What type of artifacts does this repository store?",Maven2Facet_VersionPolicy_EmptyText:"Select a policy",Maven2Facet_VersionPolicy_MixedItem:"Mixed",Maven2Facet_VersionPolicy_ReleaseItem:"Release",Maven2Facet_VersionPolicy_SnapshotItem:"Snapshot",Repository_Facet_Maven2Facet_LayoutPolicy_FieldLabel:"Layout policy",Repository_Facet_Maven2Facet_LayoutPolicy_HelpText:"Validate that all paths are maven artifact or metadata paths",Repository_Facet_Maven2Facet_LayoutPolicy_EmptyText:"Select a policy",Repository_Facet_Maven2Facet_LayoutPolicy_StrictItem:"Strict",Repository_Facet_Maven2Facet_LayoutPolicy_PermissiveItem:"Permissive",Repository_RepositorySettingsForm_Format_FieldLabel:"Format",Repository_RepositorySettingsForm_Format_HelpText:"The format of the repository (i.e. maven2, docker, raw, nuget...)",Repository_RepositorySettingsForm_Type_FieldLabel:"Type",Repository_RepositorySettingsForm_Type_HelpText:"The type of repository (i.e. group, hosted, or proxy)",Repository_RepositorySettingsForm_Online_FieldLabel:"Online",Repository_RepositorySettingsForm_Online_HelpText:"If checked, the repository accepts incoming requests",Repository_Facet_ProxyFacet_ArtifactAge_FieldLabel:"Maximum component age",Repository_Facet_ProxyFacet_MetadataAge_FieldLabel:"Maximum metadata age",Repository_Facet_ProxyFacet_ArtifactAge_HelpText:"How long (in minutes) to cache artifacts before rechecking the remote repository. Release repositories should use -1.",Repository_Facet_ProxyFacet_MetadataAge_HelpText:"How long (in minutes) to cache metadata before rechecking the remote repository.",Repository_Facet_HttpClientFacet_ConnectionRetries_FieldLabel:"Connection retries",Repository_Facet_HttpClientFacet_ConnectionRetries_HelpText:"Total retries if the initial connection attempt suffers a timeout",Repository_Facet_HttpClientFacet_ConnectionTimeout_FieldLabel:"Connection timeout",Repository_Facet_HttpClientFacet_ConnectionTimeout_HelpText:"Seconds to wait for activity before stopping and retrying the connection. Leave blank to use the globally defined HTTP timeout.",Repository_Facet_HttpClientFacet_EnableCircularRedirects_FieldLabel:"Enable circular redirects",Repository_Facet_HttpClientFacet_EnableCircularRedirects_HelpText:"Enable redirects to the same location (may be required by some servers)",Repository_Facet_HttpClientFacet_EnableCookies_FieldLabel:"Enable cookies",Repository_Facet_HttpClientFacet_EnableCookies_HelpText:"Allow cookies to be stored and used",Repository_Facet_StorageFacet_BlobStore_FieldLabel:"Blob store",Repository_Facet_StorageFacet_BlobStore_HelpText:"Blob store used to store asset contents",Repository_Facet_StorageFacet_BlobStore_EmptyText:"Select a blob store",Repository_Facet_StorageFacet_ContentTypeValidation_FieldLabel:"Strict Content Type Validation",Repository_Facet_StorageFacet_ContentTypeValidation_HelpText:"Validate that all content uploaded to this repository is of a MIME type appropriate for the repository format",Repository_Facet_NegativeCacheFacet_Enabled_FieldLabel:"Not found cache enabled",Repository_Facet_NegativeCacheFacet_Enabled_HelpText:"Cache responses for content not present in the proxied repository",Repository_Facet_NegativeCacheFacet_TTL_FieldLabel:"Not found cache TTL",Repository_Facet_NegativeCacheFacet_TTL_HelpText:"How long to cache the fact that a file was not found in the repository (in minutes)",Repository_Facet_NugetProxyFacet_ItemMaxAge_FieldLabel:"Metadata query cache age",Repository_Facet_NugetProxyFacet_ItemMaxAge_HelpText:"How long to cache query results from the proxied repository (in seconds)",Repository_Facet_HttpClientFacet_AuthenticationType_FieldLabel:"Authentication type",Repository_Facet_HttpClientFacet_AuthenticationType_Username:"Username",Repository_Facet_HttpClientFacet_AuthenticationType_NTLM:"Windows NTLM",Repository_Facet_HttpClientFacet_Authentication_Title:"Authentication",Repository_Facet_HttpClientFacet_HTTP_Title:"HTTP request settings",HealthCheckRepositoryColumn_Header:"Health check",HealthCheckRepositoryColumn_Analyzing:"Analyzing…",HealthCheckRepositoryColumn_Analyzing_Tooltip:"<span><h2>The Analysis is Under Way</h2>The contents of your repository are being analyzed. This process should only take a few minutes.<br><br>When the analysis is complete and this page has been refreshed, we will show you the top 5 most vulnerable components in the repository, the number of downloads over the last month, and a year-over-year overview.</span>",HealthCheckRepositoryColumn_View_Permission_Error:"<span><h2>Insufficient Permissions to View Summary Report</h2>To view healthcheck summary report for a repository your user account must have the necessary permissions.</span>",HealthCheckRepositoryColumn_Analyze:"Analyze",HealthCheckRepositoryColumn_Analyze_Tooltip:'<span><h2>Repository Health Check Analysis</h2>Click this button to request a Repository Health Check (RHC) by IQ Server.  The process is non-invasive and non-disruptive. IQ Server will return actionable quality and security information about the open source components in the repository.<br><br><a href="http://links.sonatype.com/products/clm/rhc/home" target="_blank">How the IQ Server Repository Health Check can help you make better software faster</a></span>',HealthCheckRepositoryColumn_Analyze_Dialog_Title:"Analyze Repository",HealthCheckRepositoryColumn_Analyze_Dialog_Msg:"Do you want to analyze the repository {0} and others for security vulnerabilities and license issues?",HealthCheckRepositoryColumn_Analyze_Dialog_Ok_Text:"Yes, all repositories",HealthCheckRepositoryColumn_Analyze_Dialog_Yes_Text:"Yes, only this repository",HealthCheckRepositoryColumn_Analyze_Permission_Error:"<span><h2>Insufficient Permissions to Analyze a Repository</h2>To analyze a repository your user account must have permissions to start analysis.</span>",HealthCheckRepositoryColumn_Loading:"Loading…",HealthCheckRepositoryColumn_CollectingTrendData:"Insufficient trend data",HealthCheckRepositoryColumn_DownloadsDisabled:"Download trends disabled",HealthCheckRepositoryColumn_Unavailable_Tooltip:'<span><h2>Repository Health Check Unavailable</h2>A Repository Health Check (RHC) cannot be performed on this repository, because it is an unsupported type or out of service.<br><br><a href="http://links.sonatype.com/products/clm/rhc/home" target="_blank">How the IQ Server Repository Health Check can help you make better software faster</a></span>',Blobstores_Text:"Blob Stores",Blobstores_Description:"Manage blob stores",Blobstores_Delete_Mask:"Deleting blob store",Blobstores_Create_Title:"Create blob store",Blobstore_BlobstoreAdd_Create_Success:"Blob store created: ",Blobstore_BlobstoreAdd_Create_Error:"You do not have permission to create blob stores",Blobstore_BlobstoreSettingsForm_Update_Success:"Blob store updated: ",Blobstore_BlobstoreSettingsForm_Update_Error:"Update is not supported for blob stores",Blobstore_BlobstoreList_New_Button:"Create blob store",Blobstore_BlobstoreList_Name_Header:"Name",Blobstore_BlobstoreList_Type_Header:"Type",Blobstore_BlobstoreList_BlobCount_Header:"Blob count",Blobstore_BlobstoreList_TotalSize_Header:"Total size",Blobstore_BlobstoreList_AvailableSpace_Header:"Available space",Blobstore_BlobstoreList_Filter_EmptyText:'No blob stores matched "$filter"',Blobstore_BlobstoreList_EmptyText:"No blob stores defined",Blobstore_BlobstoreFeature_Delete_Button:"Delete blob store",Blobstore_BlobstoreFeature_Delete_Disabled_Message:"This blob store is in use by {0} and cannot be deleted",Blobstore_BlobstoreSettings_Title:"Settings",Blobstore_BlobstoreAdd_Type_FieldLabel:"Type",Blobstore_BlobstoreAdd_Type_EmptyText:"Select a type",Blobstore_BlobstoreSettingsForm_Name_FieldLabel:"Name",Blobstore_BlobstoreSettingsForm_Path_FieldLabel:"Path",Selectors_Text:"Content Selectors",Selectors_Description:"Manage content selectors",Selectors_Create_Title:"Create Selector",Selector_SelectorAdd_Create_Error:"You do not have permission to create selectors",Selector_SelectorAdd_Create_Success:"Selector created: {0}",Selector_SelectorSettingsForm_Update_Error:"You do not have permission to update selectors",Selector_SelectorSettingsForm_Update_Success:"Selector updated: {0}",Selector_SelectorList_New_Button:"Create selector",Selector_SelectorList_Name_Header:"Name",Selector_SelectorList_Description_Header:"Description",Selector_SelectorList_EmptyText:"No selectors defined",Selector_SelectorList_Filter_EmptyText:'No selectors matched "$filter"',Selector_SelectorFeature_Delete_Button:"Delete selector",Selectors_Delete_Message:"Selector deleted: {0}",Selector_SelectorFeature_Settings_Title:"Settings",Selector_SelectorSettingsForm_Name_FieldLabel:"Name",Selector_SelectorSettingsForm_Description_FieldLabel:"Description",Selector_SelectorSettingsForm_Expression_FieldLabel:"Search expression",Selector_SelectorSettingsForm_Expression_HelpText:"Use JEXL query to identify repositories, components or assets",Selector_SelectorSettingsForm_Expression_AfterBodyEl:'<div style="font-size: 11px"><br/><h4>Example <a href="http://links.sonatype.com/products/nexus/jexl" target="_blank">JEXL</a> queries:</h4><p>Select all "raw" format content<br/><i>format == "raw"</i></p><p>Select all "maven2" content with a groupId that starts with "org.sonatype.nexus"<br/><i>format == "maven2" and coordinate.groupId =^ "org.sonatype.nexus."</i></p><br/><p>See the <a href="http://links.sonatype.com/products/nexus/selectors/docs" target="_blank">Nexus documentation</a> for more details</p></div>',Selector_SelectorSettingsForm_SelectorID_Title:"Selector ID",Selector_SelectorSettingsForm_Specification_Title:"Specification",Selector_SelectorSettingsForm_Preview_Button:"Preview results",SelectorPreviewWindow_Title:"Preview results",SelectorPreviewWindow_jexl_FieldLabel:"Expression",SelectorPreviewWindow_repository_FieldLabel:"Preview Repository",SelectorPreviewWindow_repository_HelpText:"Select a repository to evaluate the content selector and see the content that would be available.",SelectorPreviewWindow_repository_EmptyText:"Select a repository...",SelectorPreviewWindow_EmptyText_View:"No assets in repository matched the expression",SelectorPreviewWindow_EmptyText_Filter:'No assets matched "$filter"',SelectorPreviewWindow_Name_Column:"Name",SelectorPreviewWindow_Preview_Button:"Preview",FeatureGroups_Security_Title:"Security",FeatureGroups_Security_Description:"Security administration",Privileges_Text:"Privileges",Privileges_Description:"Manage privileges",Privileges_Update_Mask:"Updating privilege",Privileges_Update_Success:"Privilege updated: {0}",Privileges_Create_Success:"Privilege created: {0}",Privileges_Delete_Success:"Privilege deleted: {0}",Privileges_Select_Title:"Select Privilege Type",Privilege_PrivilegeList_New_Button:"Create privilege",Privilege_PrivilegeList_Name_Header:"Name",Privilege_PrivilegeList_Description_Header:"Description",Privilege_PrivilegeList_Type_Header:"Type",Privilege_PrivilegeList_Permission_Header:"Permission",Privilege_PrivilegeList_EmptyText:"No privileges defined",Privilege_PrivilegeList_Filter_EmptyText:'No privileges matched "$filter"',Privilege_PrivilegeFeature_Details_Tab:"Summary",Privilege_PrivilegeFeature_Delete_Button:"Delete privilege",Privilege_PrivilegeFeature_Settings_Title:"Settings",Privilege_PrivilegeSelectType_Type_Header:"Type",Privilege_PrivilegeAdd_Create_Error:"You do not have permission to create privileges",Privilege_PrivilegeSettingsForm_Update_Success:"Privilege updated: {0}",Privilege_PrivilegeSettingsForm_Update_Error:"You do not have permission to update privileges or privilege is read only",Privilege_PrivilegeSettingsForm_Description_FieldLabel:"Description",Privilege_PrivilegeSettingsForm_Name_FieldLabel:"Name",Privileges_Summary_ID:"ID",Privileges_Summary_Type:"Type",Privileges_Summary_Name:"Name",Privileges_Summary_Description:"Description",Privileges_Summary_Permission:"Permission",Privileges_Summary_Property:"Property-{0}",Privileges_Create_Title:"Create {0} Privilege",Roles_Text:"Roles",Roles_Description:"Manage roles",Roles_Create_Title:"Create Role",Role_RoleAdd_Create_Error:"You do not have permission to create roles",Role_RoleAdd_Create_Success:"Role created: ",Role_RoleSettingsForm_Update_Error:"You do not have permission to update roles or role is readonly",Role_RoleSettingsForm_Update_Success:"Role updated: ",Role_RoleList_New_Button:"Create role",Role_RoleList_New_NexusRoleItem:"Nexus role",Roles_New_ExternalRoleItem:"External role mapping",Role_RoleList_Name_Header:"Name",Role_RoleList_Source_Header:"Source",Role_RoleList_Description_Header:"Description",Role_RoleList_EmptyText:"No roles defined",Role_RoleList_Filter_EmptyText:'No roles matched "$filter"',Role_RoleFeature_Delete_Button:"Delete role",Roles_Delete_Message:"Role deleted: {0}",Role_RoleFeature_Settings_Title:"Settings",Role_RoleSettingsForm_RoleID_FieldLabel:"Role ID",Role_RoleSettingsForm_MappedRole_FieldLabel:"Mapped Role",Role_RoleSettingsForm_MappedRole_EmptyText:"Select a role",Role_RoleSettingsForm_Name_FieldLabel:"Role name",Role_RoleSettingsForm_Description_FieldLabel:"Role description",Role_RoleSettingsForm_Privileges_FieldLabel:"Privileges",Role_RoleSettingsForm_Privileges_FromTitle:"Available",Role_RoleSettingsForm_Privileges_ToTitle:"Given",Role_RoleSettingsForm_Roles_FieldLabel:"Roles",Role_RoleSettingsForm_Roles_FromTitle:"Available",Role_RoleSettingsForm_Roles_ToTitle:"Contained",User_Text:"Users",User_Description:"Manage users",User_UserSettingsForm_Update_Error:"You do not have permission to update users or is an external user",User_UserSettingsForm_Update_Success:"User updated: ",User_UserSettingsForm_UpdateRoles_Success:"User role mappings updated: {0}",User_UserSettingsExternalForm_Remove_Error:"Cannot remove role",Users_Create_Title:"Create User",User_UserAdd_Password_FieldLabel:"Password",User_UserAdd_PasswordConfirm_FieldLabel:"Confirm password",User_UserChangePassword_NoMatch_Error:"Passwords do not match",User_UserAdd_Create_Error:"You do not have permission to create users",User_UserAdd_Create_Success:"User created: ",User_UserChangePassword_Title:"Change Password",User_UserChangePassword_Password_FieldLabel:"New password",User_UserChangePassword_PasswordConfirm_FieldLabel:"Confirm password",User_UserChangePassword_Submit_Button:"Change password",User_UserChangePassword_Cancel_Button:"@Button_Cancel",User_UserChangePassword_NoPermission_Error:"You do not have permission to change your password",User_UserList_New_Button:"Create user",User_UserList_Source_Label:"Source:",User_UserList_Default_Button:"Default",User_UserList_Filter_EmptyText:"Filter by user ID",User_UserList_ID_Header:"User ID",User_UserList_Realm_Header:"Realm",User_UserList_FirstName_Header:"First name",User_UserList_LastName_Header:"Last name",User_UserList_Email_Header:"Email",User_UserList_Status_Header:"Status",User_UserList_EmptyText:"No users defined",User_UserFeature_Delete_Button:"Delete user",Users_Delete_Success:"User deleted: {0}",User_UserFeature_More_Button:"More",User_UserFeature_ChangePasswordItem:"Change password",Users_Change_Success:"Password changed",User_UserFeature_Settings_Title:"Settings",User_UserSettingsForm_ID_FieldLabel:"ID",User_UserSettingsForm_ID_HelpText:"This will be used as the username",User_UserSettingsForm_FirstName_FieldLabel:"First name",User_UserSettingsForm_LastName_FieldLabel:"Last name",User_UserSettingsForm_Email_FieldLabel:"Email",User_UserSettingsForm_Email_HelpText:"Used for notifications",User_UserSettingsForm_Status_FieldLabel:"Status",User_UserSettingsForm_Status_EmptyText:"Select status",User_UserSettingsForm_Status_ActiveItem:"Active",User_UserSettingsForm_Status_DisabledItem:"Disabled",User_UserSettingsExternalForm_Roles_FieldLabel:"Roles",User_UserSettingsExternalForm_Roles_FromTitle:"Available",User_UserSettingsExternalForm_Roles_ToTitle:"Granted",User_UserSettingsExternalForm_ExternalRoles_FieldLabel:"External roles",User_UserSettingsExternalForm_ExternalRoles_HelpText:"External roles should be managed at their source, and cannot be managed here.",AnonymousSettings_Text:"Anonymous",AnonymousSettings_Description:"Browse server contents without authenticating",Security_AnonymousSettings_Update_Error:"You do not have permission to configure the anonymous user",Security_AnonymousSettings_Update_Success:"Anonymous security settings $action",Security_AnonymousSettings_Allow_BoxLabel:"Allow anonymous users to access the server",Security_AnonymousSettings_Username_FieldLabel:"Username",Security_AnonymousSettings_Realm_FieldLabel:"Realm",LdapServers_Text:"LDAP",LdapServers_Description:"Manage LDAP server configuration",LdapServers_Update_Mask:"Updating LDAP connection",LdapServers_Update_Success:"LDAP server updated: {0}",Ldap_LdapServerConnectionForm_Update_Error:"You do not have permission to update LDAP servers",LdapServers_Create_Mask:"Creating LDAP connection",LdapServers_CreateConnection_Title:"Create LDAP Connection",LdapServers_CreateUsersAndGroups_Title:"Choose Users and Groups",LdapServers_Create_Success:"LDAP server created: {0}",Ldap_LdapServerConnectionAdd_Create_Error:"You do not have permission to create LDAP servers",LdapServers_Delete_Success:"LDAP server deleted: {0}",Ldap_LdapServerChangeOrder_Title:"Change LDAP servers ordering",LdapServers_ChangeOrder_Success:"LDAP server order changed",Ldap_LdapServerUserAndGroupLoginCredentials_Title:"Login Credentials",Ldap_LdapServerUserAndGroupLoginCredentials_Text:"You have requested an operation which requires validation of your credentials.",Ldap_LdapServerUserAndGroupLoginCredentials_Input_Text:"<div>Enter your LDAP server credentials</div>",Ldap_LdapServerUserAndGroupLoginCredentials_Username_FieldLabel:"LDAP server username",Ldap_LdapServerUserAndGroupLoginCredentials_Password_FieldLabel:"LDAP server password",Ldap_LdapServerUserAndGroupLoginCredentials_Submit_Button:"Test connection",Ldap_LdapServerUserAndGroupLoginCredentials_Cancel_Button:"@Button_Cancel",Ldap_LdapServerUserAndGroupMappingTestResults_Title:"User Mapping Test Results",Ldap_LdapServerUserAndGroupMappingTestResults_ID_Header:"User ID",Ldap_LdapServerUserAndGroupMappingTestResults_Name_Header:"Name",Ldap_LdapServerUserAndGroupMappingTestResults_Email_Header:"Email",Ldap_LdapServerUserAndGroupMappingTestResults_Roles_Header:"Roles",Ldap_LdapServerList_New_Button:"Create connection",Ldap_LdapServerList_ChangeOrder_Button:"Change order",Ldap_LdapServerList_ClearCache_Button:"Clear cache",Ldap_LdapServerList_Order_Header:"Order",Ldap_LdapServerList_Name_Header:"Name",Ldap_LdapServerList_URL_Header:"URL",Ldap_LdapServerList_Filter_EmptyText:'No LDAP servers matched "$filter"',Ldap_LdapServerList_EmptyText:"No LDAP servers defined",Ldap_LdapServerFeature_Delete_Button:"Delete connection",Ldap_LdapServerFeature_Connection_Title:"Connection",Ldap_LdapServerFeature_UserAndGroup_Title:"User and group",LdapServers_ClearCache_Success:"LDAP cache has been cleared",LdapServers_VerifyConnection_Mask:"Checking connection to {0}",LdapServers_VerifyConnection_Success:"Connection to LDAP server verified: {0}",LdapServers_VerifyMapping_Mask:"Checking user mapping on {0}",LdapServers_VerifyMapping_Success:"LDAP server user mapping verified: {0}",LdapServers_VerifyLogin_Mask:"Checking login on {0}",LdapServers_VerifyLogin_Success:"LDAP login completed successfully on: {0}",LdapServersConnectionFieldSet_Address_Text:"LDAP server address:",LdapServersConnectionFieldSet_Address_HelpText:"The LDAP server usually listens on port 389 (ldap://) or port 636 (ldaps://)",LdapServersConnectionFieldSet_Name_FieldLabel:"Name",LdapServersConnectionFieldSet_Protocol_EmptyText:"Protocol",LdapServersConnectionFieldSet_Protocol_PlainItem:"ldap",LdapServersConnectionFieldSet_Protocol_SecureItem:"ldaps",LdapServersConnectionFieldSet_Host_EmptyText:"Hostname",LdapServersConnectionFieldSet_Port_EmptyText:"Port",LdapServersConnectionFieldSet_Base_FieldLabel:"Search base",LdapServersConnectionFieldSet_Base_HelpText:'LDAP location to be added to the connection URL (e.g. "dc=sonatype,dc=com")',LdapServersConnectionFieldSet_AuthMethod_FieldLabel:"Authentication method",LdapServersConnectionFieldSet_AuthMethod_EmptyText:"Select an authentication method",LdapServersConnectionFieldSet_AuthMethod_SimpleItem:"Simple Authentication",LdapServersConnectionFieldSet_AuthMethod_AnonymousItem:"Anonymous Authentication",LdapServersConnectionFieldSet_AuthMethod_DigestItem:"DIGEST-MD5",LdapServersConnectionFieldSet_AuthMethod_CramItem:"CRAM-MD5",LdapServersConnectionFieldSet_SaslRealm_FieldLabel:"SASL realm",LdapServersConnectionFieldSet_SaslRealm_HelpText:"The SASL realm to bind to (e.g. mydomain.com)",LdapServersConnectionFieldSet_Username_FieldLabel:"Username or DN",LdapServersConnectionFieldSet_Username_HelpText:"This must be a fully qualified username if simple authentication is used",LdapServersConnectionFieldSet_Password_FieldLabel:"Password",LdapServersConnectionFieldSet_Password_HelpText:"The password to bind with.",LdapServersConnectionFieldSet_Rules_Text:"Connection rules",LdapServersConnectionFieldSet_Rules_HelpText:"Set timeout parameters and max connection attempts to avoid being blacklisted",LdapServersConnectionFieldSet_Rules_Text1:"Wait ",LdapServersConnectionFieldSet_Rules_Text2:" seconds before timeout. Retry after ",LdapServersConnectionFieldSet_Rules_Text3:" seconds, max of ",LdapServersConnectionFieldSet_Rules_Text4:" failed attempts.",Ldap_LdapServerConnectionForm_VerifyConnection_Button:"Verify connection",Ldap_LdapServerUserAndGroupFieldSet_Template_FieldLabel:"Configuration template",Ldap_LdapServerUserAndGroupFieldSet_Template_EmptyText:"Select a template",Ldap_LdapServerUserAndGroupFieldSet_BaseDN_FieldLabel:"Base DN",Ldap_LdapServerUserAndGroupFieldSet_BaseDN_HelpText:"The base location in LDAP that users are found. This is relative to the search base (e.g. ou=people).",Ldap_LdapServerUserAndGroupFieldSet_UserSubtree_FieldLabel:"User subtree",Ldap_LdapServerUserAndGroupFieldSet_UserSubtree_HelpText:"Are users located in structures below the user base DN?",Ldap_LdapServerUserAndGroupFieldSet_ObjectClass_FieldLabel:"Object class",Ldap_LdapServerUserAndGroupFieldSet_ObjectClass_HelpText:"LDAP class for user objects (e.g. inetOrgPerson)",Ldap_LdapServerUserAndGroupFieldSet_UserFilter_FieldLabel:"User filter",Ldap_LdapServerUserAndGroupFieldSet_UserFilter_HelpText:'LDAP search filter to limit user search (e.g. "attribute=foo" or "(l(mail=*@domain.com)(uid=dom*))")',Ldap_LdapServerUserAndGroupFieldSet_UserID_FieldLabel:"User ID attribute",Ldap_LdapServerUserAndGroupFieldSet_RealName_FieldLabel:"Real name attribute",Ldap_LdapServerUserAndGroupFieldSet_Email_FieldLabel:"Email attribute",Ldap_LdapServerUserAndGroupFieldSet_Password_FieldLabel:"Password attribute",Ldap_LdapServerUserAndGroupFieldSet_Password_HelpText:"If this field is blank the user will be authenticated against a bind with the LDAP server.",Ldap_LdapServerUserAndGroupFieldSet_GroupMap_FieldLabel:"Map LDAP groups as roles",Ldap_LdapServerUserAndGroupFieldSet_GroupType_FieldLabel:"Group type",Ldap_LdapServerUserAndGroupFieldSet_GroupType_EmptyText:"Select a group type",Ldap_LdapServerUserAndGroupFieldSet_GroupType_DynamicItem:"Dynamic Groups",Ldap_LdapServerUserAndGroupFieldSet_GroupType_StaticItem:"Static Groups",Ldap_LdapServerUserAndGroupFieldSet_GroupBaseDN_FieldLabel:"Group base DN",Ldap_LdapServerUserAndGroupFieldSet_GroupBaseDN_HelpText:"The base location in the LDAP that groups are found. This is relative to the search base (e.g. ou=Group).",Ldap_LdapServerUserAndGroupFieldSet_GroupSubtree_FieldLabel:"Group subtree",Ldap_LdapServerUserAndGroupFieldSet_GroupSubtree_HelpText:"Are groups located in structures below the group base DN.",Ldap_LdapServerUserAndGroupFieldSet_GroupObject_FieldLabel:"Group object class",Ldap_LdapServerUserAndGroupFieldSet_GroupObject_HelpText:"LDAP class for group objects (e.g. posixGroup)",Ldap_LdapServerUserAndGroupFieldSet_GroupID_FieldLabel:"Group ID attribute",Ldap_LdapServerUserAndGroupFieldSet_GroupMember_FieldLabel:"Group member attribute",Ldap_LdapServerUserAndGroupFieldSet_GroupMember_HelpText:"LDAP attribute containing the usernames for the group.",Ldap_LdapServerUserAndGroupFieldSet_GroupMemberFormat_FieldLabel:"Group member format",Ldap_LdapServerUserAndGroupFieldSet_GroupMemberFormat_HelpText:'The format of user ID stored in the group member attribute (e.g. "uid=${username},ou=people,o=sonatype")',Ldap_LdapServerUserAndGroupFieldSet_GroupMemberOf_FieldLabel:"Group member of attribute",Ldap_LdapServerUserAndGroupFieldSet_GroupMemberOf_HelpText:"Set this to the attribute used to store the attribute which holds groups DN in the user object",Ldap_LdapServerUserAndGroupForm_VerifyGroupMapping_Button:"Verify user mapping",Ldap_LdapServerUserAndGroupForm_VerifyLogin_Button:"Verify login",RealmSettings_Text:"Realms",RealmSettings_Description:"Manage the active security realms and their order",Security_RealmSettings_Update_Error:"You do not have permission to configure realms",Security_RealmSettings_Update_Success:"Security realms settings $action",Security_RealmSettings_Available_FromTitle:"Available",Security_RealmSettings_Available_ToTitle:"Active",SslCertificates_Text:"SSL Certificates",SslCertificates_Description:"Manage trusted SSL certificates for use with the Nexus truststore",SslCertificates_Paste_Title:"Paste Certificate as PEM",Ssl_SslCertificateAddFromPem_Cancel_Button:"@Button_Cancel",SslCertificates_Load_Title:"Load Certificate from Server",Ssl_SslCertificateAddFromServer_Load_FieldLabel:"Please enter a hostname, hostname:port or a URL to fetch a SSL certificate from",SslTrustStore_Load_Mask:"Loading certificate&hellip;",Ssl_SslCertificateAddFromServer_Cancel_Button:"@Button_Cancel",SslCertificates_Load_Success:"SSL Certificate created: {0}",Ssl_SslCertificateList_New_Button:"Load certificate",Ssl_SslCertificateList_Load_Button:"Load from server",Ssl_SslCertificateList_Paste_Button:"Paste PEM",Ssl_SslCertificateList_Name_Header:"Name",Ssl_SslCertificateList_IssuedTo_Header:"Issued to",Ssl_SslCertificateList_IssuedBy_Header:"Issued by",Ssl_SslCertificateList_Fingerprint_Header:"Fingerprint",Ssl_SslCertificateList_EmptyText:"No SSL certificates",Ssl_SslCertificateList_Filter_EmptyText:'No SSL certificates matched "$filter"',Ssl_SslCertificateDetailsWindow_Title:"Certificate Details",SslCertificates_Remove_Button:"Remove certificate from truststore",SslCertificates_Add_Button:"Add certificate to truststore",Ssl_SslCertificateFeature_Delete_Button:"Delete certificate",SslCertificates_Delete_Success:"SSL Certificate deleted: {0}",Ssl_SslCertificateDetailsWindow_Cancel_Button:"@Button_Cancel",Ssl_SslCertificateDetailsForm_Subject_Title:"Subject",Ssl_SslCertificateDetailsForm_SubjectCommonName_FieldLabel:"Common name",Ssl_SslCertificateDetailsForm_SubjectOrganization_FieldLabel:"Organization",Ssl_SslCertificateDetailsForm_SubjectUnit_FieldLabel:"Unit",Ssl_SslCertificateDetailsForm_Issuer_Title:"Issuer",Ssl_SslCertificateDetailsForm_IssuerName_FieldLabel:"Common name",Ssl_SslCertificateDetailsForm_IssuerOrganization_FieldLabel:"Organization",Ssl_SslCertificateDetailsForm_IssuerUnit_FieldLabel:"Unit",Ssl_SslCertificateDetailsForm_Certificate_Title:"Certificate",Ssl_SslCertificateDetailsForm_CertificateIssuedOn_FieldLabel:"Issued on",Ssl_SslCertificateDetailsForm_CertificateValidUntil_FieldLabel:"Valid until",Ssl_SslCertificateDetailsForm_CertificateFingerprint_FieldLabel:"Fingerprint",FeatureGroups_Support_Text:"Support",FeatureGroups_Support_Description:"Support tools",AnalyticsSettings_Text:"Analytics",AnalyticsSettings_Description:"Manage analytics configuration",Analytics_EventsZipCreated_FileType:"Events ZIP",Analytics_AnalyticsSettings_Update_Error:"You do not have permission to configure analytics",Analytics_AnalyticsSettings_Update_Success:"Analytics settings $action",Analytics_AnalyticsSettings_HelpText:"<p>The analytics feature collects non-sensitive information about how your organization is using Nexus. It is useful to you from a compatibility perspective, since it gathers answers to questions such as what features are most important, where are users having difficulty and what integrations/APIs are actively in use. This data is available to you and allows you to understand your usage of Nexus better. Provided to Sonatype it enables us to tailor the ongoing development of the product.</p><b>Event Collection</b><p>The collected information is limited to the use of the Nexus user interface and the Nexus REST API -- i.e. the primary interaction points between your environment and Nexus. Only the user interface navigation flows and REST endpoints being called are recorded. None of the request specific data (e.g. credentials or otherwise sensitive information) is ever captured.</p><p>Event collection and submission are controlled separately.  When collection is enabled, a summary of the data collected is shown on the <code>Events</code> tab.</p><b>Event Submission</b><p>Analytics event data can be submitted either automatically or manually.<br/><code>Export</code> generates a ZIP file that can be inspected prior to any information being sent to the Nexus analytics service.<br/><code>Submit</code> generates a ZIP file and then immediately uploads it to the Nexus analytics service.</p>",Analytics_AnalyticsSettings_Collection_BoxLabel:"Collect analytics events",Analytics_AnalyticsSettings_Submission_BoxLabel:"Enable anonymized analytics submission to Sonatype",AnalyticsEvents_Text:"Events",AnalyticsEvents_Description:"View recorded analytics events",Analytics_AnalyticsEventList_Filter_EmptyText:'No analytics events matched "$filter"',Analytics_AnalyticsEventList_Clear_Button:"Clear",AnalyticsEvents_Clear_Title:"Clear Events",AnalyticsEvents_Clear_Body:"Clear analytics event data?",AnalyticsEvents_Clear_Mask:"Clearing event data",AnalyticsEvents_Clear_Success:"Event data has been cleared",Analytics_AnalyticsEventsList_Export_Button:"Export",AnalyticsEvents_Export_Title:"Export Events",AnalyticsEvents_Export_Body:"<p>Export and download analytics event data?</p><p>No data will be sent to Sonatype.</p>",AnalyticsEvents_Export_Mask:"Exporting event data",AnalyticsEvents_Authenticate_Title:"Downloading analytics events requires validation of your credentials",Analytics_AnalyticsEventList_Submit_Button:"Submit",AnalyticsEvents_Submit_Title:"Submit Events",AnalyticsEvents_Submit_Body:"<p>Submit analytics event data to Sonatype?</p><p>All identifying data will be anonymized.</p>",AnalyticsEvents_Submit_HelpText:"Submitting analytics event data to Sonatype requires validation of your credentials",AnalyticsEvents_Submit_Success:"Event data submission was successful",Analytics_AnalyticsEventList_Type_Header:"Event type",Analytics_AnalyticsEventList_Timestamp_Header:"Timestamp",Analytics_AnalyticsEventList_Timestamp_Tooltip:"Event timestamp in milliseconds",Analytics_AnalyticsEventList_Sequence_Header:"Sequence",Analytics_AnalyticsEventList_Duration_Header:"Duration",Analytics_AnalyticsEventList_Duration_Tooltip:"Event duration in nanoseconds",Analytics_AnalyticsEventList_User_Header:"User",Analytics_AnalyticsEventList_Attributes_Header:"Attributes",Loggers_Text:"Logging",Loggers_Description:"Control logging verbosity levels",Loggers_Create_Title:"Create logger",Logging_LoggerAdd_Name_FieldLabel:"Logger name",Logging_LoggerAdd_Level_FieldLabel:"Logging level",Loggers_Write_Success:"Logger {0}d: {1}",Logging_LoggerList_New_Button:"Create logger",Loggers_Update_Title:"Confirm update?",Loggers_HelpText:'Logger "{0}" is already configured. Would you like to update its level to "{1}"?',Logging_LoggerList_Delete_Button:"Delete logger",Loggers_Delete_Title:"Confirm deletion?",Loggers_Delete_Success:"Logger deleted: {0}",Loggers_Reset_Title:"Confirm reset?",Loggers_Reset_HelpText:"Reset loggers to their default levels",Logging_LoggerList_Reset_Button:"Reset to default levels",Loggers_Reset_Success:"Loggers have been reset",Logging_LoggerList_Name_Header:"Name",Logging_LoggerList_Level_Header:"Level",Logging_LoggerList_Level_TraceItem:"TRACE",Logging_LoggerList_Level_DebugItem:"DEBUG",Logging_LoggerList_Level_InfoItem:"INFO",Logging_LoggerList_Level_WarnItem:"WARN",Logging_LoggerList_Level_ErrorItem:"ERROR",Logging_LoggerList_Level_OffItem:"OFF",Logging_LoggerList_Level_DefaultItem:"DEFAULT",Logging_LoggerList_EmptyText:"No loggers defined",Logging_LoggerList_Filter_EmptyText:'No loggers matched "$filter"',Log_Text:"Log Viewer",Log_Description:"View the current log contents",Logging_LogMark_Title:"Mark Log",Logging_LogMark_Error:"You do not have permission to mark the log",Logging_LogMark_FieldLabel:"Log message",Logging_LogMark_HelpText:"Insert this text into the log file as a reference point",Logging_LogMark_Success:"Log has been marked",Log_LogMark_Mask:"Marking Log",Logging_LogViewer_Download_Button:"Download",Logging_LogViewer_Mark_Button:"Create mark",Logging_LogViewer_Refresh_Text:"Refresh interval:",Logging_LogViewer_Refresh_ManualItem:"Manual",Logging_LogViewer_Refresh_20SecondsItem:"Every 20 seconds",Logging_LogViewer_Refresh_MinuteItem:"Every minute",Logging_LogViewer_Refresh_2MinutesItem:"Every 2 minutes",Logging_LogViewer_Refresh_5MinutesItem:"Every 5 minutes",Logging_LogViewer_Last25KBItem:"Last 25KB",Logging_LogViewer_Last50KBItem:"Last 50KB",Logging_LogViewer_Last100KBItem:"Last 100KB",Log_Loading_Mask:"Loading&hellip;",Log_Load_Failure:'Failed to retrieve log due to "{0}".',Logging_LogViewer_EmptyText:"Refresh to display log",Metrics_Text:"Metrics",Metrics_Description:"Provides server metrics",Metrics_Load_Mask:"Loading&hellip;",Metrics_Refresh_Warning:"Failed to refresh metrics data",Support_Metrics_Download_Button:"Download",Metrics_Download_Tooltip:"Download metrics data",Support_Metrics_Dump_Button:"Thread dump",Support_Metrics_Dump_Tooltip:"Download thread dump",Support_Metrics_MemoryUsage_Title:"Memory usage",Support_Metrics_MemoryDistribution_Title:"Memory distribution",Support_Metrics_Heap_Title:"Heap",Metrics_Heap_NonHeapItem:"Non-heap",Metrics_Heap_Available:"Available",Support_Metrics_ThreadStates_Title:"Thread states",Metrics_ThreadStates_New:"New",Metrics_ThreadStates_Terminated:"Terminated",Metrics_ThreadStates_Blocked:"Blocked",Metrics_ThreadStates_Runnable:"Runnable",Metrics_ThreadStates_TimedWaiting:"Timed waiting",Metrics_ThreadStates_Waiting:"Waiting",SupportRequest_Text:"Support Request",SupportRequest_Description:"Submit a support request to Sonatype",Support_SupportRequest_HelpText:'<p>Please include a complete description of your problem and steps to allow us to reproduce the problem (if available).</p><p>Attaching a <a href="#admin/support/supportzip">support ZIP</a> to your request will help our engineers give you a faster response.</p>',Support_SupportRequest_Submit_Button:"Submit request",SupportZip_Title:"Support ZIP",SupportZip_Description:"Creates a ZIP file containing useful support information about your server",SupportZip_HelpText:"<p>No information will be sent to Sonatype when creating the support ZIP file.</p><p>Support ZIP creation may take a few minutes to complete.</p>",Support_SupportZip_Contents_FieldLabel:"Contents",Support_SupportZip_Report_BoxLabel:"System information report",Support_SupportZip_Dump_BoxLabel:"JVM thread-dump",Support_SupportZip_Configuration_BoxLabel:"Configuration files",Support_SupportZip_Security_BoxLabel:"Security configuration files",Support_SupportZip_LogFiles_BoxLabel:"Log files",Support_SupportZip_Metrics_BoxLabel:"System and component metrics",Support_SupportZip_JMX_BoxLabel:"JMX information",Support_SupportZip_Options_FieldLabel:"Options",Support_SupportZip_Included_BoxLabel:"Limit files in the ZIP archive to 30 MB apiece",Support_SupportZip_Max_BoxLabel:"Limit the ZIP archive to 20 MB",Support_SupportZip_Create_Button:"Create support ZIP",Support_SupportZip_Creating_Message:'<div align="center">Creating support ZIP <br/>(may take a few minutes)</div>',Support_SupportZipCreated_FileType_Text:"Support ZIP",Support_SupportZipCreated_Truncated_Text:"Contents have been truncated due to exceeded size limits.",Support_SupportZip_Create_Success:"Support ZIP created",Support_FileCreated_Name_FieldLabel:"Name",Support_FileCreated_Size_FieldLabel:"Size",Support_FileCreated_Path_FieldLabel:"Path",Support_FileCreated_Download_Button:"Download",Support_FileCreated_Cancel_Button:"@Button_Cancel",SupportZip_Authenticate_Text:"Downloading support ZIP requires validation of your credentials.",SupportZip_Permission_Error:"You do not have permission to create a support ZIP",SysInfo_Title:"System Information",SysInfo_Description:"Shows system information",SysInfo_Load_Mask:"Loading&hellip;",Support_SysInfo_Download_Button:"Download",FeatureGroups_System_Text:"System",FeatureGroups_System_Description:"System administration",Capabilities_Text:"Capabilities",Capabilities_Description:"Manage capabilities",Capabilities_Update_Mask:"Updating capability",Capabilities_Enable_Mask:"Enabling capability",Capabilities_Disable_Mask:"Disabling capability",Capabilities_Update_Error:"You do not have permission to update capabilities",Capability_CapabilityAdd_Create_Error:"You do not have permission to update capabilities",Capabilities_Update_Success:"Capability updated: {0}",Capability_CapabilitySettingsForm_Update_Error:"You do not have permission to create capabilities",Capabilities_Create_Title:"Create {0} Capability",Capabilities_Create_Success:"Capability created: {0}",Capabilities_Delete_Success:"Capability deleted: {0}",Capability_CapabilityList_New_Button:"Create capability",Capability_CapabilityList_Type_Header:"Type",Capability_CapabilityList_Description_Header:"Description",Capability_CapabilityList_Notes_Header:"Notes",Capability_CapabilityList_EmptyText:"No capabilities defined",Capability_CapabilityList_Filter_EmptyText:'No capability matched criteria "$filter"',Capability_CapabilityFeature_Delete_Button:"Delete",Capability_CapabilityFeature_Enable_Button:"Enable",Capability_CapabilityFeature_Disable_Button:"Disable",Capability_CapabilitySummary_Title:"Summary",Capability_CapabilitySettings_Title:"Settings",Capability_CapabilitySettingsForm_Enabled_FieldLabel:"Enable this capability",Capability_CapabilitySummary_Status_Title:"Status",Capability_CapabilitySummary_About_Title:"About",Capability_CapabilitySummary_Notes_Title:"Notes",Capabilities_Enable_Text:"Capability enabled: {0}",Capabilities_Disable_Text:"Capability disabled: {0}",Capabilities_Select_Title:"Select Capability Type",Capability_CapabilitySelectType_Description_Header:"Description",Capability_CapabilitySelectType_Type_Header:"Type",Capabilities_TypeName_Text:"Type",Capabilities_Description_Text:"Description",Capabilities_State_Text:"State",Capability_CapabilitySummary_Notes_HelpText:"Optional notes about configured capability",Capability_CapabilityStatus_EmptyText:"This capability does not provide any status",SmtpSettings_Text:"Email Server",SmtpSettings_Description:"Manage email server configuration",System_SmtpSettings_Update_Error:"You do not have permission to configure email server",System_SmtpSettings_Update_Success:"Email server configuration $action",System_SmtpSettings_Enabled_FieldLabel:"Enabled",System_SmtpSettings_Host_FieldLabel:"Host",System_SmtpSettings_Port_FieldLabel:"Port",System_SmtpSettings_Username_FieldLabel:"Username",System_SmtpSettings_Password_FieldLabel:"Password",System_SmtpSettings_FromAddress_FieldLabel:"From address",System_SmtpSettings_SubjectPrefix_FieldLabel:"Subject prefix",System_SmtpSettings_SslTlsSection_FieldLabel:"SSL/TLS options",System_SmtpSettings_StartTlsEnabled_FieldLabel:"Enable STARTTLS support for insecure connections",System_SmtpSettings_StartTlsRequired_FieldLabel:"Require STARTTLS support",System_SmtpSettings_SslOnConnectEnabled_FieldLabel:"Enable SSL/TLS encryption upon connection",System_SmtpSettings_SslCheckServerIdentityEnabled_FieldLabel:"Enable server identity check",System_SmtpSettings_VerifyServer_Button:"Verify email server",System_VerifySmtpConnection_VerifyServer_Title:"Verify Email Server",System_VerifySmtpConnection_HelpText:"Where do you want to send the test email?",SmtpSettings_Verify_Mask:"Checking email server {0}",SmtpSettings_Verify_Success:"Email server verification email sent successfully",HttpSettings_Text:"HTTP",HttpSettings_Description:"Manage outbound HTTP/HTTPS configuration",System_HttpSettings_Update_Error:"You do not have permission to configure HTTP",System_HttpSettings_Update_Success:"HTTP system settings $action",System_HttpSettings_Proxy_Title:"HTTP proxy",System_HttpSettings_ProxyHost_FieldLabel:"HTTP proxy host",System_HttpSettings_ProxyHost_HelpText:'No http:// required (e.g. "proxy-host" or "192.168.1.101")',System_HttpSettings_ProxyPort_FieldLabel:"HTTP proxy port",System_HttpSettings_Authentication_Title:"Authentication",System_HttpSettings_ExcludeHosts_FieldLabel:"Hosts to exclude from HTTP/HTTPS proxy",System_HttpSettings_ExcludeHosts_HelpText:"Accepts Java \"http.nonProxyHosts\" wildcard patterns (one per line, no '|' hostname delimiters)",System_HttpSettings_HttpsProxy_Title:"HTTPS proxy",System_HttpSettings_HttpsProxyHost_FieldLabel:"HTTPS proxy host",System_HttpSettings_HttpsProxyHost_HelpText:'No https:// required (e.g. "proxy-host" or "192.168.1.101")',System_HttpSettings_HttpsProxyPort_FieldLabel:"HTTPS proxy port",System_HttpSettings_HttpsProxyAuthentication_Title:"Authentication",Bundles_Text:"Bundles",Bundles_Description:"View OSGI bundles",System_BundleList_Filter_EmptyText:'No bundles matched "$filter"',System_BundleList_ID_Header:"ID",System_BundleList_Name_Header:"Name",System_BundleList_SymbolicName_Header:"Symbolic Name",System_BundleList_Version_Header:"Version",System_BundleList_State_Header:"State",System_BundleList_Location_Header:"Location",System_BundleList_Level_Header:"Level",System_BundleList_Fragment_Header:"Fragment",System_Bundles_Details_Tab:"Summary",Bundles_ID_Info:"ID",Bundles_Name_Info:"Name",Bundles_SymbolicName_Info:"Symbolic Name",Bundles_Version_Info:"Version",Bundles_State_Info:"State",Bundles_Location_Info:"Location",Bundles_StartLevel_Info:"Start Level",Bundles_Fragment_Info:"Fragment",Bundles_Fragments_Info:"Fragments",Bundles_FragmentHosts_Info:"Fragment Hosts",Bundles_LastModified_Info:"Last Modified",Bundles_Summary_Info:"{0}",Nodes_Toggling_read_only_mode:"Toggling read-only mode",Nodes_Disable_read_only_mode:"Disable read-only mode",Nodes_Disable_read_only_mode_dialog:"Disable read-only mode?",Nodes_Enable_read_only_mode:"Enable read-only mode",Nodes_Enable_read_only_mode_dialog:"Enable read-only mode?",Nodes_Read_only_mode_warning:"Nexus Repository is in read-only mode",Nodes_Quorum_lost_warning:'Not enough Nexus Repository Manager nodes in the cluster are reachable so quorum cannot be achieved; database is read only. <a href="#admin/system/nodes/clusterreset">Troubleshoot</a>',Nodes_OSS_Message:"You are running a single-node instance of Nexus Repository Manager.",Nodes_enable_read_only_mode_dialog_description:"Are you sure you want to reject additions of new components and changes to configuration?",Nodes_disable_read_only_mode_dialog_description:"Are you sure you want to stop rejecting additions of new components and changes to configuration?",Tasks_Text:"Tasks",Tasks_Description:"Manage scheduled tasks",Tasks_Select_Title:"Select a Type",Task_TaskSelectType_Filter_EmptyText:'No types matched "$filter"',Task_TaskSelectType_Name_Header:"Type",Tasks_Update_Mask:"Updating task",Tasks_Run_Mask:"Running task",Tasks_Stop_Mask:"Stopping task",Task_TaskAdd_Create_Error:"You do not have permission to create tasks",Tasks_Create_Title:"Create {0} Task",Tasks_Create_Success:"Task created: {0}",Task_TaskList_New_Button:"Create task",Task_TaskList_Name_Header:"Name",Task_TaskList_Type_Header:"Type",Task_TaskList_Status_Header:"Status",Task_TaskList_Schedule_Header:"Schedule",Task_TaskList_NextRun_Header:"Next run",Task_TaskList_LastRun_Header:"Last run",Task_TaskList_LastResult_Header:"Last result",Task_TaskList_EmptyState:"No scheduled tasks defined",Task_TaskList_Filter_EmptyState:'No scheduled tasks matched "$filter"',Task_TaskFeature_Delete_Button:"Delete task",Tasks_Delete_Success:"Task deleted: {0}",Task_TaskFeature_Run_Button:"Run",Tasks_RunConfirm_Title:"Confirm?",Tasks_RunConfirm_HelpText:"Run {0} task?",Tasks_Run_Success:"Task started: {0}",Task_TaskFeature_Stop_Button:"Stop",Tasks_StopConfirm_Title:"Confirm?",Tasks_StopConfirm_HelpText:"Stop {0} task?",Tasks_Stop_Success:"Task stopped: {0}",TaskFeature_Summary_Title:"Summary",TaskFeature_Summary_Status_Section_Title:"Run Status",TaskFeature_Status_Node_Column:"Node ID",TaskFeature_Status_Status_Column:"Status",TaskFeature_Status_LastResult_Column:"Last result",Tasks_Settings_Title:"Settings",Tasks_ID_Info:"ID",Tasks_Name_Info:"Name",Tasks_Type_Info:"Type",Tasks_Status_Info:"Status",Tasks_NextRun_Info:"Next run",Tasks_LastRun_Info:"Last run",Tasks_LastResult_Info:"Last result",Task_TaskSettingsForm_Update_Error:"You do not have permission to update tasks or task is readonly",Tasks_Update_Success:"Task updated: {0}",Task_TaskSettingsForm_Enabled_FieldLabel:"Task enabled",Task_TaskSettingsForm_Enabled_HelpText:"This flag determines if the task is currently active.  To disable this task for a period of time, de-select this checkbox.",Task_TaskSettingsForm_Name_FieldLabel:"Task name",Task_TaskSettingsForm_Name_HelpText:"A name for the scheduled task",Task_TaskSettingsForm_Email_FieldLabel:"Notification email",Task_TaskSettingsForm_Email_HelpText:"The email address where an email will be sent in case that task execution fails",Task_TaskScheduleFieldSet_Recurrence_FieldLabel:"Task frequency",Task_TaskScheduleFieldSet_Recurrence_HelpText:"The frequency this task will run. Manual - this task can only be run manually. Once - run the task once at the specified date/time. Daily - run the task every day at the specified time. Weekly - run the task every week on the specified day at the specified time. Monthly - run the task every month on the specified day(s) and time. Advanced - run the task using the supplied cron string",Task_TaskScheduleFieldSet_Recurrence_EmptyText:"Select a frequency",Task_TaskScheduleFieldSet_Recurrence_ManualItem:"Manual",Task_TaskScheduleFieldSet_Recurrence_OnceItem:"Once",Task_TaskScheduleFieldSet_Recurrence_HourlyItem:"Hourly",Task_TaskScheduleFieldSet_Recurrence_DailyItem:"Daily",Task_TaskScheduleFieldSet_Recurrence_WeeklyItem:"Weekly",Task_TaskScheduleFieldSet_Recurrence_MonthlyItem:"Monthly",Task_TaskScheduleFieldSet_Recurrence_AdvancedItem:"Advanced (provide a CRON expression)",Task_TaskScheduleDaily_StartDate_FieldLabel:"Start date",Task_TaskScheduleHourly_EndDate_FieldLabel:"Start time",Task_TaskScheduleDaily_Recurring_FieldLabel:"Time to run this task",Task_TaskScheduleMonthly_Days_FieldLabel:"Days to run this task",Task_TaskScheduleMonthly_Days_BlankText:"At least one day should be selected",Task_TaskScheduleAdvanced_Cron_FieldLabel:"CRON expression",Task_TaskScheduleAdvanced_Cron_EmptyText:"* * * * * * *",Task_TaskScheduleAdvanced_Cron_HelpText:"A cron expression that will control the running of the task.",Task_TaskScheduleAdvanced_Cron_AfterBodyEl:'<div style="font-size: 11px"><p>From left to right the fields and accepted values are:</p><table><thead><tr><th>Field Name</th><th>Allowed Values</th></tr></thead><tbody><tr><td>Seconds</td><td>0-59</td></tr><tr><td>Minutes</td><td>0-59</td></tr><tr><td>Hours</td><td>0-23</td></tr><tr><td>Day of month</td><td>1-31</td></tr><tr><td>Month</td><td>1-12 or JAN-DEC</td></tr><tr><td>Day of week</td><td>1-7 or SUN-SAT</td></tr><tr><td>Year(optional)</td><td>empty, 1970-2099</td></tr></tbody></table><br/><p>Special tokens include: * (all acceptable values), ? (no specific value), - (ranges, e.g. 10-12)</p></div> ',Task_TaskScheduleManual_HelpText:"Without recurrence, this service can only be run manually.",System_AuthenticationSettings_Username_FieldLabel:"Username",System_AuthenticationSettings_Password_FieldLabel:"Password",System_AuthenticationSettings_WindowsNtlmHostname_FieldLabel:"Windows NTLM hostname",System_AuthenticationSettings_WindowsNtlmDomain_FieldLabel:"Windows NTLM domain",System_HttpRequestSettings_UserAgentCustomization_FieldLabel:"User-agent customization",System_HttpRequestSettings_UserAgentCustomization_HelpText:'Custom fragment to append to "User-Agent" header in HTTP requests.',System_HttpRequestSettings_Timeout_FieldLabel:"Connection/Socket timeout",System_HttpRequestSettings_Timeout_HelpText:"Seconds to wait for activity before stopping and retrying the connection.",System_HttpRequestSettings_Attempts_FieldLabel:"Connection/Socket retry attempts",System_HttpRequestSettings_Attempts_HelpText:"Total retries if the initial connection attempt suffers a timeout",Users_Text:"Account",Users_Description:"Manage your account",User_UserAccount_Update_Success:"User account settings $action",User_UserAccount_Update_Error:"External users cannot be updated",User_UserAccount_ID_FieldLabel:"ID",User_UserAccount_ID_HelpText:"This is used as your username.",User_UserAccount_First_FieldLabel:"First name",User_UserAccount_Last_FieldLabel:"Last Name",User_UserAccount_Email_FieldLabel:"Email",User_UserAccount_Password_Button:"Change password",NuGetApiKey_Text:"NuGet API Key",NuGetApiKey_Description:"Configure credentials for NuGet repositories",Nuget_NuGetApiKeyDetails_Html:'Your NuGet API Key enables pushing packages using NuGet.exe. <span style="font-weight: bold;">Keep this key secret!</span>',Nuget_NuGetApiKeyDetails_ApiKey_Text:"Your NuGet API Key is:",Nuget_NuGetApiKeyDetails_Register_Text:"You can register this key for a given repository with the following command:",Nuget_NuGetApiKeyDetails_Register_Value:"nuget setapikey {0} -source {1}",Nuget_NuGetApiKeyDetails_AutoClose_Html:"This window will automatically close after one minute.",Nuget_NuGetApiKeyDetails_AutoClose_Message:"Automatically closing NuGet API Key details due to timeout",Nuget_NuGetApiKey_Instructions_Text:"A new API Key will be created the first time it is accessed. Resetting your API Key will invalidate the current key.",Nuget_NuGetApiKey_Access_Button:"Access API Key",Nuget_NuGetApiKey_Access_HelpText:"Accessing NuGet API Key requires validation of your credentials.",Nuget_NuGetApiKey_Reset_Button:"Reset API Key",Nuget_NuGetApiKey_Reset_HelpText:"Resetting NuGet API Key requires validation of your credentials.",Licensing_Text:"Licensing",Licensing_Description:"A valid license is required for PRO features. Manage it here.",Licensing_LicensingDetails_Company_FieldLabel:"Company",Licensing_LicensingDetails_Name_FieldLabel:"Name",Licensing_LicensingDetails_Email_FieldLabel:"Email",Licensing_LicensingDetails_EffectiveDate_FieldLabel:"Effective date",Licensing_LicensingDetails_ExpirationDate_FieldLabel:"Expiration date",Licensing_LicensingDetails_Type_FieldLabel:"License type",Licensing_LicensingDetails_LicensedUsers_FieldLabel:"Number of licensed users",Licensing_LicensingDetails_Connections_FieldLabel:"Number of unique IP addresses that have connected in the last 7 days",Licensing_LicensingDetails_Fingerprint_FieldLabel:"Fingerprint",Licensing_LicensingDetails_InstallLicense_Title:"Install license",Licensing_LicensingDetails_InstallLicense_Html:"<p>Installing a new license requires restarting the server to take effect</p>",Licensing_LicensingDetails_LicenseSelect_Button:"Select license&hellip;",Licensing_LicensingDetails_LicenseInstall_Button:"Install license",Licensing_LicenseAgreement_Title:"Nexus Repository Manager License Agreement",Licensing_LicenseAgreement_Yes_Button:"I agree",Licensing_LicenseAgreement_No_Button:"I do not agree",Licensing_LicenseAgreement_Download_Button:"Download a copy of the license.",Licensing_Install_Success:"License installed. Restart is only required if you are enabling new PRO features.",Licensing_Authentication_Validation:"{0} a license requires validation of your credentials.",LicenseUsers_Title:"Recent Connections",LicenseUsers_Description:"Reports active users in the last 7 days",Licensing_LicenseUserList_Download_Button:"Download",Licensing_LicenseUserList_IP_Header:"IP",Licensing_LicenseUserList_Date_Header:"Date",Licensing_LicenseUserList_User_Header:"User",Licensing_LicenseUserList_Agent_Header:"User agent",Licensing_LicenseUserList_EmptyText:"No active users in the last 7 days."},bundles:{"NX.coreui.migration.Controller":{Feature_Text:"Upgrade",Feature_Description:"Upgrade configuration and content from Nexus Repository Manager 2",Activate_Mask:"Loading",Configure_Mask:"Configuring",Configure_Message:"Upgrade configured",Cancel_Confirm_Title:"Cancel Upgrade",Cancel_Confirm_Text:"Do you want to cancel upgrade?",Cancel_Mask:"Canceling",Cancel_Message:"Upgrade canceled",IncompleteCancel_Title:"Configuration Incomplete",IncompleteCancel_Text:"Upgrade has been partially configured and needs to be reset to continue.",IncompleteCancel_Mask:"Resetting",PlanStepDetail_Mask:"Fetching details"},"NX.coreui.migration.AgentScreen":{Title:"Agent Connection",Description:"<p>Configure the connection to remote server's upgrade-agent.<br/>The remote server must have an upgrade-agent configured and enabled.</p>",Endpoint_FieldLabel:"URL",Endpoint_HelpText:"The base URL of the remote server",Token_FieldLabel:"Access Token",Token_HelpText:"The access token from the remote server's upgrade-agent settings"},"NX.coreui.migration.AgentStep":{Connect_Mask:"Connecting",Connect_Message:"Connected"},"NX.coreui.migration.ContentScreen":{Title:"Content",Description:"<p>What content from Nexus Repository Manager 2 would you like to transfer?</p>",Repositories_FieldLabel:"Repository configuration and content",Configuration_FieldLabel:"Server configuration"},"NX.coreui.migration.OverviewScreen":{Title:"Overview",Description:"<p>This wizard will help you upgrade from Nexus Repository Manager 2.</p><p>Many aspects of a server can be upgraded <strong>automatically</strong>:<ul><li>Configuration: security (users, roles and privileges) and other applicable system settings </li><li>Repositories in supported formats: maven2, nuget, npm, rubygems, site</li></ul></p><p>Some aspects are <strong>incompatible</strong> and can not be automatically upgraded:<ul><li>Unsupported repository formats: yum, p2, obr</li><li>Scheduled tasks</li><li>Capabilities</li></ul></p><p>Upgrade is incremental. We recommend upgrading one or two repositories first to ensure that the process works, then repeat the process and upgrade the rest. Take note of the following:<ul><li>Repository upgrade could take <strong>considerable time</strong>.</li><li>Until upgrade has successfully completed, it is not recommended to make any configuration changes in Nexus Repository Manager 3, as the configuration is volatile during this time.</li><li>Also during the upgrade, all of the repositories in Nexus Repository Manager 3 will be offline.</li><li>Server configuration can be transferred multiple times, each time it will completely replace existing configurations.</li></ul></p>"},"NX.coreui.migration.PhaseFinishScreen":{Title:"Finishing",Description:"<p>Upgrade is finishing.</p>",Abort_Button:"Abort",Done_Button:"Done"},"NX.coreui.migration.RepositoryDefaultsScreen":{$extend:"NX.coreui.migration.RepositoryCustomizeWindow",Title:"Repository Defaults",Description:"<p>Configure the default settings used for repository upgrade.<br/>Per-repository settings may be customized when selecting repositories to upgrade.</p>",IngestMethod_HelpText:"Choose how the repository content should be transferred. The method you choose may not be supported by all repositories."},"NX.coreui.migration.RepositoryCustomizeWindow":{Title:"Customize {0}",BlobStore_FieldLabel:"Destination",BlobStore_HelpText:"Choose where the repository content should be stored",BlobStore_EmptyText:"Choose a blob store",IngestMethod_FieldLabel:"Method",IngestMethod_HelpText:"Choose how the repository content should be transferred",IngestMethod_EmptyText:"Choose a repository content transfer method",IngestMethod_Link:"Hard link (fastest)",IngestMethod_Copy:"Filesystem copy (slow)",IngestMethod_Download:"Download (slowest)"},"NX.coreui.migration.PlanStepDetailWindow":{Title:"{0}",EmptyLog:"No progress",Timestamp_Column:"Timestamp",Message_Column:"Message"},"NX.coreui.migration.PreviewScreen":{Title:"Preview",Description:"<p>Here is a preview of the upgrade configuration.</p>",Name_Column:"Name",State_Column:"State",Begin_Button:"Begin"},"NX.coreui.migration.PreviewStep":{Begin_Confirm_Title:"Begin Upgrade",Begin_Confirm_Text:"Do you want to begin upgrade?",Begin_Mask:"Upgrade beginning",Begin_Message:"Upgrade begun"},"NX.coreui.migration.ProgressScreenSupport":{Name_Column:"Name",Status_Column:"Status",State_Column:"State",Complete_Column:"Complete"},"NX.coreui.migration.ProgressStepSupport":{Loading_Mask:"Loading"},"NX.coreui.migration.RepositoriesScreen":{Title:"Repositories",Description:"<p>Select the repositories to be upgraded.<br/>Customize advanced configuration of the upgrade per-repository as needed.</p>",Repository_Column:"Repository",Type_Column:"Type",Format_Column:"Format",Supported_Column:"Supported",Status_Column:"Status",Destination_Column:"Destination",Method_Column:"Method",Action_Tooltip:"Customize repository options"},"NX.coreui.migration.RepositoriesStep":{$extend:"NX.coreui.migration.ProgressStepSupport"},"NX.coreui.migration.RepositoryDefaultsStep":{$extend:"NX.coreui.migration.ProgressStepSupport"},"NX.coreui.migration.PhasePrepareScreen":{Title:"Preparing",Description:"<p>Preparing for upgrade.</p>",Abort_Button:"Abort",Continue_Button:"Continue"},"NX.coreui.migration.PhasePrepareStep":{$extend:"NX.coreui.migration.ProgressStepSupport",Abort_Confirm_Title:"Abort Upgrade",Abort_Confirm_Text:"Do you want to abort upgrade?",Abort_Mask:"Upgrade aborting",Abort_Message:"Upgrade aborted",Continue_Confirm_Title:"Continue Upgrade",Continue_Confirm_Text:"Do you want to continue upgrade?",Continue_Mask:"Upgrade continuing",Continue_Message:"Upgrade continuing"},"NX.coreui.migration.PhaseSyncScreen":{Title:"Synchronizing",Description:"<p>Upgrade is synchronizing changes.</p>",Abort_Button:"Abort",Continue_Button:"Continue",Continue_Button_Pending:'<i class="fa fa-spinner fa-spin fa-fw"></i> Continue'},"NX.coreui.migration.PhaseSyncStep":{$extend:"NX.coreui.migration.ProgressStepSupport",Abort_Confirm_Title:"Abort Upgrade",Abort_Confirm_Text:"Do you want to abort upgrade?",Abort_Mask:"Upgrade aborting",Abort_Message:"Upgrade aborted",Stop_Waiting_Confirm_Title:"Stop waiting for changes",Stop_Waiting_Confirm_Text:"Any future changes to repositories will not be synchronized. Proceed?",Stop_Waiting_Confirm_Mask:"Finalizing changes",Stop_Waiting_Confirm_Message:"Changes finalized",Finish_Mask:"Upgrade finishing",Finish_Message:"Upgrade finishing"},"NX.coreui.migration.PhaseFinishStep":{$extend:"NX.coreui.migration.ProgressStepSupport",Abort_Confirm_Title:"Abort Upgrade",Abort_Confirm_Text:"Do you want to abort upgrade?",Abort_Mask:"Upgrade aborting",Abort_Message:"Upgrade aborted",Done_Mask:"Confirming",Done_Message:"Upgrade done"},"NX.coreui.audit.AuditController":{Text:"Audit",Description:"System audit information",Clear_Title:"Clear Audit Data",Clear_Body:"Clear audit data?",Clear_Mask:"Clearing audit data",Clear_Success:"Audit data cleared"},"NX.coreui.audit.AuditList":{EmptyText:"No audit data",Filter_EmptyText:'No audit data matching "$filter"',Domain:"Domain",Type:"Type",Context:"Context",Timestamp:"Timestamp",NodeId:"Node ID",Initiator:"Initiator",Attribute:"Attribute: {0}",Clear_Button:"Clear"}}},function(a){NX.I18n.register(a)});Ext.define("NX.coreui.app.PluginConfig",{"@aggregate_priority":100,namespaces:["NX.coreui"],requires:["NX.coreui.app.PluginStrings"],controllers:[{id:"NX.coreui.controller.Assets",active:function(){return NX.app.Application.bundleActive("org.sonatype.nexus.plugins.nexus-coreui-plugin")}},{id:"NX.coreui.controller.AnalyticsSettings",active:function(){return NX.app.Application.bundleActive("com.sonatype.nexus.plugins.nexus-analytics-plugin")}},{id:"NX.coreui.controller.AnalyticsEvents",active:function(){return NX.app.Application.bundleActive("com.sonatype.nexus.plugins.nexus-analytics-plugin")}},{id:"NX.coreui.controller.AnonymousSettings",active:function(){return NX.app.Application.bundleActive("org.sonatype.nexus.plugins.nexus-coreui-plugin")}},{id:"NX.coreui.audit.AuditController",active:function(){return NX.app.Application.bundleActive("org.sonatype.nexus.plugins.nexus-audit-plugin")}},{id:"NX.coreui.controller.BrowseAssets",active:function(){return NX.app.Application.bundleActive("org.sonatype.nexus.plugins.nexus-coreui-plugin")}},{id:"NX.coreui.controller.BrowseComponents",active:function(){return NX.app.Application.bundleActive("org.sonatype.nexus.plugins.nexus-coreui-plugin")}},{id:"NX.coreui.controller.BrowseableFormats",active:function(){return NX.app.Application.bundleActive("org.sonatype.nexus.plugins.nexus-coreui-plugin")}},{id:"NX.coreui.controller.Capabilities",active:function(){return NX.app.Application.bundleActive("org.sonatype.nexus.plugins.nexus-coreui-plugin")}},"NX.coreui.controller.FeatureGroups",{id:"NX.coreui.controller.HttpSettings",active:function(){return NX.app.Application.bundleActive("org.sonatype.nexus.plugins.nexus-coreui-plugin")}},{id:"NX.coreui.controller.HealthCheckInfo",active:function(){return NX.app.Application.bundleActive("com.sonatype.nexus.plugins.nexus-healthcheck-oss-plugin")||NX.app.Application.bundleActive("com.sonatype.nexus.plugins.nexus-clm-plugin")}},{id:"NX.coreui.controller.HealthCheckRepositoryColumn",active:function(){return NX.app.Application.bundleActive("com.sonatype.nexus.plugins.nexus-healthcheck-oss-plugin")||NX.app.Application.bundleActive("com.sonatype.nexus.plugins.nexus-clm-plugin")}},{id:"NX.coreui.controller.HealthCheckRepositoryConfiguration",active:function(){return NX.app.Application.bundleActive("com.sonatype.nexus.plugins.nexus-healthcheck-oss-plugin")||NX.app.Application.bundleActive("com.sonatype.nexus.plugins.nexus-clm-plugin")}},{id:"NX.coreui.controller.LdapServers",active:function(){return NX.app.Application.bundleActive("com.sonatype.nexus.plugins.nexus-ldap-plugin")}},{id:"NX.coreui.controller.Log",active:function(){return NX.app.Application.bundleActive("org.sonatype.nexus.plugins.nexus-coreui-plugin")}},{id:"NX.coreui.controller.Loggers",active:function(){return NX.app.Application.bundleActive("org.sonatype.nexus.plugins.nexus-coreui-plugin")}},{id:"NX.coreui.controller.Metrics",active:function(){return NX.app.Application.bundleActive("org.sonatype.nexus.plugins.nexus-coreui-plugin")}},{id:"NX.coreui.migration.Controller",active:function(){return NX.State.getValue("migration",{})["enabled"]&&NX.app.Application.bundleActive("com.sonatype.nexus.plugins.nexus-migration-plugin")}},{id:"NX.coreui.controller.NuGetApiKey",active:function(){return NX.app.Application.bundleActive("com.sonatype.nexus.plugins.nexus-repository-nuget")}},{id:"NX.coreui.controller.Outreach",active:function(){return NX.app.Application.bundleActive("com.sonatype.nexus.plugins.nexus-outreach-plugin")}},{id:"NX.coreui.controller.Bundles",active:function(){return NX.app.Application.bundleActive("org.sonatype.nexus.plugins.nexus-coreui-plugin")}},{id:"NX.coreui.controller.Repositories",active:function(){return NX.app.Application.bundleActive("org.sonatype.nexus.plugins.nexus-coreui-plugin")}},{id:"NX.coreui.controller.Blobstores",active:function(){return NX.app.Application.bundleActive("org.sonatype.nexus.plugins.nexus-coreui-plugin")}},{id:"NX.coreui.controller.Licensing",active:function(){return NX.app.Application.bundleActive("com.sonatype.nexus.plugins.nexus-licensing-plugin")}},{id:"NX.coreui.controller.LicenseUsers",active:function(){return NX.app.Application.bundleActive("com.sonatype.nexus.plugins.nexus-licensing-plugin")}},{id:"NX.coreui.controller.Nodes",active:function(){return NX.app.Application.bundleActive("org.sonatype.nexus.plugins.nexus-coreui-plugin")}},{id:"NX.coreui.controller.Privileges",active:function(){return NX.app.Application.bundleActive("org.sonatype.nexus.plugins.nexus-coreui-plugin")}},{id:"NX.coreui.controller.DatabaseWarnings",active:function(){return NX.app.Application.bundleActive("org.sonatype.nexus.plugins.nexus-coreui-plugin")}},{id:"NX.coreui.controller.RealmSettings",active:function(){return NX.app.Application.bundleActive("org.sonatype.nexus.plugins.nexus-coreui-plugin")}},{id:"NX.coreui.controller.Roles",active:function(){return NX.app.Application.bundleActive("org.sonatype.nexus.plugins.nexus-coreui-plugin")}},{id:"NX.coreui.controller.Search",active:function(){return NX.app.Application.bundleActive("org.sonatype.nexus.plugins.nexus-coreui-plugin")}},{id:"NX.coreui.controller.SearchBower",active:function(){return NX.app.Application.bundleActive("com.sonatype.nexus.plugins.nexus-repository-bower")}},{id:"NX.coreui.controller.SearchDocker",active:function(){return NX.app.Application.bundleActive("com.sonatype.nexus.plugins.nexus-repository-docker")}},{id:"NX.coreui.controller.SearchGitLfs",active:function(){return NX.app.Application.bundleActive("com.sonatype.nexus.plugins.nexus-repository-gitlfs")}},{id:"NX.coreui.controller.SearchMaven",active:function(){return NX.app.Application.bundleActive("org.sonatype.nexus.plugins.nexus-repository-maven")}},{id:"NX.coreui.controller.SearchNpm",active:function(){return NX.app.Application.bundleActive("com.sonatype.nexus.plugins.nexus-repository-npm")}},{id:"NX.coreui.controller.SearchNuget",active:function(){return NX.app.Application.bundleActive("com.sonatype.nexus.plugins.nexus-repository-nuget")}},{id:"NX.coreui.controller.SearchPyPi",active:function(){return NX.app.Application.bundleActive("com.sonatype.nexus.plugins.nexus-repository-pypi")}},{id:"NX.coreui.controller.SearchRaw",active:function(){return NX.app.Application.bundleActive("org.sonatype.nexus.plugins.nexus-repository-raw")}},{id:"NX.coreui.controller.SearchRubygems",active:function(){return NX.app.Application.bundleActive("com.sonatype.nexus.plugins.nexus-repository-rubygems")}},{id:"NX.coreui.controller.SearchYum",active:function(){return NX.app.Application.bundleActive("com.sonatype.nexus.plugins.nexus-repository-yum")}},{id:"NX.coreui.controller.Selectors",active:function(){return NX.app.Application.bundleActive("org.sonatype.nexus.plugins.nexus-coreui-plugin")}},{id:"NX.coreui.controller.SmtpSettings",active:function(){return NX.app.Application.bundleActive("org.sonatype.nexus.plugins.nexus-coreui-plugin")}},{id:"NX.coreui.controller.SslCertificates",active:function(){return NX.app.Application.bundleActive("org.sonatype.nexus.plugins.nexus-ssl-plugin")}},{id:"NX.coreui.controller.SslTrustStore",active:function(){return NX.app.Application.bundleActive("org.sonatype.nexus.plugins.nexus-ssl-plugin")}},{id:"NX.coreui.controller.SupportRequest",active:function(){return NX.app.Application.bundleActive("org.sonatype.nexus.plugins.nexus-coreui-plugin")}},{id:"NX.coreui.controller.SupportZip",active:function(){return NX.app.Application.bundleActive("org.sonatype.nexus.plugins.nexus-coreui-plugin")}},{id:"NX.coreui.controller.SysInfo",active:function(){return NX.app.Application.bundleActive("org.sonatype.nexus.plugins.nexus-coreui-plugin")}},{id:"NX.coreui.controller.Tasks",active:function(){return NX.app.Application.bundleActive("org.sonatype.nexus.plugins.nexus-coreui-plugin")}},{id:"NX.coreui.controller.Users",active:function(){return NX.app.Application.bundleActive("org.sonatype.nexus.plugins.nexus-coreui-plugin")}}]});Ext.define("NX.coreui.view.repository.facet.ProxyFacet",{extend:"Ext.form.FieldContainer",alias:"widget.nx-coreui-repository-proxy-facet",requires:["NX.I18n"],defaults:{allowBlank:false,itemCls:"required-field"},initComponent:function(){var a=this;a.items=[{xtype:"fieldset",itemId:"proxyFieldSet",cls:"nx-form-section",title:NX.I18n.get("Repository_Facet_ProxyFacet_Title"),items:[{xtype:"nx-url",itemId:"remoteUrl",name:"attributes.proxy.remoteUrl",fieldLabel:NX.I18n.get("Repository_Facet_ProxyFacet_Remote_FieldLabel"),helpText:NX.I18n.get("Repository_Facet_ProxyFacet_Remote_HelpText"),emptyText:NX.I18n.get("Repository_Facet_ProxyFacet_Remote_EmptyText"),allowBlank:false,useTrustStore:function(b){if(Ext.String.startsWith(b.getValue(),"https://")){return{name:"attributes.httpclient.connection.useTrustStore",url:b}}return undefined}},{xtype:"checkbox",name:"attributes.httpclient.blocked",fieldLabel:NX.I18n.get("Repository_Facet_ProxyFacet_Blocked_FieldLabel"),helpText:NX.I18n.get("Repository_Facet_ProxyFacet_Blocked_HelpText"),value:false},{xtype:"checkbox",name:"attributes.httpclient.autoBlock",fieldLabel:NX.I18n.get("Repository_Facet_ProxyFacet_Autoblock_FieldLabel"),helpText:NX.I18n.get("Repository_Facet_ProxyFacet_Autoblock_HelpText"),value:true},{xtype:"numberfield",name:"attributes.proxy.contentMaxAge",fieldLabel:NX.I18n.get("Repository_Facet_ProxyFacet_ArtifactAge_FieldLabel"),helpText:NX.I18n.get("Repository_Facet_ProxyFacet_ArtifactAge_HelpText"),minValue:-1,value:1440},{xtype:"numberfield",name:"attributes.proxy.metadataMaxAge",fieldLabel:NX.I18n.get("Repository_Facet_ProxyFacet_MetadataAge_FieldLabel"),helpText:NX.I18n.get("Repository_Facet_ProxyFacet_MetadataAge_HelpText"),minValue:-1,value:1440}]}];a.callParent()}});Ext.define("NX.coreui.view.capability.CapabilitySettings",{extend:"NX.view.SettingsPanel",alias:"widget.nx-coreui-capability-settings",settingsForm:{xtype:"nx-coreui-capability-settings-form"}});Ext.define("NX.coreui.view.repository.facet.StorageFacet",{extend:"Ext.form.FieldContainer",alias:"widget.nx-coreui-repository-storage-facet",requires:["NX.I18n"],initComponent:function(){var a=this;a.items=[{xtype:"fieldset",cls:"nx-form-section",title:NX.I18n.get("Repository_Facet_StorageFacet_Title"),defaults:{allowBlank:false,itemCls:"required-field"},items:[{xtype:"combo",name:"attributes.storage.blobStoreName",itemId:"blobStoreName",fieldLabel:NX.I18n.get("Repository_Facet_StorageFacet_BlobStore_FieldLabel"),helpText:NX.I18n.get("Repository_Facet_StorageFacet_BlobStore_HelpText"),emptyText:NX.I18n.get("Repository_Facet_StorageFacet_BlobStore_EmptyText"),editable:false,store:"Blobstore",queryMode:"local",displayField:"name",valueField:"name",readOnlyOnUpdate:true,listeners:{afterrender:function(d){if(!d.getValue()){var b=d.getStore();if(b.getTotalCount()===1){var c=b.getAt(0).get("name");d.originalValue=c;d.setValue(c)}}}}},{xtype:"checkbox",name:"attributes.storage.strictContentTypeValidation",itemId:"strictContentTypeValidation",fieldLabel:NX.I18n.get("Repository_Facet_StorageFacet_ContentTypeValidation_FieldLabel"),helpText:NX.I18n.get("Repository_Facet_StorageFacet_ContentTypeValidation_HelpText"),value:true}]}];a.callParent()}});Ext.define("NX.coreui.view.repository.RepositorySettingsForm",{extend:"NX.view.SettingsForm",alias:"widget.nx-coreui-repository-settings-form",requires:["NX.Conditions","NX.I18n"],api:{submit:"NX.direct.coreui_Repository.update"},initComponent:function(){var a=this,b;a.settingsFormSuccessMessage=function(c){return NX.I18n.get("Repository_RepositorySettingsForm_Update_Success")+c.name};a.editableMarker=NX.I18n.get("Repository_RepositorySettingsForm_Update_Error");if(!a.editableCondition){a.editableCondition=NX.Conditions.and(b=NX.Conditions.isPermitted("nexus:repository-admin:*:*:edit"),NX.Conditions.formHasRecord("nx-coreui-repository-settings-form",function(c){b.setPermission("nexus:repository-admin:"+c.get("format")+":"+c.get("name")+":edit");return true}))}a.items=a.items||[];Ext.Array.insert(a.items,0,[{xtype:"fieldset",cls:"nx-form-section nx-no-title",items:[{xtype:"textfield",cls:"nx-no-border",name:"name",itemId:"name",labelAlign:"left",fieldLabel:NX.I18n.get("Repository_RepositorySettingsForm_Name_FieldLabel"),helpText:NX.I18n.get("Repository_RepositorySettingsForm_Name_HelpText"),readOnly:true,allowBlank:false,vtype:"nx-name"},{xtype:"textfield",cls:"nx-no-border",name:"format",itemId:"format",labelAlign:"left",fieldLabel:NX.I18n.get("Repository_RepositorySettingsForm_Format_FieldLabel"),helpText:NX.I18n.get("Repository_RepositorySettingsForm_Format_HelpText"),readOnly:true},{xtype:"textfield",cls:"nx-no-border",name:"type",itemId:"type",labelAlign:"left",fieldLabel:NX.I18n.get("Repository_RepositorySettingsForm_Type_FieldLabel"),helpText:NX.I18n.get("Repository_RepositorySettingsForm_Type_HelpText"),readOnly:true},{xtype:"textfield",cls:"nx-no-border",name:"url",itemId:"url",labelAlign:"left",fieldLabel:NX.I18n.get("Repository_RepositorySettingsForm_URL_FieldLabel"),helpText:NX.I18n.get("Repository_RepositorySettingsForm_URL_HelpText"),readOnly:true},{xtype:"checkbox",name:"online",itemId:"online",labelAlign:"left",fieldLabel:NX.I18n.get("Repository_RepositorySettingsForm_Online_FieldLabel"),helpText:NX.I18n.get("Repository_RepositorySettingsForm_Online_HelpText"),value:true}]}]);a.callParent();Ext.override(a.getForm(),{getValues:function(){var d={attributes:{}},c=this.callParent(arguments);Ext.Object.each(c,function(f,h){var e=f.split("."),g=d;Ext.each(e,function(i,j){if(j===e.length-1){g[i]=h}else{if(!g[i]){g[i]={}}g=g[i]}})});return d},setValues:function(c){var d=function(f,e){Ext.Object.each(f,function(g,h){var i=(e?e+".":"")+g;if(Ext.isObject(h)){d(h,i)}else{c[i]=h}})};d(c);this.callParent(arguments)}})}});Ext.define("NX.coreui.view.repository.facet.StorageFacetHosted",{extend:"Ext.form.FieldContainer",alias:"widget.nx-coreui-repository-storage-hosted-facet",requires:["NX.I18n"],defaults:{allowBlank:false,itemCls:"required-field"},writePolicy:"ALLOW_ONCE",initComponent:function(){var a=this;a.items=[{xtype:"fieldset",cls:"nx-form-section",title:NX.I18n.get("Repository_Facet_StorageFacetHosted_Title"),items:[{xtype:"combo",name:"attributes.storage.writePolicy",itemId:"writePolicy",fieldLabel:NX.I18n.get("Repository_Facet_StorageFacetHosted_Deployment_FieldLabel"),helpText:NX.I18n.get("Repository_Facet_StorageFacetHosted_Deployment_HelpText"),emptyText:NX.I18n.get("Repository_Facet_StorageFacetHosted_Deployment_EmptyText"),editable:false,store:[["ALLOW",NX.I18n.get("Repository_Facet_StorageFacetHosted_Deployment_AllowItem")],["ALLOW_ONCE",NX.I18n.get("Repository_Facet_StorageFacetHosted_Deployment_DisableItem")],["DENY",NX.I18n.get("Repository_Facet_StorageFacetHosted_Deployment_ReadOnlyItem")]],value:a.writePolicy,queryMode:"local"}]}];a.callParent()}});Ext.define("NX.coreui.view.repository.recipe.NpmHosted",{extend:"NX.coreui.view.repository.RepositorySettingsForm",alias:"widget.nx-coreui-repository-npm-hosted",requires:["NX.coreui.view.repository.facet.StorageFacet","NX.coreui.view.repository.facet.StorageFacetHosted"],initComponent:function(){var a=this;a.items=[{xtype:"nx-coreui-repository-storage-facet"},{xtype:"nx-coreui-repository-storage-hosted-facet"}];a.callParent()}});Ext.define("NX.coreui.migration.PreviewScreen",{extend:"NX.wizard.GridScreen",alias:"widget.nx-coreui-migration-preview",requires:["NX.I18n"],initComponent:function(){var a=this;Ext.apply(a,{title:NX.I18n.render(a,"Title"),description:NX.I18n.render(a,"Description"),grid:{xtype:"grid",viewConfig:{stripeRows:true},hideHeaders:true,columns:[{xtype:"nx-iconcolumn",width:36,iconVariant:"x16",iconName:function(d,e,b){var c=b.get("state");switch(c){case"INITIALIZED":return"migration-step-pending";default:return"migration-step-error"}}},{header:NX.I18n.render(a,"Name_Column"),dataIndex:"name",flex:1},{header:NX.I18n.render(a,"State_Column"),dataIndex:"state"}],store:"NX.coreui.migration.PreviewStore",features:[{ftype:"grouping",collapsible:false,enableGroupingMenu:false}]},buttons:["back",{text:NX.I18n.render(a,"Begin_Button"),action:"begin",ui:"nx-primary",disabled:true},"cancel"]});a.callParent()}});Ext.define("NX.coreui.migration.PreviewStep",{extend:"NX.wizard.Step",requires:["NX.coreui.migration.PreviewScreen"],screen:"NX.coreui.migration.PreviewScreen",resetOnBack:true,init:function(){var a=this;a.control({"button[action=back]":{click:a.moveBack},"button[action=begin]":{click:a.doBegin},"button[action=cancel]":{click:a.cancel},gridpanel:{cellclick:a.doDisplayDetail}})},prepare:function(){var b=this.get("plan-preview"),a=this.getStore("NX.coreui.migration.PreviewStore");a.loadData(b.steps,false);if(b.valid){this.getScreenCmp().down("button[action=begin]").enable()}},reset:function(){var b=this,a=b.getScreenCmp();if(a){a.down("button[action=begin]").disable()}b.getStore("NX.coreui.migration.PreviewStore").removeAll(true);b.callParent()},doBegin:function(){var a=this;NX.Dialogs.askConfirmation(NX.I18n.render(a,"Begin_Confirm_Title"),NX.I18n.render(a,"Begin_Confirm_Text"),function(){a.mask(NX.I18n.render(a,"Begin_Mask"));NX.direct.migration_Assistant.prepare(function(b,c){a.unmask();if(c.status&&b.success){a.moveNext();NX.Messages.success(NX.I18n.render(a,"Begin_Message"))}})})},doDisplayDetail:function(c,d,b,a){this.controller.displayPlanStepDetail(a.get("id"));return false}});Ext.define("NX.coreui.view.logging.LoggerList",{extend:"Ext.grid.Panel",alias:"widget.nx-coreui-logger-list",requires:["NX.I18n"],stateful:true,stateId:"nx-coreui-logger-list",initComponent:function(){Ext.apply(this,{store:"Logger",columns:[{xtype:"nx-iconcolumn",width:36,iconVariant:"x16",iconName:function(){return"logger-default"}},{header:NX.I18n.get("Logging_LoggerList_Name_Header"),dataIndex:"name",stateId:"name",hideable:false,flex:1},{header:NX.I18n.get("Logging_LoggerList_Level_Header"),dataIndex:"level",stateId:"level",hideable:false,editor:{xtype:"combo",editable:false,store:[["TRACE",NX.I18n.get("Logging_LoggerList_Level_TraceItem")],["DEBUG",NX.I18n.get("Logging_LoggerList_Level_DebugItem")],["INFO",NX.I18n.get("Logging_LoggerList_Level_InfoItem")],["WARN",NX.I18n.get("Logging_LoggerList_Level_WarnItem")],["ERROR",NX.I18n.get("Logging_LoggerList_Level_ErrorItem")],["OFF",NX.I18n.get("Logging_LoggerList_Level_OffItem")],["DEFAULT",NX.I18n.get("Logging_LoggerList_Level_DefaultItem")]],queryMode:"local"}}],viewConfig:{emptyText:NX.I18n.get("Logging_LoggerList_EmptyText"),deferEmptyText:false},dockedItems:[{xtype:"nx-actions",items:[{xtype:"button",text:NX.I18n.get("Logging_LoggerList_New_Button"),glyph:"xf055@FontAwesome",action:"new",disabled:true},{xtype:"button",text:NX.I18n.get("Logging_LoggerList_Delete_Button"),glyph:"xf056@FontAwesome",action:"delete",disabled:true},"-",{xtype:"button",text:NX.I18n.get("Logging_LoggerList_Reset_Button"),glyph:"xf0e2@FontAwesome",action:"reset",disabled:true}]}],plugins:[{pluginId:"editor",ptype:"rowediting",clicksToEdit:1,errorSummary:false},{ptype:"gridfilterbox",emptyText:NX.I18n.get("Logging_LoggerList_Filter_EmptyText")}]});this.callParent()}});Ext.define("NX.coreui.view.system.Bundles",{extend:"NX.view.drilldown.Drilldown",alias:"widget.nx-coreui-system-bundles",requires:["NX.I18n"],initComponent:function(){Ext.apply(this,{iconName:"bundle-default",masters:[{xtype:"nx-coreui-system-bundlelist"}],tabs:{xtype:"nx-info-panel",title:NX.I18n.get("System_Bundles_Details_Tab")}});this.callParent()}});Ext.define("NX.coreui.view.repository.facet.HttpClientFacet",{extend:"Ext.form.FieldContainer",alias:"widget.nx-coreui-repository-httpclient-facet",requires:["NX.I18n"],initComponent:function(){var a=this;a.items=[{xtype:"fieldset",cls:"nx-form-section",title:NX.I18n.get("Repository_Facet_HttpClientFacet_Title"),items:[{xtype:"nx-optionalfieldset",title:NX.I18n.get("Repository_Facet_HttpClientFacet_Authentication_Title"),checkboxToggle:true,checkboxName:"authEnabled",collapsed:true,items:[{xtype:"combo",name:"attributes.httpclient.authentication.type",fieldLabel:NX.I18n.get("Repository_Facet_HttpClientFacet_AuthenticationType_FieldLabel"),editable:false,store:[["username",NX.I18n.get("Repository_Facet_HttpClientFacet_AuthenticationType_Username")],["ntlm",NX.I18n.get("Repository_Facet_HttpClientFacet_AuthenticationType_NTLM")]],value:"username",listeners:{change:function(c){var b=this.up("form").down("#ntlmFields");if(c.getValue()==="ntlm"){b.show();b.enable()}else{b.hide();b.disable()}}}},{xtype:"textfield",name:"attributes.httpclient.authentication.username",fieldLabel:NX.I18n.get("System_AuthenticationSettings_Username_FieldLabel"),allowBlank:false},{xtype:"textfield",inputType:"password",name:"attributes.httpclient.authentication.password",fieldLabel:NX.I18n.get("System_AuthenticationSettings_Password_FieldLabel"),allowBlank:false},{xtype:"fieldcontainer",itemId:"ntlmFields",hidden:true,items:[{xtype:"textfield",name:"attributes.httpclient.authentication.ntlmHost",fieldLabel:NX.I18n.get("System_AuthenticationSettings_WindowsNtlmHostname_FieldLabel")},{xtype:"textfield",name:"attributes.httpclient.authentication.ntlmDomain",fieldLabel:NX.I18n.get("System_AuthenticationSettings_WindowsNtlmDomain_FieldLabel")}]}]},{xtype:"nx-optionalfieldset",title:NX.I18n.get("Repository_Facet_HttpClientFacet_HTTP_Title"),checkboxToggle:true,checkboxName:"httpRequestSettings",collapsed:true,items:[{xtype:"textfield",name:"attributes.httpclient.connection.userAgentSuffix",fieldLabel:NX.I18n.get("System_HttpRequestSettings_UserAgentCustomization_FieldLabel"),helpText:NX.I18n.get("System_HttpRequestSettings_UserAgentCustomization_HelpText")},{xtype:"numberfield",name:"attributes.httpclient.connection.retries",fieldLabel:NX.I18n.get("Repository_Facet_HttpClientFacet_ConnectionRetries_FieldLabel"),helpText:NX.I18n.get("Repository_Facet_HttpClientFacet_ConnectionRetries_HelpText"),allowDecimals:false,allowExponential:false,minValue:0,maxValue:10},{xtype:"numberfield",name:"attributes.httpclient.connection.timeout",fieldLabel:NX.I18n.get("Repository_Facet_HttpClientFacet_ConnectionTimeout_FieldLabel"),helpText:NX.I18n.get("Repository_Facet_HttpClientFacet_ConnectionTimeout_HelpText"),allowDecimals:false,allowExponential:false,minValue:0,maxValue:3600},{xtype:"checkbox",name:"attributes.httpclient.connection.enableCircularRedirects",fieldLabel:NX.I18n.get("Repository_Facet_HttpClientFacet_EnableCircularRedirects_FieldLabel"),helpText:NX.I18n.get("Repository_Facet_HttpClientFacet_EnableCircularRedirects_HelpText")},{xtype:"checkbox",name:"attributes.httpclient.connection.enableCookies",fieldLabel:NX.I18n.get("Repository_Facet_HttpClientFacet_EnableCookies_FieldLabel"),helpText:NX.I18n.get("Repository_Facet_HttpClientFacet_EnableCookies_HelpText")}]}]}];a.callParent()}});Ext.define("NX.coreui.view.repository.facet.NegativeCacheFacet",{extend:"Ext.form.FieldContainer",alias:"widget.nx-coreui-repository-negativecache-facet",requires:["NX.I18n"],defaults:{itemCls:"required-field"},initComponent:function(){var a=this;a.items=[{xtype:"fieldset",cls:"nx-form-section",title:NX.I18n.get("Repository_Facet_NegativeCacheFacet_Title"),items:[{xtype:"checkbox",name:"attributes.negativeCache.enabled",fieldLabel:NX.I18n.get("Repository_Facet_NegativeCacheFacet_Enabled_FieldLabel"),helpText:NX.I18n.get("Repository_Facet_NegativeCacheFacet_Enabled_HelpText"),value:true},{xtype:"numberfield",name:"attributes.negativeCache.timeToLive",fieldLabel:NX.I18n.get("Repository_Facet_NegativeCacheFacet_TTL_FieldLabel"),helpText:NX.I18n.get("Repository_Facet_NegativeCacheFacet_TTL_HelpText"),minValue:-1,value:1440}]}];a.callParent()}});Ext.define("NX.coreui.view.repository.recipe.NpmProxy",{extend:"NX.coreui.view.repository.RepositorySettingsForm",alias:"widget.nx-coreui-repository-npm-proxy",requires:["NX.coreui.view.repository.facet.ProxyFacet","NX.coreui.view.repository.facet.StorageFacet","NX.coreui.view.repository.facet.HttpClientFacet","NX.coreui.view.repository.facet.NegativeCacheFacet"],initComponent:function(){var a=this;a.items=[{xtype:"nx-coreui-repository-proxy-facet"},{xtype:"nx-coreui-repository-storage-facet"},{xtype:"nx-coreui-repository-negativecache-facet"},{xtype:"nx-coreui-repository-httpclient-facet"}];a.callParent()}});Ext.define("NX.coreui.view.task.TaskSettingsForm",{extend:"NX.view.SettingsForm",alias:"widget.nx-coreui-task-settings-form",requires:["NX.Conditions","NX.I18n"],initComponent:function(){var a=this;a.items=[{xtype:"hiddenfield",name:"id"},{xtype:"hiddenfield",name:"typeId"},{xtype:"checkbox",fieldLabel:NX.I18n.get("Task_TaskSettingsForm_Enabled_FieldLabel"),helpText:NX.I18n.get("Task_TaskSettingsForm_Enabled_HelpText"),name:"enabled",allowBlank:false,checked:true,editable:true},{name:"name",fieldLabel:NX.I18n.get("Task_TaskSettingsForm_Name_FieldLabel"),helpText:NX.I18n.get("Task_TaskSettingsForm_Name_HelpText")},{xtype:"nx-email",name:"alertEmail",fieldLabel:NX.I18n.get("Task_TaskSettingsForm_Email_FieldLabel"),helpText:NX.I18n.get("Task_TaskSettingsForm_Email_HelpText"),allowBlank:true},{xtype:"nx-coreui-formfield-settingsfieldset"},{xtype:"nx-coreui-task-schedulefieldset"}];a.editableMarker=NX.I18n.get("Task_TaskSettingsForm_Update_Error");a.editableCondition=a.editableCondition||NX.Conditions.and(NX.Conditions.isPermitted("nexus:tasks:update"),NX.Conditions.formHasRecord("nx-coreui-task-settings-form",function(b){return b.get("schedule")!=="internal"}));a.callParent()},getValues:function(){var c=this,b=c.getForm().getFieldValues(),a={id:b.id,typeId:b.typeId,enabled:b.enabled?true:false,name:b.name,alertEmail:b.alertEmail,schedule:b.schedule};a.properties=c.down("nx-coreui-formfield-settingsfieldset").exportProperties(b);a.recurringDays=c.down("nx-coreui-task-schedulefieldset").getRecurringDays();a.startDate=c.down("nx-coreui-task-schedulefieldset").getStartDate();if(a.startDate){a.startDate=a.startDate.toJSON()}if(a.schedule==="advanced"){a.cronExpression=b.cronExpression}return a},loadRecord:function(b){var d=this,a=NX.getApplication().getStore("TaskType").getById(b.get("typeId")),c=d.down("nx-coreui-formfield-settingsfieldset"),e=d.down("nx-coreui-task-schedulefieldset");this.callParent(arguments);if(a){c.importProperties(b.get("properties"),a.get("formFields"));e.setRecurringDays(b.get("recurringDays"));e.setStartDate(b.get("startDate"))}},markInvalid:function(a){this.down("nx-coreui-formfield-settingsfieldset").markInvalid(a)}});Ext.define("NX.coreui.view.task.TaskSettings",{extend:"NX.view.SettingsPanel",alias:"widget.nx-coreui-task-settings",settingsForm:{xtype:"nx-coreui-task-settings-form"}});Ext.define("NX.coreui.view.system.SmtpSettings",{extend:"NX.view.SettingsPanel",alias:"widget.nx-coreui-system-smtp-settings",requires:["NX.Conditions","NX.I18n","NX.ext.form.field.Hostname"],initComponent:function(){var a=this;a.settingsForm=[{xtype:"nx-settingsform",settingsFormSuccessMessage:NX.I18n.get("System_SmtpSettings_Update_Success"),api:{load:"NX.direct.coreui_Email.read",submit:"NX.direct.coreui_Email.update"},editableCondition:NX.Conditions.isPermitted("nexus:settings:update"),editableMarker:NX.I18n.get("System_SmtpSettings_Update_Error"),items:[{xtype:"checkbox",name:"enabled",fieldLabel:NX.I18n.get("System_SmtpSettings_Enabled_FieldLabel")},{xtype:"nx-hostname",name:"host",itemId:"host",fieldLabel:NX.I18n.get("System_SmtpSettings_Host_FieldLabel")},{xtype:"numberfield",name:"port",itemId:"port",fieldLabel:NX.I18n.get("System_SmtpSettings_Port_FieldLabel"),minValue:1,maxValue:65536,allowDecimals:false,allowExponential:false,useTrustStore:function(c){var b=c.up("form");return{name:"nexusTrustStoreEnabled",host:b.down("#host"),port:b.down("#port")}}},{xtype:"textfield",name:"username",fieldLabel:NX.I18n.get("System_SmtpSettings_Username_FieldLabel"),allowBlank:true},{xtype:"nx-password",name:"password",fieldLabel:NX.I18n.get("System_SmtpSettings_Password_FieldLabel"),allowBlank:true},{xtype:"nx-email",name:"fromAddress",fieldLabel:NX.I18n.get("System_SmtpSettings_FromAddress_FieldLabel")},{xtype:"textfield",name:"subjectPrefix",fieldLabel:NX.I18n.get("System_SmtpSettings_SubjectPrefix_FieldLabel"),allowBlank:true},{xtype:"checkboxgroup",fieldLabel:NX.I18n.get("System_SmtpSettings_SslTlsSection_FieldLabel"),columns:1,allowBlank:true,items:[{xtype:"checkbox",name:"startTlsEnabled",boxLabel:NX.I18n.get("System_SmtpSettings_StartTlsEnabled_FieldLabel")},{xtype:"checkbox",name:"startTlsRequired",boxLabel:NX.I18n.get("System_SmtpSettings_StartTlsRequired_FieldLabel")},{xtype:"checkbox",name:"sslOnConnectEnabled",boxLabel:NX.I18n.get("System_SmtpSettings_SslOnConnectEnabled_FieldLabel")},{xtype:"checkbox",name:"sslCheckServerIdentityEnabled",boxLabel:NX.I18n.get("System_SmtpSettings_SslCheckServerIdentityEnabled_FieldLabel")}]}]}];a.callParent();a.down("nx-settingsform").getDockedItems('toolbar[dock="bottom"]')[0].add({xtype:"button",text:NX.I18n.get("System_SmtpSettings_VerifyServer_Button"),formBind:true,action:"verify",glyph:"xf003@FontAwesome"})}});Ext.define("NX.coreui.view.privilege.PrivilegeFeature",{extend:"NX.view.drilldown.Drilldown",alias:"widget.nx-coreui-privilege-feature",requires:["NX.I18n"],iconName:"privilege-default",masters:[{xtype:"nx-coreui-privilege-list"}],initComponent:function(){var a=this;Ext.apply(a,{tabs:{xtype:"nx-coreui-privilege-settings",title:NX.I18n.get("Privilege_PrivilegeFeature_Settings_Title"),weight:10},actions:[{xtype:"button",text:NX.I18n.get("Privilege_PrivilegeFeature_Delete_Button"),glyph:"xf056@FontAwesome",action:"delete",disabled:true}]});a.callParent()}});Ext.define("NX.coreui.view.repository.recipe.RubygemsProxy",{extend:"NX.coreui.view.repository.RepositorySettingsForm",alias:"widget.nx-coreui-repository-rubygems-proxy",requires:["NX.coreui.view.repository.facet.ProxyFacet","NX.coreui.view.repository.facet.StorageFacet","NX.coreui.view.repository.facet.HttpClientFacet","NX.coreui.view.repository.facet.NegativeCacheFacet"],initComponent:function(){var a=this;a.items=[{xtype:"nx-coreui-repository-proxy-facet"},{xtype:"nx-coreui-repository-storage-facet"},{xtype:"nx-coreui-repository-negativecache-facet"},{xtype:"nx-coreui-repository-httpclient-facet"}];a.callParent()}});Ext.define("NX.coreui.model.Reference",{extend:"Ext.data.Model",fields:[{name:"id",type:"string",sortType:"asUCText"},{name:"name",type:"string",sortType:"asUCText"}]});Ext.define("NX.coreui.store.RepositoryRecipe",{extend:"Ext.data.Store",model:"NX.coreui.model.Reference",proxy:{type:"direct",paramsAsHash:false,api:{read:"NX.direct.coreui_Repository.readRecipes"},reader:{type:"json",root:"data",idProperty:"id",successProperty:"success"}},sorters:{property:"name",direction:"ASC"}});Ext.define("NX.coreui.controller.SearchRaw",{extend:"NX.app.Controller",requires:["NX.I18n"],init:function(){var b=this,a=b.getController("NX.coreui.controller.Search");a.registerFilter({id:"raw",name:"Raw",text:NX.I18n.get("SearchRaw_Text"),description:NX.I18n.get("SearchRaw_Description"),readOnly:true,criterias:[{id:"format",value:"raw",hidden:true},{id:"name.raw"}]},b)}});Ext.define("NX.coreui.view.ldap.LdapServerUserAndGroup",{extend:"NX.view.SettingsPanel",alias:"widget.nx-coreui-ldapserver-userandgroup",settingsForm:{xtype:"nx-coreui-ldapserver-userandgroup-form"}});Ext.define("NX.coreui.view.formfield.factory.FormfieldTextFieldFactory",{singleton:true,alias:["nx.formfield.factory.textfield","nx.formfield.factory.string","nx.formfield.factory.password"],create:function(b){var a={xtype:b.type==="url"?"nx-url":"textfield",htmlDecode:true,fieldLabel:b.label,itemCls:b.required?"required-field":"",helpText:b.helpText,allowBlank:!b.required,regex:b.regexValidation?new RegExp(b.regexValidation):null};if(b.type==="password"){a.inputType="password"}if(b.initialValue){a.value=b.initialValue}return a}});Ext.define("NX.coreui.model.LdapServer",{extend:"Ext.data.Model",fields:[{name:"id",type:"string"},{name:"name",type:"string",sortType:"asUCText"},{name:"order",type:"int"},{name:"url",type:"string"},{name:"protocol",type:"auto"},{name:"host",type:"string"},{name:"port",type:"int"},{name:"useTrustStore",type:"boolean"},{name:"searchBase",type:"string"},{name:"authScheme",type:"string"},{name:"authRealm",type:"string"},{name:"authUsername",type:"string"},{name:"authPassword",type:"string"},{name:"connectionTimeout",type:"int"},{name:"connectionRetryDelay",type:"int"},{name:"maxIncidentsCount",type:"int"},{name:"userBaseDn",type:"string"},{name:"userSubtree",type:"boolean"},{name:"userObjectClass",type:"string"},{name:"userLdapFilter",type:"string"},{name:"userIdAttribute",type:"string"},{name:"userRealNameAttribute",type:"string"},{name:"userMemberOfAttribute",type:"string"},{name:"userEmailAddressAttribute",type:"string"},{name:"userPasswordAttribute",type:"string"},{name:"ldapGroupsAsRoles",type:"boolean"},{name:"groupType",type:"string"},{name:"groupBaseDn",type:"string"},{name:"groupSubtree",type:"boolean"},{name:"groupIdAttribute",type:"string"},{name:"groupMemberAttribute",type:"string"},{name:"groupMemberFormat",type:"string"},{name:"groupObjectClass",type:"string"}]});Ext.define("NX.coreui.store.LdapServer",{extend:"Ext.data.Store",model:"NX.coreui.model.LdapServer",proxy:{type:"direct",paramsAsHash:false,api:{read:"NX.direct.ldap_LdapServer.read"},reader:{type:"json",root:"data",idProperty:"id",successProperty:"success"}},sorters:{property:"order",direction:"ASC"}});Ext.define("NX.coreui.view.repository.facet.DockerV1Facet",{extend:"Ext.form.FieldContainer",alias:"widget.nx-coreui-repository-docker-v1-facet",requires:["NX.I18n"],initComponent:function(){var a=this;a.items=[{xtype:"fieldset",itemId:"dockerV1",cls:"nx-form-section",title:NX.I18n.get("Repository_Facet_DockerHostedFacet_V1_Title"),width:600,items:[{xtype:"checkbox",name:"attributes.docker.v1Enabled",itemId:"v1enabled",fieldLabel:NX.I18n.get("Repository_Facet_DockerHostedFacet_V1_Enabled"),helpText:NX.I18n.get("Repository_Facet_DockerHostedFacet_V1_Enabled_Help"),value:false}]}];a.callParent()}});Ext.define("NX.coreui.migration.ProgressScreenSupport",{extend:"NX.wizard.GridScreen",requires:["NX.I18n"],initComponent:function(){var a=this;a.fields=[{xtype:"progressbar"}];a.grid={xtype:"grid",viewConfig:{stripeRows:true,loadMask:false},hideHeaders:true,columns:[{xtype:"nx-iconcolumn",width:36,iconVariant:"x16",iconName:function(d,e,b){var c=b.get("state");switch(c){case"COMPLETED":return"migration-step-done";case"INITIALIZED":return"migration-step-pending";case"RUNNING":return"migration-step-running";default:return"migration-step-error"}}},{header:NX.I18n.render(a,"Name_Column"),dataIndex:"name",flex:1},{header:NX.I18n.render(a,"Status_Column"),dataIndex:"status",flex:2,renderer:function(b){if(b===null){return"Pending"}return b}},{header:NX.I18n.render(a,"State_Column"),dataIndex:"state"},{header:NX.I18n.render(a,"Complete_Column"),dataIndex:"complete",width:80,renderer:function(b){if(b>=0){return Math.floor(b*100)+"%"}}}],store:"NX.coreui.migration.ProgressStore",invalidateScrollerOnRefresh:false};a.callParent()},getProgressBar:function(){return this.down("progressbar")}});Ext.define("NX.coreui.migration.PhaseFinishScreen",{extend:"NX.coreui.migration.ProgressScreenSupport",alias:"widget.nx-coreui-migration-phasefinish",requires:["NX.I18n"],initComponent:function(){var a=this;Ext.apply(a,{title:NX.I18n.render(a,"Title"),description:NX.I18n.render(a,"Description"),buttons:[{text:NX.I18n.render(a,"Abort_Button"),action:"abort",ui:"default"},{text:NX.I18n.render(a,"Done_Button"),action:"done",ui:"nx-primary",disabled:true}]});a.callParent()}});Ext.define("NX.coreui.view.repository.recipe.NugetHosted",{extend:"NX.coreui.view.repository.RepositorySettingsForm",alias:"widget.nx-coreui-repository-nuget-hosted",requires:["NX.coreui.view.repository.facet.StorageFacet","NX.coreui.view.repository.facet.StorageFacetHosted"],initComponent:function(){var a=this;a.items=[{xtype:"nx-coreui-repository-storage-facet"},{xtype:"nx-coreui-repository-storage-hosted-facet"}];a.callParent()}});Ext.define("NX.coreui.view.system.BundleList",{extend:"NX.view.drilldown.Master",alias:"widget.nx-coreui-system-bundlelist",requires:["NX.I18n"],stateful:true,stateId:"nx-coreui-system-bundlelist",initComponent:function(){Ext.apply(this,{store:"Bundle",columns:[{xtype:"nx-iconcolumn",width:36,iconVariant:"x16",iconName:function(){return"bundle-default"}},{header:NX.I18n.get("System_BundleList_ID_Header"),dataIndex:"id",stateId:"id",width:60,resizable:false},{header:NX.I18n.get("System_BundleList_State_Header"),dataIndex:"state",stateId:"state",width:80,resizable:false},{header:NX.I18n.get("System_BundleList_Level_Header"),dataIndex:"startLevel",stateId:"startLevel",width:60,resizable:false},{header:NX.I18n.get("System_BundleList_Name_Header"),dataIndex:"name",stateId:"name",flex:2},{header:NX.I18n.get("System_BundleList_SymbolicName_Header"),dataIndex:"symbolicName",stateId:"symbolicName",flex:2,hidden:true},{header:NX.I18n.get("System_BundleList_Version_Header"),dataIndex:"version",stateId:"version",flex:1},{header:NX.I18n.get("System_BundleList_Location_Header"),dataIndex:"location",stateId:"location",hidden:true},{header:NX.I18n.get("System_BundleList_Fragment_Header"),dataIndex:"fragment",stateId:"fragment",hidden:true}],tbar:{xtype:"nx-actions"},plugins:[{ptype:"gridfilterbox",emptyText:NX.I18n.get("System_BundleList_Filter_EmptyText")}]});this.callParent()}});Ext.define("NX.coreui.view.blobstore.BlobstoreSettingsForm",{extend:"NX.view.SettingsForm",alias:"widget.nx-coreui-blobstore-settings-form",requires:["NX.Conditions","NX.I18n"],api:{submit:"NX.direct.coreui_Blobstore.update"},initComponent:function(){var a=this;a.settingsFormSuccessMessage=function(b){return NX.I18n.get("Blobstore_BlobstoreSettingsForm_Update_Success")+b.name};a.editableMarker=NX.I18n.get("Blobstore_BlobstoreSettingsForm_Update_Error");a.editableCondition=a.editableCondition||NX.Conditions.never();a.items=[{xtype:"combo",name:"type",itemId:"type",fieldLabel:NX.I18n.get("Blobstore_BlobstoreAdd_Type_FieldLabel"),emptyText:NX.I18n.get("Blobstore_BlobstoreAdd_Type_EmptyText"),editable:false,store:"BlobstoreType",queryMode:"local",displayField:"name",valueField:"id",readOnly:true},{xtype:"textfield",name:"name",itemId:"name",fieldLabel:NX.I18n.get("Blobstore_BlobstoreSettingsForm_Name_FieldLabel"),readOnly:true},{xtype:"textfield",name:"path",itemId:"path",fieldLabel:NX.I18n.get("Blobstore_BlobstoreSettingsForm_Path_FieldLabel"),readOnly:true}];a.callParent();Ext.override(a.getForm(),{getValues:function(){var b=this.callParent(arguments);b.attributes={file:{path:b.path}};return b},setValues:function(b){var c=b.attributes;b.path=c.file["path"];this.callParent(arguments)}})}});Ext.define("NX.coreui.view.blobstore.BlobstoreAdd",{extend:"NX.view.AddPanel",alias:"widget.nx-coreui-blobstore-add",requires:["NX.Conditions","NX.I18n"],defaultFocus:"type",initComponent:function(){var b=this;NX.direct.coreui_Blobstore.defaultWorkDirectory(function(d){if(Ext.isObject(d)&&d.success){b.defaultWorkDirectory=d.data.path;b.fileSeparator=d.data.fileSeparator}});b.settingsForm={xtype:"nx-coreui-blobstore-settings-form",api:{submit:"NX.direct.coreui_Blobstore.create"},settingsFormSuccessMessage:function(d){return NX.I18n.get("Blobstore_BlobstoreAdd_Create_Success")+d.name},editableCondition:NX.Conditions.isPermitted("nexus:blobstores:create"),editableMarker:NX.I18n.get("Blobstore_BlobstoreAdd_Create_Error"),buttons:[{text:NX.I18n.get("Blobstore_BlobstoreList_New_Button"),action:"add",formBind:true,ui:"nx-primary"},{text:NX.I18n.get("Add_Cancel_Button"),action:"back"}]};b.callParent();var c=b.down("#type");c.setReadOnly(false);c.on({afterrender:function(){var d=this;d.setValue(d.getStore("BlobstoreType").first().data.id)}});var a=b.down("#name");a.setReadOnly(false);a.on({change:function(i,d,h){var g=i.next("#path"),e=b.defaultWorkDirectory,j=e+b.fileSeparator+h;if(!g.getValue()||g.getValue()===j){g.setValue(e+b.fileSeparator+d)}}});b.down("#path").setReadOnly(false)}});Ext.define("NX.coreui.store.BlobstoreType",{extend:"Ext.data.Store",model:"NX.coreui.model.Reference",proxy:{type:"direct",paramsAsHash:false,api:{read:"NX.direct.coreui_Blobstore.readTypes"},reader:{type:"json",root:"data",idProperty:"id",successProperty:"success"}},sorters:{property:"name",direction:"ASC"}});Ext.define("NX.coreui.model.Blobstore",{extend:"Ext.data.Model",idProperty:"name",fields:[{name:"name",type:"string",sortType:"asUCText"},{name:"type",type:"string",sortType:"asUCText"},{name:"attributes",type:"auto",defaultValue:null},{name:"blobCount",type:"int"},{name:"totalSize",type:"int"},{name:"availableSpace",type:"int"},{name:"repositoryUseCount",type:"int"}]});Ext.define("NX.coreui.store.Blobstore",{extend:"Ext.data.Store",model:"NX.coreui.model.Blobstore",proxy:{type:"direct",api:{read:"NX.direct.coreui_Blobstore.read"},reader:{type:"json",root:"data",successProperty:"success"}},sorters:{property:"name",direction:"ASC"}});Ext.define("NX.coreui.view.blobstore.BlobstoreFeature",{extend:"NX.view.drilldown.Drilldown",alias:"widget.nx-coreui-blobstore-feature",requires:["NX.I18n"],initComponent:function(){Ext.apply(this,{iconName:"blobstore-default",masters:[{xtype:"nx-coreui-blobstore-list"}],tabs:{xtype:"nx-coreui-blobstore-settings"},actions:[{xtype:"button",text:NX.I18n.get("Blobstore_BlobstoreFeature_Delete_Button"),glyph:"xf056@FontAwesome",action:"delete",disabled:true}]});this.callParent()}});Ext.define("NX.coreui.view.blobstore.BlobstoreList",{extend:"NX.view.drilldown.Master",alias:"widget.nx-coreui-blobstore-list",requires:["NX.I18n"],stateful:true,stateId:"nx-coreui-blobstore-list",initComponent:function(){Ext.apply(this,{store:"Blobstore",columns:[{xtype:"nx-iconcolumn",width:36,iconVariant:"x16",iconName:function(){return"blobstore-default"}},{header:NX.I18n.get("Blobstore_BlobstoreList_Name_Header"),dataIndex:"name",stateId:"name",flex:1},{header:NX.I18n.get("Blobstore_BlobstoreList_Type_Header"),dataIndex:"type",stateId:"type"},{header:NX.I18n.get("Blobstore_BlobstoreList_BlobCount_Header"),dataIndex:"blobCount",stateId:"blobCount"},{header:NX.I18n.get("Blobstore_BlobstoreList_TotalSize_Header"),dataIndex:"totalSize",stateId:"totalSize",renderer:Ext.util.Format.fileSize},{header:NX.I18n.get("Blobstore_BlobstoreList_AvailableSpace_Header"),dataIndex:"availableSpace",stateId:"availableSpace",renderer:Ext.util.Format.fileSize,flex:1}],viewConfig:{emptyText:NX.I18n.get("Blobstore_BlobstoreList_EmptyText"),deferEmptyText:false},dockedItems:[{xtype:"nx-actions",items:[{xtype:"button",text:NX.I18n.get("Blobstore_BlobstoreList_New_Button"),glyph:"xf055@FontAwesome",action:"new",disabled:true}]}],plugins:[{ptype:"gridfilterbox",emptyText:NX.I18n.get("Blobstore_BlobstoreList_Filter_EmptyText")}]});this.callParent()}});Ext.define("NX.coreui.view.blobstore.BlobstoreSettings",{extend:"NX.view.SettingsPanel",alias:"widget.nx-coreui-blobstore-settings",requires:["NX.I18n"],settingsForm:{xtype:"nx-coreui-blobstore-settings-form"},initComponent:function(){var a=this;a.title=NX.I18n.get("Blobstore_BlobstoreSettings_Title");a.callParent()}});Ext.define("NX.coreui.controller.Blobstores",{extend:"NX.controller.Drilldown",requires:["NX.Dialogs","NX.Messages","NX.Permissions","NX.I18n"],masters:["nx-coreui-blobstore-list"],models:["Blobstore"],stores:["Blobstore","BlobstoreType"],views:["blobstore.BlobstoreAdd","blobstore.BlobstoreFeature","blobstore.BlobstoreList","blobstore.BlobstoreSettings","blobstore.BlobstoreSettingsForm"],refs:[{ref:"feature",selector:"nx-coreui-blobstore-feature"},{ref:"content",selector:"nx-feature-content"},{ref:"list",selector:"nx-coreui-blobstore-list"},{ref:"settings",selector:"nx-coreui-blobstore-feature nx-coreui-blobstore-settings"}],icons:{"blobstore-default":{file:"drive_network.png",variants:["x16","x32"]}},permission:"nexus:blobstores",init:function(){var a=this;a.features={mode:"admin",path:"/Repository/Blobstores",text:NX.I18n.get("Blobstores_Text"),description:NX.I18n.get("Blobstores_Description"),view:{xtype:"nx-coreui-blobstore-feature"},iconConfig:{file:"drive_network.png",variants:["x16","x32"]},visible:function(){return NX.Permissions.check("nexus:blobstores:read")&&NX.State.getUser()}};a.callParent();a.listen({controller:{"#Refresh":{refresh:a.loadStores}},store:{"#Blobstore":{load:a.reselect}},component:{"nx-coreui-blobstore-list":{beforerender:a.loadRecipe},"nx-coreui-blobstore-list button[action=new]":{click:a.showAddWindow},"nx-coreui-blobstore-settings-form":{submitted:a.loadStores}}})},getDescription:function(a){return a.get("name")},onSelection:function(b,a){if(Ext.isDefined(a)){this.getSettings().loadRecord(a)}},bindDeleteButton:function(a){var b=this;a.mon(NX.Conditions.and(NX.Conditions.isPermitted(this.permission+":delete"),NX.Conditions.gridHasSelection("nx-coreui-blobstore-list",function(c){var d=c.get("repositoryUseCount");if(d>0){b.showInfo(NX.I18n.format("Blobstore_BlobstoreFeature_Delete_Disabled_Message",Ext.util.Format.plural(d,"repository","repositories")))}else{b.clearInfo()}return !d>0})),{satisfied:a.enable,unsatisfied:a.disable,scope:a})},showAddWindow:function(){var a=this;a.setItemName(1,NX.I18n.get("Blobstores_Create_Title"));a.loadCreateWizard(1,true,Ext.create("widget.nx-coreui-blobstore-add"))},loadRecipe:function(){var a=this,b=a.getList();if(b){a.getStore("BlobstoreType").load()}},deleteModel:function(a){var c=this,b=c.getDescription(a);c.getContent().getEl().mask(NX.I18n.get("Blobstores_Delete_Mask"));NX.direct.coreui_Blobstore.remove(a.getId(),function(d){c.getContent().getEl().unmask();c.getStore("Blobstore").load();if(Ext.isObject(d)&&d.success){NX.Messages.add({text:"Blobstore deleted: "+b,type:"success"})}})}});Ext.define("NX.coreui.view.analytics.AnalyticsEventList",{extend:"Ext.grid.Panel",alias:"widget.nx-coreui-analytics-event-list",requires:["Ext.XTemplate","NX.I18n"],stateful:true,stateId:"nx-coreui-analytics-event-list",initComponent:function(){Ext.apply(this,{store:"AnalyticsEvent",viewConfig:{stripeRows:true},columns:[{xtype:"nx-iconcolumn",width:36,iconVariant:"x16",iconName:function(c,d,a){var b=a.get("type");switch(b){case"REST":return"analyticsevent-rest";case"Ext.Direct":return"analyticsevent-ui";default:return"analyticsevent-default"}}},{header:NX.I18n.get("Analytics_AnalyticsEventList_Type_Header"),dataIndex:"type",stateId:"type",flex:1},{header:NX.I18n.get("Analytics_AnalyticsEventList_Timestamp_Header"),tooltip:NX.I18n.get("Analytics_AnalyticsEventList_Timestamp_Tooltip"),dataIndex:"timestamp",stateId:"timestamp",flex:1},{header:NX.I18n.get("Analytics_AnalyticsEventList_Sequence_Header"),dataIndex:"sequence",stateId:"sequence",flex:1},{header:NX.I18n.get("Analytics_AnalyticsEventList_Duration_Header"),tooltip:NX.I18n.get("Analytics_AnalyticsEventList_Duration_Tooltip"),dataIndex:"duration",stateId:"duration",flex:1},{header:NX.I18n.get("Analytics_AnalyticsEventList_User_Header"),dataIndex:"userId",stateId:"userId",flex:1},{header:NX.I18n.get("Analytics_AnalyticsEventList_Attributes_Header"),dataIndex:"attributes",stateId:"attributes",flex:3,renderer:function(a){var b="";Ext.Object.each(a,function(c,d){if(b!==""){b+=", "}b+=c+"="+d});return b}}],dockedItems:[{xtype:"nx-actions",items:[{xtype:"button",text:NX.I18n.get("Analytics_AnalyticsEventList_Clear_Button"),glyph:"xf056@FontAwesome",action:"clear",disabled:true},{xtype:"button",text:NX.I18n.get("Analytics_AnalyticsEventsList_Export_Button"),glyph:"xf019@FontAwesome",action:"export"},"-",{xtype:"button",text:NX.I18n.get("Analytics_AnalyticsEventList_Submit_Button"),glyph:"xf0ee@FontAwesome",action:"submit",disabled:true},"-",{xtype:"pagingtoolbar",store:"AnalyticsEvent",border:false,displayInfo:true}]}],plugins:[{ptype:"rowexpander",rowBodyTpl:Ext.create("Ext.XTemplate",'<table class="nx-rowexpander">','<tpl for="this.attributes(values)">',"<tr>",'<td class="x-selectable">{name}</td>','<td class="x-selectable">{value}</td>',"</tr>","</tpl>","</table>",{compiled:true,attributes:function(b){var a=[];Ext.iterate(b.attributes,function(c,d){a.push({name:c,value:d})});return a}})},{ptype:"gridfilterbox",emptyText:NX.I18n.get("Analytics_AnalyticsEventList_Filter_EmptyText")}]});this.callParent()}});Ext.define("NX.coreui.view.task.TaskSummary",{extend:"Ext.Panel",alias:"widget.nx-coreui-task-summary",requires:["NX.Conditions","NX.I18n"],initComponent:function(){var a=this;a.title=NX.I18n.get("TaskFeature_Summary_Title");a.autoScroll=true;a.layout={type:"vbox",align:"stretch"};a.items={xtype:"panel",ui:"nx-inset",items:[{xtype:"panel",ui:"nx-subsection",itemId:"nx-coreui-task-summary-subsection",frame:true,layout:"column",weight:10,items:[{xtype:"nx-info",columnWidth:1}]},{xtype:"nx-coreui-task-status",ui:"nx-subsection",frame:true,title:NX.I18n.get("TaskFeature_Summary_Status_Section_Title"),weight:20}]};a.callParent()},showInfo:function(a){this.down("nx-info").showInfo(a)},getStatuses:function(){var a=this;return a.down("nx-coreui-task-status")}});Ext.define("NX.coreui.migration.ProgressStepSupport",{extend:"NX.wizard.Step",requires:["Ext.util.TaskManager","NX.I18n"],config:{phase:null},init:function(){var a=this;a.control({gridpanel:{cellclick:a.doDisplayDetail}})},prepare:function(){var a=this;a.mask(NX.I18n.render(a,"Loading_Mask"));a.getStore("NX.coreui.migration.ProgressStore").on({single:true,datachanged:function(){a.unmask()}});a.autoRefresh(true)},reset:function(){this.autoRefresh(false);this.getStore("NX.coreui.migration.ProgressStore").removeAll(true);this.callParent()},refreshTask:undefined,autoRefresh:function(a){var b=this;if(a){b.refreshTask=Ext.util.TaskManager.start({interval:1000,fireOnStart:true,run:function(){b.refresh()}})}else{if(b.refreshTask){Ext.util.TaskManager.stop(b.refreshTask);delete b.refreshTask}}},refresh:function(){var a=this;NX.direct.migration_Progress.read(a.phase,function(c,d){if(d.status&&c.success){var e=c.data,b=a.getStore("NX.coreui.migration.ProgressStore");a.getScreenCmp().getProgressBar().updateProgress(e.complete);b.loadData(e.steps,false);if(e.complete/1===1){a.autoRefresh(false);a.doComplete()}}})},doComplete:Ext.emptyFn,doDisplayDetail:function(c,d,b,a){this.controller.displayPlanStepDetail(a.get("id"));return false}});Ext.define("NX.coreui.migration.PhaseFinishStep",{extend:"NX.coreui.migration.ProgressStepSupport",requires:["NX.coreui.migration.PhaseFinishScreen"],screen:"NX.coreui.migration.PhaseFinishScreen",phase:"FINISH",init:function(){var a=this;a.control({"button[action=abort]":{click:a.doAbort},"button[action=done]":{click:a.doDone}});a.callParent()},reset:function(){var b=this,a=b.getScreenCmp();if(a){a.down("button[action=abort]").enable();a.down("button[action=done]").disable()}b.callParent()},doComplete:function(){this.getScreenCmp().down("button[action=abort]").disable();this.getScreenCmp().down("button[action=done]").enable()},doAbort:function(){var a=this;NX.Dialogs.askConfirmation(NX.I18n.render(a,"Abort_Confirm_Title"),NX.I18n.render(a,"Abort_Confirm_Text"),function(){a.mask(NX.I18n.render(a,"Abort_Mask"));a.autoRefresh(false);NX.direct.migration_Assistant.abort(function(b,c){a.unmask();if(c.status&&b.success){a.controller.reset();NX.Messages.warning(NX.I18n.render(a,"Abort_Message"))}})})},doDone:function(){var a=this;a.mask(NX.I18n.render(a,"Done_Mask"));NX.direct.migration_Assistant.done(function(b,c){a.unmask();if(c.status&&b.success){a.finish();NX.Messages.success(NX.I18n.render(a,"Done_Message"))}})}});Ext.define("NX.coreui.migration.RepositoryModel",{extend:"Ext.data.Model",idProperty:"repository",fields:[{name:"repository",type:"string",sortType:"asUCText"},{name:"name",type:"string",sortType:"asUCText"},{name:"type",type:"string",sortType:"asUCText"},{name:"format",type:"string",sortType:"asUCText"},{name:"supported",type:"boolean"},{name:"status",type:"string"},{name:"blobStore",type:"string"},{name:"ingestMethod",type:"string"}]});Ext.define("NX.coreui.migration.RepositoryStore",{extend:"Ext.data.ArrayStore",requires:["NX.coreui.migration.RepositoryModel"],model:"NX.coreui.migration.RepositoryModel",sorters:{property:"repository",direction:"ASC"}});Ext.define("NX.coreui.view.system.NodeList",{extend:"NX.view.drilldown.Master",alias:"widget.nx-coreui-system-nodelist",requires:["NX.I18n"],config:{stateful:true,stateId:"nx-coreui-system-nodelist"},store:"Node",columns:[{xtype:"nx-iconcolumn",width:36,iconVariant:"x16",iconName:function(){return"node-default"}},{header:"Node Identity",dataIndex:"nodeIdentity",stateId:"nodeIdentity",flex:1},{header:"Local",dataIndex:"local",stateId:"local",width:80},{header:"Socket Address",dataIndex:"socketAddress",stateId:"socketAddress",flex:1}],dockedItems:[{xtype:"nx-actions",items:[{xtype:"button",text:"Enable read-only mode",glyph:"xf1e5@FontAwesome",action:"freeze"}]}],plugins:[{ptype:"gridfilterbox",emptyText:'No nodes matched "$filter"'}]});Ext.define("NX.coreui.view.privilege.PrivilegeSelectType",{extend:"NX.view.drilldown.Master",alias:"widget.nx-coreui-privilege-selecttype",requires:["NX.I18n"],cls:"nx-hr",initComponent:function(){var a=this;Ext.apply(a,{store:"PrivilegeType",columns:[{xtype:"nx-iconcolumn",dataIndex:"id",width:36,iconVariant:"x16",iconNamePrefix:"privilege-"},{header:NX.I18n.get("Privilege_PrivilegeSelectType_Type_Header"),dataIndex:"name",flex:1}]});a.callParent()}});Ext.define("NX.coreui.model.CapabilityType",{extend:"Ext.data.Model",fields:[{name:"id",type:"string",sortType:"asUCText"},{name:"name",type:"string",sortType:"asUCText"},{name:"about",type:"string",sortType:"asUCText"},{name:"formFields",type:"auto"}]});Ext.define("NX.coreui.store.CapabilityType",{extend:"Ext.data.Store",model:"NX.coreui.model.CapabilityType",proxy:{type:"direct",paramsAsHash:false,api:{read:"NX.direct.capability_Capability.readTypes"},reader:{type:"json",root:"data",idProperty:"id",successProperty:"success"}},sorters:{property:"name",direction:"ASC"}});Ext.define("NX.coreui.view.role.RoleAdd",{extend:"NX.view.AddPanel",alias:"widget.nx-coreui-role-add",requires:["NX.Conditions","NX.I18n"],defaultFocus:"id",initComponent:function(){var a=this;a.settingsForm={xtype:"nx-coreui-role-settings-form",api:{submit:"NX.direct.coreui_Role.create"},settingsFormSuccessMessage:function(b){return NX.I18n.get("Role_RoleAdd_Create_Success")+b.name},editableCondition:NX.Conditions.isPermitted("nexus:roles:create"),editableMarker:NX.I18n.get("Role_RoleAdd_Create_Error"),source:a.source,buttons:[{text:NX.I18n.get("Role_RoleList_New_Button"),action:"add",formBind:true,ui:"nx-primary"},{text:NX.I18n.get("Add_Cancel_Button"),action:"back"}]};a.callParent();a.down("#id").setReadOnly(false)}});Ext.define("NX.coreui.view.support.SupportRequest",{extend:"NX.view.SettingsPanel",alias:"widget.nx-coreui-support-supportrequest",requires:["NX.I18n"],initComponent:function(){Ext.apply(this,{settingsForm:{xtype:"nx-settingsform",items:[{xtype:"label",html:NX.I18n.get("Support_SupportRequest_HelpText")}],buttonAlign:"left",buttons:[{text:NX.I18n.get("Support_SupportRequest_Submit_Button"),glyph:"xf08e@FontAwesome",action:"makerequest",ui:"nx-primary"}]}});this.callParent()}});Ext.define("NX.coreui.controller.SupportRequest",{extend:"NX.app.Controller",requires:["NX.State","NX.Permissions","NX.Windows","NX.I18n"],views:["support.SupportRequest"],init:function(){var a=this;a.getApplication().getFeaturesController().registerFeature({mode:"admin",path:"/Support/Support Request",text:NX.I18n.get("SupportRequest_Text"),description:NX.I18n.get("SupportRequest_Description"),view:{xtype:"nx-coreui-support-supportrequest"},iconConfig:{file:"premium_support.png",variants:["x16","x32"]},visible:function(){return NX.State.getEdition()!=="OSS"&&NX.Permissions.check("nexus:atlas:create")}},a);a.listen({component:{"nx-coreui-support-supportrequest button[action=makerequest]":{click:a.makeRequest}}})},makeRequest:function(){NX.Windows.open("http://links.sonatype.com/products/nexus/pro/support-request")}});Ext.define("NX.coreui.store.RoleBySource",{extend:"Ext.data.Store",model:"NX.coreui.model.Reference",proxy:{type:"direct",paramOrder:"source",api:{read:"NX.direct.coreui_Role.readFromSource"},reader:{type:"json",root:"data",idProperty:"id",successProperty:"success"}},sorters:{property:"name",direction:"ASC"}});Ext.define("NX.coreui.view.task.TaskScheduleHourly",{extend:"Ext.form.FieldContainer",alias:"widget.nx-coreui-task-schedule-hourly",requires:["NX.util.DateFormat","NX.I18n"],initComponent:function(){var a=this;a.items=[{xtype:"datefield",name:"startDate",itemId:"startDate",fieldLabel:NX.I18n.get("Task_TaskScheduleDaily_StartDate_FieldLabel"),allowBlank:false,format:"m/d/Y",value:new Date(),submitValue:false},{xtype:"timefield",name:"startTime",fieldLabel:NX.I18n.get("Task_TaskScheduleHourly_EndDate_FieldLabel"),itemId:"startTime",helpText:"The time this task should start running in your time zone "+NX.util.DateFormat.getTimeZone()+".",allowBlank:false,format:"H:i",submitValue:false}];a.callParent()}});Ext.define("NX.coreui.view.repository.recipe.GitLfsHosted",{extend:"NX.coreui.view.repository.RepositorySettingsForm",alias:"widget.nx-coreui-repository-gitlfs-hosted",requires:["NX.coreui.view.repository.facet.StorageFacet","NX.coreui.view.repository.facet.StorageFacetHosted"],initComponent:function(){var a=this;a.items=[{xtype:"nx-coreui-repository-storage-facet"},{xtype:"nx-coreui-repository-storage-hosted-facet"}];a.callParent()}});Ext.define("NX.coreui.controller.FeatureGroups",{extend:"NX.app.Controller",requires:["NX.I18n"],init:function(){this.getApplication().getFeaturesController().registerFeature([{mode:"admin",path:"/Repository",text:NX.I18n.get("FeatureGroups_Repository_Text"),description:NX.I18n.get("FeatureGroups_Repository_Description"),group:true,weight:50,iconConfig:{file:"database.png",variants:["x16","x32"]}},{mode:"admin",path:"/Security",text:NX.I18n.get("FeatureGroups_Security_Title"),description:NX.I18n.get("FeatureGroups_Security_Description"),group:true,weight:90,iconConfig:{file:"security.png",variants:["x16","x32"]}},{mode:"admin",path:"/Support",text:NX.I18n.get("FeatureGroups_Support_Text"),description:NX.I18n.get("FeatureGroups_Support_Description"),group:true,iconConfig:{file:"support.png",variants:["x16","x32"]}},{mode:"admin",path:"/System",text:NX.I18n.get("FeatureGroups_System_Text"),description:NX.I18n.get("FeatureGroups_System_Description"),group:true,weight:1000,iconConfig:{file:"cog.png",variants:["x16","x32"]}},{mode:"browse",path:"/Browse",text:NX.I18n.get("FeatureGroups_Browse_Text"),description:NX.I18n.get("FeatureGroups_Browse_Description"),group:true,iconConfig:{file:"database_share.png",variants:["x16","x32"]}},{mode:"browse",path:"/Upload",text:NX.I18n.get("FeatureGroups_Upload_Text"),description:NX.I18n.get("FeatureGroups_Upload_Description"),group:true,iconConfig:{file:"upload.png",variants:["x16","x32"]}}])}});Ext.define("NX.coreui.view.browse.BrowseComponentFeature",{extend:"NX.view.drilldown.Drilldown",alias:"widget.nx-coreui-browsecomponentfeature",iconName:"browse-component-default",masters:[{xtype:"nx-coreui-browse-repository-list"},{xtype:"nx-coreui-browse-component-list"},{xtype:"panel",region:"center",layout:{type:"vbox",align:"stretch",pack:"start"},items:[{xtype:"nx-coreui-component-details"},{xtype:"nx-coreui-component-asset-list",flex:1}]}],detail:{xtype:"panel",layout:{type:"vbox",align:"stretch",pack:"start"},items:{xtype:"nx-coreui-component-assetcontainer",header:false,flex:1}}});Ext.define("NX.coreui.view.privilege.PrivilegeList",{extend:"NX.view.drilldown.Master",alias:"widget.nx-coreui-privilege-list",requires:["NX.Icons","NX.I18n"],stateful:true,stateId:"nx-coreui-privilege-list",tbar:{xtype:"nx-actions"},initComponent:function(){var a=this;Ext.apply(a,{store:"Privilege",columns:[{xtype:"nx-iconcolumn",dataIndex:"type",width:36,iconVariant:"x16",iconNamePrefix:"privilege-"},{header:NX.I18n.get("Privilege_PrivilegeList_Name_Header"),dataIndex:"name",stateId:"name",flex:2},{header:NX.I18n.get("Privilege_PrivilegeList_Description_Header"),dataIndex:"description",stateId:"description",flex:4},{header:NX.I18n.get("Privilege_PrivilegeList_Type_Header"),dataIndex:"type",stateId:"type",flex:1},{header:NX.I18n.get("Privilege_PrivilegeList_Permission_Header"),dataIndex:"permission",stateId:"permission",flex:2}],viewConfig:{emptyText:NX.I18n.get("Privilege_PrivilegeList_EmptyText"),emptyTextFilter:NX.I18n.get("Privilege_PrivilegeList_Filter_EmptyText"),deferEmptyText:false},selModel:{pruneRemoved:false},dockedItems:[{xtype:"nx-actions",items:[{xtype:"button",text:NX.I18n.get("Privilege_PrivilegeList_New_Button"),action:"new",disabled:true,glyph:"xf055@FontAwesome"}]}],plugins:[{ptype:"remotegridfilterbox"}]});a.callParent()}});Ext.define("NX.coreui.model.RepositoryReference",{extend:"Ext.data.Model",fields:[{name:"id",type:"string",sortType:"asUCText"},{name:"name",type:"string",sortType:"asUCText"},{name:"type",type:"string",sortType:"asUCText"},{name:"format",type:"string",sortType:"asUCText"},{name:"status",type:"auto"},{name:"url",type:"string",sortType:"asUCText"},{name:"sortOrder",sortType:"asInt"}]});Ext.define("NX.coreui.store.AllRepositoriesReference",{extend:"Ext.data.Store",model:"NX.coreui.model.RepositoryReference",proxy:{type:"direct",api:{read:"NX.direct.coreui_Repository.readReferencesAddingEntriesForAllFormats"},reader:{type:"json",root:"data",idProperty:"id",successProperty:"success"}},sortOnLoad:true,sorters:[{property:"sortOrder",direction:"DESC"},{property:"name",direction:"ASC"}]});Ext.define("NX.coreui.view.capability.CapabilityList",{extend:"NX.view.drilldown.Master",alias:"widget.nx-coreui-capability-list",requires:["NX.I18n","NX.ext.grid.column.Renderers"],originalColumns:undefined,initComponent:function(){var a=this;a.store="Capability";a.columns=[{xtype:"nx-iconcolumn",width:36,iconVariant:"x16",iconNamePrefix:"capability-",dataIndex:"state",hideable:false},{text:NX.I18n.get("Capability_CapabilityList_Type_Header"),dataIndex:"typeName",flex:1},{text:NX.I18n.get("Capability_CapabilityList_Description_Header"),dataIndex:"description",flex:1,groupable:false,renderer:NX.ext.grid.column.Renderers.optionalData},{text:NX.I18n.get("Capability_CapabilityList_Notes_Header"),dataIndex:"notes",flex:1,renderer:NX.ext.grid.column.Renderers.optionalData}];a.viewConfig={emptyText:NX.I18n.get("Capability_CapabilityList_EmptyText"),deferEmptyText:false,getRowClass:function(b){if(b.get("enabled")&&!b.get("active")){return"nx-red-marker"}}};a.dockedItems=[{xtype:"nx-actions",items:[{xtype:"button",text:NX.I18n.get("Capability_CapabilityList_New_Button"),action:"new",disabled:true,glyph:"xf055@FontAwesome"}]}];a.features=[{ftype:"grouping",groupHeaderTpl:'{[values.name === "" ? "No " + values.columnName : values.name + " " + values.columnName]}'}];a.plugins=[{ptype:"gridfilterbox",emptyText:NX.I18n.get("Capability_CapabilityList_Filter_EmptyText")}];a.originalColumns=a.columns;a.callParent()}});Ext.define("NX.coreui.view.formfield.factory.FormfieldItemselectFactory",{singleton:true,alias:["nx.formfield.factory.itemselect"],requires:["Ext.data.Store","Ext.data.SortTypes","NX.ext.form.field.ItemSelector"],mixins:{logAware:"NX.LogAware"},create:function(f){var e,c=f.attributes||{},a=f.idMapping||"id",d=f.nameMapping||"name",b={xtype:"nx-itemselector",fieldLabel:f.label,helpText:f.helpText,name:f.id,valueField:a,displayField:d,itemCls:f.required?"required-field":"",allowBlank:!f.required,delimiter:",",value:f.initialValue?f.initialValue:undefined,listeners:{afterrender:function(){var g=this.getValue();if(f.required&&g===undefined||(Ext.isArray(g)&&g.length===0)){this.markInvalid(this.blankText)}}}};if(c.buttons){b.buttons=c.buttons}if(c.fromTitle){b.fromTitle=c.fromTitle}if(c.toTitle){b.toTitle=c.toTitle}if(f.storeApi){if(f.storeFilters){e=[];Ext.Object.each(f.storeFilters,function(g,h){e.push({property:g,value:h})})}b.store=Ext.create("Ext.data.Store",{proxy:{type:"direct",api:{read:"NX.direct."+f.storeApi},reader:{type:"json",root:"data",idProperty:a,successProperty:"success"}},fields:[{name:"id",mapping:a},{name:"name",mapping:d,sortType:Ext.data.SortTypes.asUCString}],filters:e,sortOnLoad:true,sorters:{property:d,direction:"ASC"},remoteFilter:true,autoLoad:true})}return Ext.create("NX.ext.form.field.ItemSelector",b)}});Ext.define("NX.coreui.view.component.AssetAttributes",{extend:"Ext.grid.Panel",alias:"widget.nx-coreui-component-assetattributes",requires:["NX.I18n"],cls:"nx-coreui-component-assetattributes",assetModel:null,viewConfig:{enableTextSelection:true},itemId:"attributeGrid",store:Ext.create("Ext.data.Store",{fields:["facet","label","value"],groupField:"facet"}),columns:{items:[{text:"Facet",hidden:true,dataIndex:"facet"},{text:"label",flex:1,dataIndex:"label"},{text:"Value",flex:2,dataIndex:"value",renderer:function(a){return Ext.DomHelper.markup({tag:"div",cls:"attribute-value",html:Ext.util.Format.htmlEncode(a)})}}]},hideHeaders:true,features:[{ftype:"grouping",groupHeaderTpl:"{name:capitalize}"}],setAssetModel:function(b){var c=this,a=c.getStore();c.assetModel=b;a.data.clear();a.removeAll();Ext.iterate(c.assetModel.get("attributes"),function(e,d){Ext.iterate(d,function(f,g){a.add({facet:e,label:f,value:Ext.isObject(g)?Ext.encode(g):g})})})}});Ext.define("NX.coreui.model.BrowseableFormat",{extend:"Ext.data.Model",fields:[{name:"id",type:"string"}]});Ext.define("NX.coreui.store.BrowseableFormat",{extend:"Ext.data.Store",model:"NX.coreui.model.BrowseableFormat",proxy:{type:"direct",api:{read:"NX.direct.coreui_Repository.getBrowseableFormats"},reader:{type:"json",root:"data",successProperty:"success"}}});Ext.define("NX.coreui.util.BrowseableFormats",{singleton:true,mixins:{logAware:"NX.LogAware"},formats:undefined,available:function(){return Ext.isDefined(this.formats)},setFormats:function(a){var b=this;b.formats=Ext.clone(a)},resetFormats:function(){var a=this;delete a.formats},check:function(b){var a=this;if(!a.available()){return false}return Ext.Array.contains(a.formats,b)}});Ext.define("NX.coreui.controller.BrowseableFormats",{extend:"NX.app.Controller",requires:["NX.State","NX.coreui.util.BrowseableFormats"],stores:["BrowseableFormat"],init:function(){var a=this;a.listen({controller:{"#State":{userchanged:a.fetchFormats,browseableformatschanged:a.setFormats}},store:{"#BrowseableFormat":{load:a.fireFormatsChanged,update:a.onUpdate,remove:a.fireFormatsChanged}}});a.addEvents("changed")},onLaunch:function(){var a=this,b=NX.State.getValue("browseableformats");a.getStore("BrowseableFormat").loadRawData(b,false);NX.coreui.util.BrowseableFormats.setFormats(a.getFormats())},onUpdate:function(c,a,b){if(b===Ext.data.Model.COMMIT){this.fireFormatsChanged()}},fetchFormats:function(){var a=this;NX.coreui.util.BrowseableFormats.resetFormats();a.getStore("BrowseableFormat").load();NX.coreui.util.BrowseableFormats.setFormats(a.getFormats())},setFormats:function(a){var b=this;b.getStore("BrowseableFormat").loadRawData(a,false);b.fireFormatsChanged()},fireFormatsChanged:function(){var a=this;NX.coreui.util.BrowseableFormats.setFormats(a.getFormats());a.fireEvent("changed",NX.coreui.util.BrowseableFormats)},getFormats:function(){var b=this.getStore("BrowseableFormat"),a=[];b.each(function(c){a.push(c.get("id"))});return a}});Ext.define("NX.coreui.view.security.RealmSettings",{extend:"NX.view.SettingsPanel",alias:"widget.nx-coreui-security-realm-settings",requires:["NX.Conditions","NX.ext.form.field.ItemSelector","NX.I18n"],initComponent:function(){var a=this;a.settingsForm=[{xtype:"nx-settingsform",settingsFormSuccessMessage:NX.I18n.get("Security_RealmSettings_Update_Success"),api:{load:"NX.direct.coreui_RealmSettings.read",submit:"NX.direct.coreui_RealmSettings.update"},editableCondition:NX.Conditions.isPermitted("nexus:settings:update"),editableMarker:NX.I18n.get("Security_RealmSettings_Update_Error"),items:[{xtype:"nx-itemselector",name:"realms",fieldLabel:"Active realms",buttons:["up","add","remove","down"],fromTitle:NX.I18n.get("Security_RealmSettings_Available_FromTitle"),toTitle:NX.I18n.get("Security_RealmSettings_Available_ToTitle"),store:"RealmType",valueField:"id",displayField:"name",delimiter:null}]}];a.callParent()}});Ext.define("NX.coreui.view.repository.RepositoryListTemplate",{extend:"NX.view.drilldown.Master",alias:"widget.nx-coreui-repository-list-template",requires:["NX.I18n"],initComponent:function(){var a=this;a.columns=[{xtype:"nx-iconcolumn",width:36,iconVariant:"x16",iconNamePrefix:"repository-",dataIndex:"type"},{text:NX.I18n.get("Repository_RepositoryList_Name_Header"),dataIndex:"name",stateId:"name",flex:1},{text:NX.I18n.get("Repository_RepositoryList_Type_Header"),dataIndex:"type",stateId:"type"},{text:NX.I18n.get("Repository_RepositoryList_Format_Header"),dataIndex:"format",stateId:"format"},{header:NX.I18n.get("Repository_RepositoryList_Status_Header"),dataIndex:"status",stateId:"status",flex:1,xtype:"templatecolumn",tpl:new Ext.XTemplate('<tpl if="status.online">',"Online","<tpl else>","Offline","</tpl>",'<tpl if="status.description">'," - {status.description}","</tpl>",'<tpl if="status.reason">',"<br/><i>{status.reason}</i>","</tpl>")},{xtype:"nx-copylinkcolumn",header:NX.I18n.get("Repository_RepositoryList_URL_Header"),dataIndex:"url"}];a.viewConfig={emptyText:NX.I18n.get("Repository_RepositoryList_EmptyText"),deferEmptyText:false,markDirty:false};a.plugins=[{ptype:"gridfilterbox",emptyText:NX.I18n.get("Repository_RepositoryList_Filter_EmptyText")}];a.callParent()}});Ext.define("NX.coreui.view.repository.RepositoryList",{extend:"NX.coreui.view.repository.RepositoryListTemplate",alias:"widget.nx-coreui-repository-list",requires:["NX.I18n"],stateful:true,stateId:"nx-coreui-repository-list",initComponent:function(){this.store="Repository";this.dockedItems=[{xtype:"nx-actions",items:[{xtype:"button",text:NX.I18n.get("Repository_RepositoryList_New_Button"),glyph:"xf055@FontAwesome",action:"new",disabled:true}]}];this.callParent()}});Ext.define("NX.coreui.view.repository.RepositorySelectRecipe",{extend:"NX.view.drilldown.Master",alias:"widget.nx-coreui-repository-selectrecipe",requires:["NX.I18n"],cls:"nx-hr",store:"RepositoryRecipe",columns:[{xtype:"nx-iconcolumn",width:36,iconVariant:"x16",iconName:function(){return"repository-hosted"}},{header:"Recipe",dataIndex:"name",flex:1}]});Ext.define("NX.coreui.view.repository.recipe.RawProxy",{extend:"NX.coreui.view.repository.RepositorySettingsForm",alias:"widget.nx-coreui-repository-raw-proxy",requires:["NX.coreui.view.repository.facet.ProxyFacet","NX.coreui.view.repository.facet.StorageFacet","NX.coreui.view.repository.facet.HttpClientFacet","NX.coreui.view.repository.facet.NegativeCacheFacet"],initComponent:function(){var a=this;a.items=[{xtype:"nx-coreui-repository-proxy-facet"},{xtype:"nx-coreui-repository-storage-facet"},{xtype:"nx-coreui-repository-negativecache-facet"},{xtype:"nx-coreui-repository-httpclient-facet"}];a.callParent()}});Ext.define("NX.coreui.controller.Outreach",{extend:"NX.app.Controller",requires:["NX.util.Url","NX.State","NX.Permissions"],refs:[{ref:"welcomePage",selector:"nx-dashboard-welcome"}],init:function(){var a=this;a.listen({controller:{"#Refresh":{refresh:a.refreshOutreachContent},"#State":{userchanged:a.refreshOutreachContent}},component:{"nx-dashboard-welcome":{afterrender:a.refreshOutreachContent}}})},refreshOutreachContent:function(){var b=this,a=b.getWelcomePage();if(a){NX.direct.outreach_Outreach.readStatus(function(e){if(Ext.isObject(e)&&e.success){var d=NX.State.getUser(),c,f;if(d){c=d.administrator?"admin":"normal"}else{c="anonymous"}f=NX.util.Url.urlOf("service/outreach/?version="+NX.State.getVersion()+"&versionMm="+NX.State.getVersionMajorMinor()+"&edition="+NX.State.getEdition()+"&usertype="+c);var g=a.down("#outreach");if(g){a.remove(g,true)}a.add({xtype:"uxiframe",itemId:"outreach",anchor:"100%",width:"100%",flex:1,border:false,frame:false,hidden:true,src:f,listeners:{load:function(){var h=this;if(h.getWin().iframeLoaded){h.show()}else{}}}})}})}}});Ext.define("NX.coreui.store.RoleSource",{extend:"Ext.data.Store",model:"NX.coreui.model.Reference",proxy:{type:"direct",paramsAsHash:false,api:{read:"NX.direct.coreui_Role.readSources"},reader:{type:"json",root:"data",idProperty:"id",successProperty:"success"}},sorters:{property:"id",direction:"ASC"}});Ext.define("NX.coreui.view.role.RoleList",{extend:"NX.view.drilldown.Master",alias:"widget.nx-coreui-role-list",requires:["NX.Icons","NX.I18n"],stateful:true,stateId:"nx-coreui-role-list",initComponent:function(){var a=this;a.store="Role";a.columns=[{xtype:"nx-iconcolumn",width:36,iconVariant:"x16",iconName:function(){return"role-default"}},{header:NX.I18n.get("Role_RoleList_Name_Header"),dataIndex:"name",stateId:"name",flex:1},{header:NX.I18n.get("Role_RoleList_Source_Header"),dataIndex:"source",stateId:"source"},{header:NX.I18n.get("Role_RoleList_Description_Header"),dataIndex:"description",stateId:"description",flex:1}];a.viewConfig={emptyText:NX.I18n.get("Role_RoleList_EmptyText"),deferEmptyText:false};a.plugins=[{ptype:"gridfilterbox",emptyText:NX.I18n.get("Role_RoleList_Filter_EmptyText")}];a.dockedItems=[{xtype:"nx-actions",items:[{xtype:"button",text:NX.I18n.get("Role_RoleList_New_Button"),glyph:"xf055@FontAwesome",action:"new",disabled:true,menu:[{text:NX.I18n.get("Role_RoleList_New_NexusRoleItem"),action:"newrole",iconCls:NX.Icons.cls("role-default","x16")}]}]}];a.callParent()}});Ext.define("NX.coreui.view.repository.facet.BowerProxyFacet",{extend:"Ext.form.FieldContainer",alias:"widget.nx-coreui-repository-bower-proxy-facet",requires:["NX.I18n"],initComponent:function(){var a=this;a.items=[{xtype:"fieldset",cls:"nx-form-section",title:NX.I18n.get("Repository_Facet_BowerProxyFacet_Title"),width:600,items:[{xtype:"checkbox",name:"attributes.bower.rewritePackageUrls",fieldLabel:NX.I18n.get("Repository_Facet_BowerProxyFacet_RewritePackageUrls_FieldLabel"),helpText:NX.I18n.get("Repository_Facet_BowerProxyFacet_RewritePackageUrls_HelpText"),value:true}]}];a.callParent()}});Ext.define("NX.coreui.model.SearchCriteria",{extend:"Ext.data.Model",fields:[{name:"id",type:"string",sortType:"asUCText"},{name:"group",type:"string",sortType:"asUCText"},{name:"config",type:"auto"}]});Ext.define("NX.coreui.model.LicenseUser",{extend:"Ext.data.Model",fields:[{name:"ip",type:"string",sortType:"asUCText"},{name:"userId",type:"string",sortType:"asUCText"},{name:"userAgent",type:"string",sortType:"asUCText"},{name:"timestamp",type:"date",dateFormat:"c"}]});Ext.define("NX.coreui.view.repository.facet.Maven2Facet",{extend:"Ext.form.FieldContainer",alias:"widget.nx-coreui-repository-maven2-facet",requires:["NX.I18n"],defaults:{allowBlank:false,queryMode:"local",itemCls:"required-field"},initComponent:function(){var a=this;a.items=[{xtype:"fieldset",cls:"nx-form-section",title:NX.I18n.get("Repository_Facet_Maven2Facet_Title"),items:[{xtype:"combo",name:"attributes.maven.versionPolicy",itemId:"versionPolicy",fieldLabel:NX.I18n.get("Maven2Facet_VersionPolicy_FieldLabel"),helpText:NX.I18n.get("Maven2Facet_VersionPolicy_HelpText"),emptyText:NX.I18n.get("Maven2Facet_VersionPolicy_EmptyText"),editable:false,store:[["RELEASE",NX.I18n.get("Maven2Facet_VersionPolicy_ReleaseItem")],["SNAPSHOT",NX.I18n.get("Maven2Facet_VersionPolicy_SnapshotItem")],["MIXED",NX.I18n.get("Maven2Facet_VersionPolicy_MixedItem")]],value:"RELEASE",readOnlyOnUpdate:true},{xtype:"combo",name:"attributes.maven.layoutPolicy",fieldLabel:NX.I18n.get("Repository_Facet_Maven2Facet_LayoutPolicy_FieldLabel"),helpText:NX.I18n.get("Repository_Facet_Maven2Facet_LayoutPolicy_HelpText"),emptyText:NX.I18n.get("Repository_Facet_Maven2Facet_LayoutPolicy_EmptyText"),editable:false,store:[["STRICT",NX.I18n.get("Repository_Facet_Maven2Facet_LayoutPolicy_StrictItem")],["PERMISSIVE",NX.I18n.get("Repository_Facet_Maven2Facet_LayoutPolicy_PermissiveItem")]],value:"STRICT"}]}];a.callParent()}});Ext.define("NX.coreui.model.Capability",{extend:"Ext.data.Model",fields:[{name:"id",type:"string",sortType:"asUCText"},{name:"typeId",type:"string",sortType:"asUCText"},{name:"enabled",type:"boolean"},{name:"notes",type:"string",sortType:"asUCText"},{name:"properties",type:"auto",defaultValue:null},{name:"active",type:"boolean"},{name:"error",type:"boolean"},{name:"description",type:"string",sortType:"asUCText"},{name:"state",type:"string",sortType:"asUCText"},{name:"stateDescription",type:"string",sortType:"asUCText"},{name:"status",type:"string",sortType:"asUCText"},{name:"typeName",type:"string",sortType:"asUCText"},{name:"tags",type:"auto"}]});Ext.define("NX.coreui.store.Capability",{extend:"Ext.data.Store",model:"NX.coreui.model.Capability",proxy:{type:"direct",paramsAsHash:false,api:{read:"NX.direct.capability_Capability.read"},reader:{type:"json",root:"data",idProperty:"id",successProperty:"success"}},sorters:{property:"typeName",direction:"ASC"}});Ext.define("NX.coreui.migration.RepositoryCustomizeWindow",{extend:"NX.view.ModalDialog",alias:"widget.nx-coreui-migration-repositorycustomize",requires:["NX.I18n"],config:{repository:undefined,recordId:undefined,blobStore:undefined,ingestMethod:undefined},initComponent:function(){var a=this;Ext.apply(a,{ui:"nx-inset",closable:true,width:NX.view.ModalDialog.SMALL_MODAL,title:NX.I18n.render(a,"Title",a.repository),items:{xtype:"form",defaultType:"textfield",defaults:{anchor:"100%"},items:[{xtype:"hiddenfield",name:"id",value:a.recordId},{xtype:"combo",name:"blobStore",fieldLabel:NX.I18n.render(a,"BlobStore_FieldLabel"),helpText:NX.I18n.render(a,"BlobStore_HelpText"),emptyText:NX.I18n.render(a,"BlobStore_EmptyText"),editable:false,store:"Blobstore",queryMode:"local",displayField:"name",valueField:"name",readOnlyOnUpdate:true,value:a.blobStore},{xtype:"combo",name:"ingestMethod",fieldLabel:NX.I18n.render(a,"IngestMethod_FieldLabel"),helpText:NX.I18n.render(a,"IngestMethod_HelpText"),emptyText:NX.I18n.render(a,"IngestMethod_EmptyText"),editable:false,store:[["FS_LINK",NX.I18n.render(a,"IngestMethod_Link")],["FS_COPY",NX.I18n.render(a,"IngestMethod_Copy")],["DOWNLOAD",NX.I18n.render(a,"IngestMethod_Download")]],value:a.ingestMethod}],buttonAlign:"left",buttons:[{text:NX.I18n.get("Button_Save"),action:"save",scope:a,formBind:true,bindToEnter:true,ui:"nx-primary"},{text:NX.I18n.get("Button_Cancel"),handler:a.close,scope:a}]}});a.callParent()},getForm:function(){return this.down("form").getForm()}});Ext.define("NX.coreui.model.Repository",{extend:"Ext.data.Model",idProperty:"name",fields:[{name:"name",type:"string",sortType:"asUCText"},{name:"type",type:"string",sortType:"asUCText"},{name:"format",type:"string",sortType:"asUCText"},{name:"recipe",type:"string",sortType:"asUCText"},{name:"online",type:"boolean"},{name:"status",type:"auto"},{name:"attributes",type:"auto"},{name:"url",type:"string",sortType:"asUCText"}]});Ext.define("NX.coreui.view.repository.recipe.PyPiHosted",{extend:"NX.coreui.view.repository.RepositorySettingsForm",alias:"widget.nx-coreui-repository-pypi-hosted",requires:["NX.coreui.view.repository.facet.StorageFacet","NX.coreui.view.repository.facet.StorageFacetHosted"],initComponent:function(){var a=this;a.items=[{xtype:"nx-coreui-repository-storage-facet"},{xtype:"nx-coreui-repository-storage-hosted-facet"}];a.callParent()}});Ext.define("NX.coreui.model.AnalyticsEvent",{extend:"Ext.data.Model",fields:[{name:"type",type:"string",sortType:"asUCText"},{name:"timestamp",type:"int"},{name:"sequence",type:"int"},{name:"duration",type:"int"},{name:"userId",type:"string",sortType:"asUCText"},{name:"attributes",type:"auto"}]});Ext.define("NX.coreui.model.Asset",{extend:"Ext.data.Model",fields:[{name:"id",type:"string",sortType:"asUCText"},{name:"name",type:"string",sortType:"asUCText"},{name:"format",type:"string",sortType:"asUCText"},{name:"contentType",type:"string",sortType:"asUCText"},{name:"size",type:"int"},{name:"repositoryName",type:"string",sortType:"asUCText"},{name:"containingRepositoryName",type:"string",sortType:"asUCText"},{name:"blobCreated",type:"date",dateFormat:"c"},{name:"blobUpdated",type:"date",dateFormat:"c"},{name:"lastDownloaded",type:"date",dateFormat:"c"},{name:"blobRef",type:"string",sortType:"asUCText"},{name:"componentId",type:"string",sortType:"asUCText"},{name:"attributes",type:"auto"}]});Ext.define("NX.coreui.store.PreviewAsset",{extend:"Ext.data.Store",model:"NX.coreui.model.Asset",proxy:{type:"direct",api:{read:"NX.direct.coreui_Component.previewAssets"},reader:{type:"json",root:"data",successProperty:"success"}},remote:true,autoLoad:false,buffered:true,pageSize:50,remoteFilter:true,remoteSort:true,sorters:{property:"name",direction:"ASC"}});Ext.define("NX.coreui.model.SearchFilter",{extend:"Ext.data.Model",fields:[{name:"id",type:"string"},{name:"name",type:"string"},{name:"text",type:"string"},{name:"description",type:"string"},{name:"criterias",type:"auto"},{name:"readOnly",type:"boolean"}]});Ext.define("NX.coreui.model.SearchResult",{extend:"Ext.data.Model",idProperty:"groupingKey",fields:["groupingKey","group","name","format"]});Ext.define("NX.coreui.view.task.TaskScheduleDaily",{extend:"Ext.form.FieldContainer",alias:"widget.nx-coreui-task-schedule-daily",requires:["NX.util.DateFormat","NX.I18n"],initComponent:function(){var a=this;a.items=[{xtype:"datefield",name:"startDate",itemId:"startDate",fieldLabel:NX.I18n.get("Task_TaskScheduleDaily_StartDate_FieldLabel"),allowBlank:false,format:"m/d/Y",value:new Date(),submitValue:false},{xtype:"timefield",name:"startTime",itemId:"startTime",fieldLabel:NX.I18n.get("Task_TaskScheduleDaily_Recurring_FieldLabel"),helpText:"The time this task should start on days it will run in your time zone "+NX.util.DateFormat.getTimeZone()+".",allowBlank:false,format:"H:i",submitValue:false}];a.callParent()}});Ext.define("NX.coreui.view.system.NodesDisabledMessage",{extend:"Ext.panel.Panel",alias:"widget.nx-coreui-system-nodes-disabled",requires:["NX.I18n"],dockedItems:[{xtype:"nx-actions",items:[{xtype:"button",text:"Enable read-only mode",glyph:"xf1e5@FontAwesome",action:"freeze"}]}],items:[{xtype:"panel",ui:"nx-inset",items:{xtype:"panel",ui:"nx-subsection-framed",items:{xtype:"text",text:NX.I18n.get("Nodes_OSS_Message")}}}]});Ext.define("NX.coreui.view.ldap.LdapServerConnectionAdd",{extend:"NX.view.AddPanel",alias:"widget.nx-coreui-ldapserver-connection-add",requires:["NX.Conditions","NX.I18n"],dockedItems:null,initComponent:function(){var a=this;a.settingsForm={xtype:"nx-coreui-ldapserver-connection-form",editableCondition:NX.Conditions.isPermitted("nexus:ldap:create"),editableMarker:NX.I18n.get("Ldap_LdapServerConnectionAdd_Create_Error"),buttons:[{text:NX.I18n.get("Ldap_LdapServerConnectionAdd_Text"),action:"next",formBind:true,ui:"nx-primary"},{text:NX.I18n.get("Add_Cancel_Button"),action:"back"}]};a.callParent()}});Ext.define("NX.coreui.view.selector.SelectorSettings",{extend:"NX.view.SettingsPanel",alias:"widget.nx-coreui-selector-settings",initComponent:function(){var a=this;a.settingsForm={xtype:"nx-coreui-selector-settings-form",buttons:[{text:NX.I18n.get("Selector_SelectorSettingsForm_Preview_Button"),action:"preview",ui:"nx-primary"},{text:NX.I18n.get("SettingsForm_Save_Button"),action:"save",ui:"nx-primary",bindToEnter:false},{text:NX.I18n.get("SettingsForm_Discard_Button"),action:"discard"}]};a.callParent()}});Ext.define("NX.coreui.view.privilege.PrivilegeAdd",{extend:"NX.view.AddPanel",alias:"widget.nx-coreui-privilege-add",requires:["NX.I18n"],defaultFocus:"name",initComponent:function(){var a=this;Ext.apply(a,{settingsForm:{xtype:"nx-coreui-privilege-settings-form",editableCondition:NX.Conditions.isPermitted("nexus:privileges:create"),editableMarker:NX.I18n.get("Privilege_PrivilegeSettingsForm_Update_Error"),buttons:[{text:NX.I18n.get("Privilege_PrivilegeList_New_Button"),action:"add",formBind:true,ui:"nx-primary"},{text:NX.I18n.get("Add_Cancel_Button"),action:"back"}]}});a.callParent();a.down("#name").setReadOnly(false)}});Ext.define("NX.coreui.view.user.UserList",{extend:"NX.view.drilldown.Master",alias:"widget.nx-coreui-user-list",requires:["NX.I18n"],stateful:true,stateId:"nx-coreui-user-list",initComponent:function(){Ext.apply(this,{store:"User",columns:[{xtype:"nx-iconcolumn",width:36,iconVariant:"x16",iconName:function(){return"user-default"}},{header:NX.I18n.get("User_UserList_ID_Header"),dataIndex:"userId",stateId:"userId",flex:2},{header:NX.I18n.get("User_UserList_Realm_Header"),dataIndex:"realm",stateId:"realm"},{header:NX.I18n.get("User_UserList_FirstName_Header"),dataIndex:"firstName",stateId:"firstName",flex:2},{header:NX.I18n.get("User_UserList_LastName_Header"),dataIndex:"lastName",stateId:"lastName",flex:2},{header:NX.I18n.get("User_UserList_Email_Header"),dataIndex:"email",stateId:"email",flex:2},{header:NX.I18n.get("User_UserList_Status_Header"),dataIndex:"status",stateId:"status"}],viewConfig:{emptyText:NX.I18n.get("User_UserList_EmptyText"),deferEmptyText:false},dockedItems:[{xtype:"nx-actions",items:[{xtype:"button",text:NX.I18n.get("User_UserList_New_Button"),glyph:"xf055@FontAwesome",action:"new",disabled:true},"-",{xtype:"label",text:NX.I18n.get("User_UserList_Source_Label")},{xtype:"button",text:NX.I18n.get("User_UserList_Default_Button"),action:"filter",menu:[]},{xtype:"nx-coreui-user-searchbox"}]}]});this.callParent()}});Ext.define("NX.coreui.view.logging.LogViewer",{extend:"Ext.panel.Panel",alias:"widget.nx-coreui-log-viewer",requires:["NX.I18n"],initComponent:function(){Ext.apply(this,{layout:"fit",items:{xtype:"textarea",cls:"nx-log-viewer-field nx-monospace-field",readOnly:true,hideLabel:true,emptyText:NX.I18n.get("Logging_LogViewer_EmptyText"),inputAttrTpl:'wrap="off"'},dockedItems:[{xtype:"nx-actions",items:[{xtype:"button",text:NX.I18n.get("Logging_LogViewer_Download_Button"),glyph:"xf019@FontAwesome",action:"download"},"-",{xtype:"button",text:NX.I18n.get("Logging_LogViewer_Mark_Button"),glyph:"xf11e@FontAwesome",action:"mark",disabled:true},"->",{xtype:"label",text:NX.I18n.get("Logging_LogViewer_Refresh_Text")},{xtype:"combo",itemId:"refreshPeriod",width:140,editable:false,value:0,store:[[0,NX.I18n.get("Logging_LogViewer_Refresh_ManualItem")],[20,NX.I18n.get("Logging_LogViewer_Refresh_20SecondsItem")],[60,NX.I18n.get("Logging_LogViewer_Refresh_MinuteItem")],[120,NX.I18n.get("Logging_LogViewer_Refresh_2MinutesItem")],[300,NX.I18n.get("Logging_LogViewer_Refresh_5MinutesItem")]],queryMode:"local"},{xtype:"combo",itemId:"refreshSize",width:120,editable:false,value:25,store:[[25,NX.I18n.get("Logging_LogViewer_Last25KBItem")],[50,NX.I18n.get("Logging_LogViewer_Last50KBItem")],[100,NX.I18n.get("Logging_LogViewer_Last100KBItem")]],queryMode:"local"}]}]});this.callParent()}});Ext.define("NX.coreui.view.logging.LogMark",{extend:"NX.view.AddWindow",alias:"widget.nx-coreui-log-mark",requires:["NX.Conditions","NX.I18n"],initComponent:function(){var a=this;a.ui="nx-inset";a.title=NX.I18n.get("Logging_LogMark_Title");a.defaultFocus="message";a.items={xtype:"nx-settingsform",frame:false,defaults:{anchor:"100%"},settingsFormSuccessMessage:NX.I18n.get("Logging_LogMark_Success"),settingsFormSubmitOnEnter:true,editableMarker:NX.I18n.get("Logging_LogMark_Error"),items:[{xtype:"textfield",name:"message",itemId:"message",fieldLabel:NX.I18n.get("Logging_LogMark_FieldLabel"),helpText:NX.I18n.get("Logging_LogMark_HelpText"),allowBlank:false}]};a.items.buttons=[{text:NX.I18n.get("Logging_LogViewer_Mark_Button"),action:"add",formBind:true,ui:"nx-primary",bindToEnter:a.items.settingsFormSubmitOnEnter},{text:NX.I18n.get("Add_Cancel_Button"),handler:function(){a.close()}}];a.callParent()}});Ext.define("NX.coreui.controller.Log",{extend:"NX.controller.Drilldown",requires:["Ext.util.TaskManager","Ext.Ajax","NX.util.Url","NX.util.DownloadHelper","NX.Permissions","NX.Conditions","NX.I18n"],views:["logging.LogViewer","logging.LogMark"],refs:[{ref:"content",selector:"nx-feature-content"},{ref:"list",selector:"nx-coreui-log-viewer"}],init:function(){var a=this;a.callParent();a.getApplication().getFeaturesController().registerFeature({mode:"admin",path:"/Support/Logging/Log Viewer",text:NX.I18n.get("Log_Text"),description:NX.I18n.get("Log_Description"),view:{xtype:"nx-coreui-log-viewer"},iconConfig:{file:"script_text.png",variants:["x16","x32"]},visible:function(){return NX.Permissions.check("nexus:logging:read")}},a);a.listen({controller:{"#Refresh":{refresh:a.retrieveLog}},component:{"nx-coreui-log-viewer":{afterrender:a.retrieveLog,destroy:a.stopRetrieveLogTask},"nx-coreui-log-viewer button[action=download]":{click:a.downloadLog},"nx-coreui-log-viewer button[action=mark]":{afterrender:a.bindMarkButton,click:a.showMarkWindow},"nx-coreui-log-viewer #refreshPeriod":{change:a.changeRefreshPeriod},"nx-coreui-log-viewer #refreshSize":{change:a.changeRefreshSize},"nx-coreui-log-mark button[action=add]":{click:a.mark}}})},showMarkWindow:function(){Ext.widget({xtype:"nx-coreui-log-mark"})},mark:function(b){var d=this,c=b.up("form"),e=c.up("window"),a=c.getValues();e.hide();d.getContent().getEl().mask(NX.I18n.get("Log_LogMark_Mask"));NX.direct.logging_Log.mark(a,function(f){d.getContent().getEl().unmask();if(Ext.isObject(f)){if(f.success){NX.Messages.add({text:c.settingsFormSuccessMessage,type:"success"});d.retrieveLog();e.close()}else{if(Ext.isDefined(f.errors)){e.show();c.getForm().markInvalid(f.errors)}}}})},downloadLog:function(){NX.util.DownloadHelper.downloadUrl(NX.util.Url.urlOf("service/siesta/logging/log"))},changeRefreshPeriod:function(c,b){var a=this;a.stopRetrieveLogTask();a.startRetrieveLogTask(b)},changeRefreshSize:function(){this.retrieveLog()},startRetrieveLogTask:function(b){var a=this;if(b>0){a.retrieveLog();a.retrieveLogTask=Ext.util.TaskManager.newTask({run:function(){a.retrieveLog()},interval:b*1000});a.retrieveLogTask.start()}},stopRetrieveLogTask:function(){var a=this;if(a.retrieveLogTask){a.retrieveLogTask.destroy();delete a.retrieveLogTask}},retrieveLog:function(){var c=this,a=c.getList(),b;if(a){b=a.down("#refreshSize").getValue();c.getContent().getEl().mask(NX.I18n.get("Log_Loading_Mask"));Ext.Ajax.request({url:NX.util.Url.urlOf("service/siesta/logging/log"),method:"GET",headers:{accept:"text/plain"},params:{bytesCount:-1024*b},scope:c,suppressStatus:true,success:function(d){c.getContent().getEl().unmask();c.showLog(d.responseText)},failure:function(d){c.getContent().getEl().unmask();c.showLog(NX.I18n.format("Log_Load_Failure",d.statusText))}})}},showLog:function(b){var a=this.getList().down("textarea");a.setValue(b);a.getEl().down("textarea").dom.scrollTop=1000000},bindMarkButton:function(a){a.mon(NX.Conditions.isPermitted("nexus:logging:mark"),{satisfied:a.enable,unsatisfied:a.disable,scope:a})}});Ext.define("NX.coreui.view.browse.BrowseComponentList",{extend:"NX.view.drilldown.Master",alias:"widget.nx-coreui-browse-component-list",requires:["NX.I18n"],stateful:true,stateId:"nx-coreui-browse-component-list",initComponent:function(){Ext.apply(this,{healthCheckColumnsTarget:true,componentList:true,store:"Component",loadStore:Ext.emptyFn,selModel:{pruneRemoved:false},viewConfig:{emptyText:NX.I18n.get("Browse_BrowseComponentList_EmptyText_View"),emptyTextFilter:NX.I18n.get("Browse_BrowseComponentList_EmptyText_Filter"),deferEmptyText:false},columns:[{xtype:"nx-iconcolumn",dataIndex:"id",width:36,iconVariant:"x16",sortable:false,iconName:function(){return"browse-component"}},{text:NX.I18n.get("Browse_BrowseComponentList_Group_Column"),dataIndex:"group",stateId:"group",flex:4,renderer:NX.ext.grid.column.Renderers.optionalData},{text:NX.I18n.get("Browse_BrowseComponentList_Name_Column"),dataIndex:"name",stateId:"name",flex:3,sortable:false},{text:NX.I18n.get("Browse_BrowseComponentList_Version_Column"),dataIndex:"version",stateId:"version",flex:1,sortable:false,renderer:NX.ext.grid.column.Renderers.optionalData}],plugins:[{ptype:"remotegridfilterbox"}]});this.callParent()}});Ext.define("NX.coreui.model.Component",{extend:"Ext.data.Model",fields:[{name:"id",type:"string",sortType:"asUCText"},{name:"repositoryName",type:"string",sortType:"asUCText"},{name:"group",type:"string",sortType:"asUCText"},{name:"name",type:"string",sortType:"asUCText"},{name:"version",type:"string",sortType:"asUCText"},{name:"format",type:"string",sortType:"asUCText"}]});Ext.define("NX.coreui.store.Component",{extend:"Ext.data.Store",model:"NX.coreui.model.Component",proxy:{type:"direct",api:{read:"NX.direct.coreui_Component.read"},reader:{type:"json",root:"data",successProperty:"success"}},buffered:true,pageSize:300,remoteFilter:true,remoteSort:true,sorters:{property:"group",direction:"ASC"}});Ext.define("NX.coreui.view.browse.BrowseRepositoryList",{extend:"NX.coreui.view.repository.RepositoryListTemplate",alias:"widget.nx-coreui-browse-repository-list",requires:["NX.I18n"],stateful:true,stateId:"nx-coreui-browse-repository-list",initComponent:function(){this.store="RepositoryReference";this.tbar={xtype:"nx-actions"};this.callParent();this.store.remoteFilter=true;this.store.addFilter([{property:"applyPermissions",value:true}],false)}});Ext.define("NX.coreui.store.ComponentAsset",{extend:"Ext.data.Store",model:"NX.coreui.model.Asset",proxy:{type:"direct",api:{read:"NX.direct.coreui_Component.readComponentAssets"},reader:{type:"json",root:"data",successProperty:"success"}},remoteFilter:true,sorters:{property:"name",direction:"ASC"}});Ext.define("NX.coreui.controller.BrowseComponents",{extend:"NX.controller.Drilldown",requires:["NX.Bookmarks","NX.Conditions","NX.Permissions","NX.I18n"],masters:["nx-coreui-browsecomponentfeature nx-coreui-browse-repository-list","nx-coreui-browsecomponentfeature nx-coreui-browse-component-list","nx-coreui-browsecomponentfeature nx-coreui-component-asset-list"],stores:["Component","ComponentAsset"],models:["Asset","Component","RepositoryReference"],views:["browse.BrowseComponentFeature","browse.BrowseComponentList","browse.BrowseRepositoryList"],refs:[{ref:"feature",selector:"nx-coreui-browsecomponentfeature"},{ref:"repositoryList",selector:"nx-coreui-browsecomponentfeature nx-coreui-browse-repository-list"},{ref:"componentList",selector:"nx-coreui-browsecomponentfeature nx-coreui-browse-component-list"},{ref:"assetList",selector:"nx-coreui-browsecomponentfeature nx-coreui-component-asset-list"},{ref:"componentDetails",selector:"nx-coreui-browsecomponentfeature nx-coreui-component-details"},],icons:{"browse-component-default":{file:"database.png",variants:["x16","x32"]},"browse-component":{file:"box_front.png",variants:["x16","x32"]},"browse-component-detail":{file:"box_front_open.png",variants:["x16","x32"]}},init:function(){var a=this;a.features={mode:"browse",path:"/Browse/Components",text:NX.I18n.get("Browse_Components_Title_Feature"),description:NX.I18n.get("Browse_Components_Description_Feature"),view:"NX.coreui.view.browse.BrowseComponentFeature",iconConfig:{file:"box_front.png",variants:["x16","x32"]},authenticationRequired:false};a.callParent();a.listen({controller:{"#Refresh":{refresh:a.loadStores}},store:{"#Repository":{load:a.reselect}},component:{"nx-coreui-browsecomponentfeature nx-coreui-browse-repository-list":{beforerender:a.onBeforeRender}}})},getDescription:function(a){return a.get("name")},onSelection:function(c,b){var a=c.getStore().model;if(a===this.getRepositoryReferenceModel()){this.onRepositorySelection(b)}else{if(a===this.getComponentModel()){this.onComponentSelection(b)}else{if(a===this.getAssetModel()){this.onAssetSelection(b)}}}},onRepositorySelection:function(a){var d=this,e=d.getStore("Component"),c=d.getComponentList(),b=c.findPlugin("remotegridfilterbox");if(!c){return}e.filters.removeAtKey("filter");b.clearSearch();c.getSelectionModel().deselectAll();e.addFilter([{id:"repositoryName",property:"repositoryName",value:a.get("name")}])},onComponentSelection:function(a){var b=this;b.getComponentDetails().setComponentModel(a);b.getAssetList().setComponentModel(a)},onAssetSelection:function(a){this.getController("NX.coreui.controller.Assets").updateAssetContainer(null,null,null,a)},findAndSelectModel:function(e,g){var f=this,b=Ext.ComponentQuery.query("nx-drilldown-master"),c=b[e].getStore(),d=c.model,a=b[0].getSelectionModel().getSelection();if(d===f.getComponentModel()&&a&&a[0]){NX.direct.coreui_Component.readComponent(g,a[0].get("name"),function(h){if(Ext.isObject(h)&&h.success&&h.data){f.selectModel(e,f.getComponentModel().create(h.data))}else{f.self.superclass.findAndSelectModel.call(f,e,g)}})}},loadStores:function(){var a=this;if(a.getFeature()){if(a.currentIndex===0){a.getRepositoryList().getStore().load()}if(a.currentIndex===1){a.getComponentList().getStore().load()}if(a.currentIndex>=2){a.getAssetList().getStore().load(function(){a.reselect()})}}},onNavigate:function(){if(this.getFeature()){this.onBeforeRender()}},onBeforeRender:function(){var f=this,e=NX.Bookmarks.getBookmark(),g=e.getSegments().slice(1),b=f.getRepositoryList().getStore(),c,h=f.getComponentList().getStore(),d,a;b.load(function(){if(g[2]){c=b.getById(decodeURIComponent(g[0]));f.onModelChanged(0,c);f.onRepositorySelection(c);h.load(function(){d=decodeURIComponent(g[1]);NX.direct.coreui_Component.readComponent(d,c.get("name"),function(i){if(Ext.isObject(i)&&i.success&&i.data){a=f.getComponentModel().create(i.data);f.onModelChanged(1,a);f.onComponentSelection(a);f.getAssetList().getStore().load(function(){f.reselect()})}})})}else{if(g[1]){c=b.getById(decodeURIComponent(g[0]));f.onModelChanged(0,c);f.onRepositorySelection(c);h.load(function(){f.reselect()})}else{f.reselect()}}})},loadView:function(c,a,b){this.callParent(arguments);this.loadStores()}});Ext.define("NX.coreui.migration.RepositoryDefaultsScreen",{extend:"NX.wizard.FormScreen",alias:"widget.nx-coreui-migration-repositorydefaults",initComponent:function(){var a=this;Ext.apply(a,{title:NX.I18n.render(a,"Title"),description:NX.I18n.render(a,"Description"),fields:[{xtype:"combo",name:"blobStore",fieldLabel:NX.I18n.render(a,"BlobStore_FieldLabel"),helpText:NX.I18n.render(a,"BlobStore_HelpText"),emptyText:NX.I18n.render(a,"BlobStore_EmptyText"),editable:false,store:"Blobstore",queryMode:"local",displayField:"name",valueField:"name",readOnlyOnUpdate:true,allowBlank:false},{xtype:"combo",name:"ingestMethod",fieldLabel:NX.I18n.render(a,"IngestMethod_FieldLabel"),helpText:NX.I18n.render(a,"IngestMethod_HelpText"),emptyText:NX.I18n.render(a,"IngestMethod_EmptyText"),editable:false,allowBlank:false,store:[["FS_LINK",NX.I18n.render(a,"IngestMethod_Link")],["FS_COPY",NX.I18n.render(a,"IngestMethod_Copy")],["DOWNLOAD",NX.I18n.render(a,"IngestMethod_Download")]]}],buttons:["back","next","cancel"]});a.callParent();a.down("form").settingsForm=true},isDirty:function(){return this.down("form").isDirty()}});Ext.define("NX.coreui.migration.RepositoryDefaultsStep",{extend:"NX.wizard.Step",requires:["NX.coreui.migration.RepositoryDefaultsScreen","NX.I18n"],screen:"NX.coreui.migration.RepositoryDefaultsScreen",init:function(){var a=this;a.control({"button[action=back]":{click:a.moveBack},"button[action=next]":{click:a.doNext},"button[action=cancel]":{click:a.cancel}});a.getContext().on("add",function(b,e,c,d){if(c==="content-options"){a.setEnabled(e.repositories)}})},prepare:function(){var a=this;a.mask(NX.I18n.render(a,"Loading_Mask"));a.getStore("Blobstore").load();NX.direct.migration_Repository.defaults(function(b,c){if(c.status&&b.success){a.getScreenCmp().getForm().setValues(b.data)}a.unmask()})},reset:function(){var b=this,a=b.getScreenCmp();if(a){a.getForm().reset()}b.unset("repository-defaults");b.callParent()},doNext:function(){var b=this,a=b.getScreenCmp().getForm().getFieldValues();b.set("repository-defaults",{blobStore:a.blobStore,ingestMethod:a.ingestMethod});b.moveNext()}});Ext.define("NX.coreui.migration.PhasePrepareScreen",{extend:"NX.coreui.migration.ProgressScreenSupport",alias:"widget.nx-coreui-migration-phaseprepare",requires:["NX.I18n"],initComponent:function(){var a=this;Ext.apply(a,{title:NX.I18n.render(a,"Title"),description:NX.I18n.render(a,"Description"),buttons:[{text:NX.I18n.render(a,"Abort_Button"),action:"abort",ui:"default"},{text:NX.I18n.render(a,"Continue_Button"),action:"continue",ui:"nx-primary",disabled:true}]});a.callParent()}});Ext.define("NX.coreui.migration.PhasePrepareStep",{extend:"NX.coreui.migration.ProgressStepSupport",requires:["NX.coreui.migration.PhasePrepareScreen"],screen:"NX.coreui.migration.PhasePrepareScreen",phase:"PREPARE",init:function(){var a=this;a.control({"button[action=abort]":{click:a.doAbort},"button[action=continue]":{click:a.doContinue}});a.callParent()},reset:function(){var b=this,a=b.getScreenCmp();if(a){a.down("button[action=continue]").disable();a.down("button[action=abort]").enable()}b.callParent()},doComplete:function(){this.getScreenCmp().down("button[action=continue]").enable();this.getScreenCmp().down("button[action=abort]").disable()},doAbort:function(){var a=this;NX.Dialogs.askConfirmation(NX.I18n.render(a,"Abort_Confirm_Title"),NX.I18n.render(a,"Abort_Confirm_Text"),function(){a.mask(NX.I18n.render(a,"Abort_Mask"));a.autoRefresh(false);NX.direct.migration_Assistant.abort(function(b,c){a.unmask();if(c.status&&b.success){a.controller.reset();NX.Messages.warning(NX.I18n.render(a,"Abort_Message"))}})})},doContinue:function(){var a=this;a.mask(NX.I18n.render(a,"Continue_Mask"));NX.direct.migration_Assistant.sync(function(c,d){a.unmask();if(d.status&&c.success){var b=Ext.ComponentQuery.query("form[settingsForm=true]");if(b.length!==0){Ext.Array.each(b,function(e){e.settingsForm=false})}a.moveNext();NX.Messages.success(NX.I18n.render(a,"Continue_Message"))}})}});Ext.define("NX.coreui.migration.ProgressModel",{extend:"Ext.data.Model",idProperty:"id",fields:[{name:"id",type:"string"},{name:"name",type:"string"},{name:"state",type:"string"},{name:"complete",type:"number"},{name:"status",type:"string"},{name:"phase",type:"string"}]});Ext.define("NX.coreui.migration.ProgressStore",{extend:"Ext.data.ArrayStore",requires:["NX.coreui.migration.ProgressModel"],model:"NX.coreui.migration.ProgressModel"});Ext.define("NX.coreui.migration.Panel",{extend:"NX.wizard.Panel",alias:"widget.nx-coreui-migration-panel"});Ext.define("NX.coreui.migration.PlanStepDetailWindow",{extend:"NX.view.ModalDialog",alias:"widget.nx-coreui-migration-progressdetail",requires:["Ext.XTemplate","NX.I18n","NX.util.DateFormat"],config:{detail:undefined},resizable:true,closable:true,layout:"fit",height:480,initComponent:function(){var b=this,a,c=NX.util.DateFormat.forName("datetime")["short"];a=Ext.create("Ext.data.ArrayStore",{fields:[{name:"timestamp",type:"date",dateFormat:"c"},{name:"message",type:"string"}]});a.add(b.detail.entries);Ext.apply(b,{title:NX.I18n.render(b,"Title",b.detail.name),width:NX.view.ModalDialog.LARGE_MODAL,items:{xtype:"grid",viewConfig:{stripeRows:true,enableTextSelection:true,emptyText:NX.I18n.render(b,"EmptyLog")},hideHeaders:true,columns:[{header:NX.I18n.render("Timestamp_Column"),dataIndex:"timestamp",width:150,renderer:function(d){return Ext.util.Format.date(d,c)}},{header:NX.I18n.render("Message_Column"),dataIndex:"message",flex:1}],store:a,plugins:[{ptype:"rowexpander",rowBodyTpl:Ext.create("Ext.XTemplate",'<div class="nx-rowexpander">','<span class="x-selectable">{message}</span>',"</div>",{compiled:true})}]},buttonAlign:"left",buttons:[{text:NX.I18n.get("Button_Close"),handler:b.close,scope:b}]});b.callParent();b.center()}});Ext.define("NX.coreui.migration.SupportedSelectionModel",{extend:"Ext.selection.CheckboxModel",mode:"SIMPLE",ignoreRightMouseSelection:true,constructor:function(){var a=this;a.callParent(arguments);a.on("beforeselect",function(e,b,c,d){return b.get("supported")})},selectAll:function(b){var e=this,d=e.store.getRange(),c=0,a=d.length,f=a,g=e.getSelection().length;d.forEach(function(h){if(!h.get("supported")){--f}});if(g!==f){e.suspendChanges();for(c=0;c<a;c++){if(d[c].get("supported")){e.doSelect(d[c],true,b)}}e.resumeChanges();if(!b){e.maybeFireSelectionChange(e.getSelection().length!==g)}}else{e.deselectAll(b)}}});Ext.define("NX.coreui.migration.RepositoriesScreen",{extend:"NX.wizard.GridScreen",alias:"widget.nx-coreui-migration-repositories",requires:["NX.Icons","NX.ext.grid.column.Action","NX.coreui.migration.SupportedSelectionModel","NX.I18n"],initComponent:function(){var a=this;Ext.apply(a,{title:NX.I18n.render(a,"Title"),description:NX.I18n.render(a,"Description"),grid:{xtype:"grid",viewConfig:{stripeRows:true,getRowClass:function(b){if(!b.get("supported")){return"nx-disabled-row"}}},columns:[{header:NX.I18n.render(a,"Repository_Column"),dataIndex:"name",flex:1},{header:NX.I18n.render(a,"Type_Column"),dataIndex:"type",width:70},{header:NX.I18n.render(a,"Format_Column"),dataIndex:"format"},{header:NX.I18n.render(a,"Supported_Column"),dataIndex:"supported",width:90},{header:NX.I18n.render(a,"Status_Column"),dataIndex:"status",flex:1,renderer:function(c,d){var b=Ext.String.ellipsis(c,40,false);if(b!==c){d.tdAttr=Ext.String.format('data-qtip="{0}"',Ext.String.htmlEncode(c))}return b}},{header:NX.I18n.render(a,"Destination_Column"),dataIndex:"blobStore"},{header:NX.I18n.render(a,"Method_Column"),dataIndex:"ingestMethod",width:80,renderer:function(b){return b.toLowerCase()}},{xtype:"nx-actioncolumn",width:32,menuDisabled:true,items:[{action:"customize",iconCls:NX.Icons.cls("migration-customize","x16"),tooltip:NX.I18n.render(a,"Action_Tooltip"),isDisabled:function(d,c,e,f,b){return !b.get("supported")}}]}],selModel:Ext.create("NX.coreui.migration.SupportedSelectionModel"),store:"NX.coreui.migration.RepositoryStore"},fields:[{xtype:"hidden",isValid:function(){return a.getSelectionModel().getCount()!==0}}],buttons:["back","next","cancel"]});a.callParent();a.down("grid").settingsForm=true;a.getSelectionModel().on("selectionchange",function(b,c,d){a.down("hidden").setValue(c.length)})},getGrid:function(){return this.down("grid")},getSelectionModel:function(){return this.getGrid().getSelectionModel()},isDirty:function(){return this.getGrid().isDirty()}});Ext.define("NX.coreui.migration.RepositoriesStep",{extend:"NX.wizard.Step",requires:["NX.coreui.migration.RepositoriesScreen","NX.coreui.migration.RepositoryCustomizeWindow"],screen:"NX.coreui.migration.RepositoriesScreen",init:function(){var a=this;a.control({"button[action=back]":{click:a.moveBack},"button[action=next]":{click:a.doNext},"button[action=cancel]":{click:a.cancel},"gridpanel nx-actioncolumn":{actionclick:a.doCustomize}});a.listen({component:{"nx-coreui-migration-repositorycustomize button[action=save]":{click:a.doCustomizeSave}}});a.getContext().on("add",function(b,e,c,d){if(c==="content-options"){a.setEnabled(e.repositories)}})},prepare:function(){var a=this;a.mask(NX.I18n.render(a,"Loading_Mask"));a.getStore("Blobstore").load();NX.direct.migration_Repository.read(function(c,d){if(d.status&&c.success){var b=a.getStore("NX.coreui.migration.RepositoryStore"),e=a.get("repository-defaults");Ext.Array.each(c.data,function(f){if(f.supported){Ext.apply(f,e)}});b.loadData(c.data)}a.unmask()})},reset:function(){this.getStore("NX.coreui.migration.RepositoryStore").removeAll();this.unset("selected-repositories");this.callParent()},doNext:function(){var c=this,b=c.getScreenCmp().getSelectionModel(),a=[];Ext.Array.each(b.getSelection(),function(d){a.push({repository:d.get("repository"),blobStore:d.get("blobStore"),ingestMethod:d.get("ingestMethod")})});c.set("selected-repositories",a);c.controller.configure()},doCustomize:function(e,d,b,c,f,a,g){if(f.action==="customize"){Ext.create("NX.coreui.migration.RepositoryCustomizeWindow",{recordId:a.getId(),repository:a.get("repository"),blobStore:a.get("blobStore"),ingestMethod:a.get("ingestMethod")})}},doCustomizeSave:function(d){var e=d.up("window"),c=this.getScreenCmp().getGrid(),b=e.getForm().getFieldValues(),a=c.getStore().getById(b.id);a.set("blobStore",b.blobStore);a.set("ingestMethod",b.ingestMethod);a.commit();e.close()}});Ext.define("NX.coreui.migration.PreviewModel",{extend:"Ext.data.Model",fields:[{name:"id",type:"string"},{name:"name",type:"string"},{name:"state",type:"string"},{name:"phase",type:"string"}]});Ext.define("NX.coreui.migration.PreviewStore",{extend:"Ext.data.ArrayStore",requires:["NX.coreui.migration.PreviewModel"],model:"NX.coreui.migration.PreviewModel",groupField:"phase",remoteSort:true});Ext.define("NX.coreui.migration.OverviewScreen",{extend:"NX.wizard.Screen",alias:"widget.nx-coreui-migration-overview",initComponent:function(){var a=this;Ext.apply(a,{title:NX.I18n.render(a,"Title"),description:NX.I18n.render(a,"Description"),buttons:["next"]});a.callParent()}});Ext.define("NX.coreui.migration.OverviewStep",{extend:"NX.wizard.Step",requires:["NX.coreui.migration.OverviewScreen"],screen:"NX.coreui.migration.OverviewScreen",init:function(){var a=this;a.control({"button[action=next]":{click:a.moveNext}})}});Ext.define("NX.coreui.migration.ContentScreen",{extend:"NX.wizard.FormScreen",alias:"widget.nx-coreui-migration-content",requires:["NX.I18n"],initComponent:function(){var a=this;Ext.apply(a,{title:NX.I18n.render(a,"Title"),description:NX.I18n.render(a,"Description"),fields:[{xtype:"checkboxgroup",columns:1,allowBlank:false,items:[{xtype:"checkbox",name:"repositories",boxLabel:NX.I18n.render(a,"Repositories_FieldLabel"),checked:true},{xtype:"checkbox",name:"configuration",boxLabel:NX.I18n.render(a,"Configuration_FieldLabel"),checked:true}]}],buttons:["back","next","cancel"]});a.callParent();a.down("form").settingsForm=true},isDirty:function(){return this.down("form").isDirty()}});Ext.define("NX.coreui.migration.ContentStep",{extend:"NX.wizard.Step",requires:["NX.State","NX.coreui.migration.ContentScreen"],screen:"NX.coreui.migration.ContentScreen",init:function(){var a=this;a.control({"button[action=back]":{click:a.moveBack},"button[action=next]":{click:a.doNext},"button[action=cancel]":{click:a.cancel}})},reset:function(){var b=this,a=b.getScreenCmp();if(a){a.getForm().reset()}b.unset("content-options");b.callParent()},doNext:function(){var a=this.getScreenCmp().getForm().getFieldValues();this.set("content-options",a);if(a.repositories){this.moveNext()}else{this.controller.configure()}}});Ext.define("NX.coreui.migration.PhaseSyncScreen",{extend:"NX.coreui.migration.ProgressScreenSupport",alias:"widget.nx-coreui-migration-phasesync",requires:["NX.I18n"],initComponent:function(){var a=this;Ext.apply(a,{title:NX.I18n.render(a,"Title"),description:NX.I18n.render(a,"Description"),buttons:[{text:NX.I18n.render(a,"Abort_Button"),action:"abort",ui:"default"},{text:NX.I18n.render(a,"Continue_Button"),action:"continue",ui:"nx-primary",disabled:true}]});a.callParent()}});Ext.define("NX.coreui.migration.PhaseSyncStep",{extend:"NX.coreui.migration.ProgressStepSupport",requires:["NX.coreui.migration.PhaseSyncScreen","NX.I18n"],screen:"NX.coreui.migration.PhaseSyncScreen",phase:"SYNC",init:function(){var a=this;a.control({"button[action=abort]":{click:a.doAbort},"button[action=continue]":{click:a.doContinue}});a.callParent()},checkSyncStatus:true,waitingToFinish:false,prepare:function(){var b=this,a=b.controller.getContext().get("selected-repositories");b.checkSyncStatus=a&&a.length;b.waitingToFinish=false;b.callParent()},reset:function(){var b=this,a=b.getScreenCmp();if(a){a.down("button[action=continue]").setVisible(true);a.down("button[action=continue]").disable();a.down("button[action=abort]").enable()}b.callParent()},refresh:function(){var b=this,a=b.getScreenCmp();b.callParent();if(a&&(b.checkSyncStatus||b.controller.getContext().get("checkSyncStatus"))){NX.direct.migration_Assistant.syncStatus(function(c,d){var e=c.success&&c.data.waitingForChanges&&c.data.scanComplete;if(!b.waitingToFinish&&d.status&&e){a.down("button[action=continue]").enable().setText(NX.I18n.render(b.screen,"Continue_Button"))}})}},doComplete:function(){var a=this;a.mask(NX.I18n.render(a,"Finish_Mask"));NX.direct.migration_Assistant.finish(function(b,c){a.unmask();if(c.status&&b.success){a.moveNext();NX.Messages.success(NX.I18n.render(a,"Finish_Message"))}})},doAbort:function(){var a=this;NX.Dialogs.askConfirmation(NX.I18n.render(a,"Abort_Confirm_Title"),NX.I18n.render(a,"Abort_Confirm_Text"),function(){a.mask(NX.I18n.render(a,"Abort_Mask"));a.autoRefresh(false);NX.direct.migration_Assistant.abort(function(b,c){a.unmask();if(c.status&&b.success){a.controller.reset();NX.Messages.warning(NX.I18n.render(a,"Abort_Message"))}})})},doContinue:function(){var a=this;NX.Dialogs.askConfirmation(NX.I18n.render(a,"Stop_Waiting_Confirm_Title"),NX.I18n.render(a,"Stop_Waiting_Confirm_Text"),function(){a.getScreenCmp().down("button[action=continue]").disable().setText(NX.I18n.render(a.screen,"Continue_Button_Pending"));NX.direct.migration_Assistant.stopWaiting(function(b,c){if(c.status&&b.success&&b.data){a.waitingToFinish=true}})})}});Ext.define("NX.coreui.migration.AgentScreen",{extend:"NX.wizard.FormScreen",alias:"widget.nx-coreui-migration-agent",initComponent:function(){var a=this;Ext.apply(a,{title:NX.I18n.render(a,"Title"),description:NX.I18n.render(a,"Description"),fields:[{xtype:"nx-url",name:"url",fieldLabel:NX.I18n.render(a,"Endpoint_FieldLabel"),helpText:NX.I18n.render(a,"Endpoint_HelpText"),allowBlank:false},{xtype:"textfield",inputType:"password",name:"accessToken",fieldLabel:NX.I18n.render(a,"Token_FieldLabel"),helpText:NX.I18n.render(a,"Token_HelpText"),allowBlank:false}],buttons:["back","next","cancel"]});a.callParent();a.down("form").settingsForm=true},isDirty:function(){return this.down("form").isDirty()}});Ext.define("NX.coreui.migration.AgentStep",{extend:"NX.wizard.Step",requires:["NX.coreui.migration.AgentScreen","NX.I18n"],screen:"NX.coreui.migration.AgentScreen",init:function(){var a=this;a.control({"button[action=back]":{click:a.moveBack},"button[action=next]":{click:a.doNext},"button[action=cancel]":{click:a.cancel}})},reset:function(){var b=this,a=b.getScreenCmp();if(a){a.getForm().reset()}b.callParent()},doNext:function(){var b=this,a=b.getScreenCmp().getForm().getFieldValues();b.mask(NX.I18n.render(b,"Connect_Mask"));NX.direct.migration_Assistant.connect(a.url,a.accessToken,a.useTrustStoreForUrl,function(c,d){b.unmask();if(d.status&&c.success){b.moveNext();NX.Messages.success(NX.I18n.render(b,"Connect_Message"))}})}});Ext.define("NX.coreui.migration.Controller",{extend:"NX.wizard.Controller",requires:["NX.I18n","NX.Permissions","NX.coreui.migration.PlanStepDetailWindow","NX.coreui.migration.RepositoryStore","NX.coreui.migration.PreviewStore","NX.coreui.migration.ProgressStore","NX.coreui.migration.Panel","NX.coreui.migration.OverviewStep","NX.coreui.migration.ContentStep","NX.coreui.migration.AgentStep","NX.coreui.migration.RepositoryDefaultsStep","NX.coreui.migration.RepositoriesStep","NX.coreui.migration.PreviewStep","NX.coreui.migration.PhasePrepareStep","NX.coreui.migration.PhaseSyncStep","NX.coreui.migration.PhaseFinishStep"],stores:["Blobstore","NX.coreui.migration.RepositoryStore","NX.coreui.migration.PreviewStore","NX.coreui.migration.ProgressStore"],init:function(){var a=this;a.callParent();a.getApplication().getIconController().addIcons({"migration-customize":{file:"wrench_orange.png",variants:["x16","x32"]},"migration-step-pending":{file:"lorry.png",variants:["x16","x32"]},"migration-step-running":{file:"resultset_next.png",variants:["x16","x32"]},"migration-step-done":{file:"tick.png",variants:["x16","x32"]},"migration-step-error":{file:"exclamation.png",variants:["x16","x32"]}});a.getApplication().getFeaturesController().registerFeature({mode:"admin",path:"/System/Upgrade",text:NX.I18n.render(a,"Feature_Text"),description:NX.I18n.render(a,"Feature_Description"),view:{xtype:"nx-coreui-migration-panel"},iconConfig:{file:"server_go.png",variants:["x16","x32"]},visible:function(){return NX.Permissions.check("nexus:migration:read")}},a);a.registerSteps(["NX.coreui.migration.OverviewStep","NX.coreui.migration.AgentStep","NX.coreui.migration.ContentStep","NX.coreui.migration.RepositoryDefaultsStep","NX.coreui.migration.RepositoriesStep","NX.coreui.migration.PreviewStep","NX.coreui.migration.PhasePrepareStep","NX.coreui.migration.PhaseSyncStep","NX.coreui.migration.PhaseFinishStep"]);a.listen({component:{"nx-coreui-migration-panel":{added:a.load,beforerender:a.activate,removed:a.reset}}})},activate:function(){var a=this;a.mask(NX.I18n.render(a,"Activate_Mask"));NX.direct.migration_Assistant.status(function(b,c){a.unmask();if(c.status&&b.success){var d=b.data.state;switch(d){case"INITIAL":break;case"CONNECTED":case"CONFIGURED":a.incompleteCancel();break;case"PHASE_PREPARE":a.moveToStepNamed("NX.coreui.migration.PhasePrepareStep");break;case"PHASE_SYNC":a.getContext().add("checkSyncStatus",true);a.moveToStepNamed("NX.coreui.migration.PhaseSyncStep");break;case"PHASE_FINISH":a.moveToStepNamed("NX.coreui.migration.PhaseFinishStep");break;default:a.logError("Unknown state:",d);break}}})},incompleteCancel:function(){var a=this;NX.Dialogs.showInfo(NX.I18n.render(a,"IncompleteCancel_Title"),NX.I18n.render(a,"IncompleteCancel_Text"),{fn:function(){a.mask(NX.I18n.render(a,"IncompleteCancel_Mask"));NX.direct.migration_Assistant.cancel(function(b,c){if(c.status&&b.success){a.reset()}a.unmask()})}})},configure:function(){var c=this,a=c.getContext(),b;c.mask(NX.I18n.render(c,"Configure_Mask"));b={options:a.get("content-options"),repositories:a.get("selected-repositories")};NX.direct.migration_Assistant.configure(b,function(d,e){if(e.status&&d.success){a.add("plan-preview",d.data);c.unmask();c.moveNext();NX.Messages.success(NX.I18n.render(c,"Configure_Message"))}else{c.unmask()}})},displayPlanStepDetail:function(b){var a=this;a.mask(NX.I18n.render(a,"PlanStepDetail_Mask"));NX.direct.migration_Progress.detail(b,function(c,d){if(d.status&&c.success){Ext.create("NX.coreui.migration.PlanStepDetailWindow",{detail:c.data})}a.unmask()})},cancel:function(){var a=this;NX.Dialogs.askConfirmation(NX.I18n.render(a,"Cancel_Confirm_Title"),NX.I18n.render(a,"Cancel_Confirm_Text"),function(){a.mask(NX.I18n.render(a,"Cancel_Mask"));NX.direct.migration_Assistant.cancel(function(b,c){a.unmask();if(c.status&&b.success){a.self.superclass.cancel.call(a);NX.Messages.success(NX.I18n.render(a,"Cancel_Message"))}})})}});Ext.define("NX.coreui.view.logging.LoggerAdd",{extend:"NX.view.AddPanel",alias:"widget.nx-coreui-logger-add",requires:["NX.I18n"],initComponent:function(){Ext.apply(this,{defaultFocus:"name",settingsForm:{xtype:"nx-settingsform",items:[{xtype:"textfield",name:"name",itemId:"name",fieldLabel:NX.I18n.get("Logging_LoggerAdd_Name_FieldLabel")},{xtype:"combo",name:"level",fieldLabel:NX.I18n.get("Logging_LoggerAdd_Level_FieldLabel"),editable:false,value:"INFO",store:[["TRACE",NX.I18n.get("Logging_LoggerList_Level_TraceItem")],["DEBUG",NX.I18n.get("Logging_LoggerList_Level_DebugItem")],["INFO",NX.I18n.get("Logging_LoggerList_Level_InfoItem")],["WARN",NX.I18n.get("Logging_LoggerList_Level_WarnItem")],["ERROR",NX.I18n.get("Logging_LoggerList_Level_ErrorItem")],["OFF",NX.I18n.get("Logging_LoggerList_Level_OffItem")],["DEFAULT",NX.I18n.get("Logging_LoggerList_Level_DefaultItem")]],queryMode:"local"}],buttons:[{text:NX.I18n.get("Logging_LoggerList_New_Button"),action:"add",formBind:true,ui:"nx-primary"},{text:NX.I18n.get("Add_Cancel_Button"),action:"back"}]}});this.callParent()}});Ext.define("NX.coreui.view.support.FileCreated",{extend:"NX.view.ModalDialog",alias:"widget.nx-coreui-support-filecreated",requires:["NX.I18n"],ui:"nx-inset",fileIcon:undefined,fileType:undefined,initComponent:function(){var a=this;a.setWidth(NX.view.ModalDialog.LARGE_MODAL);Ext.apply(a,{title:a.title||a.fileType+" Created",items:[{xtype:"form",defaults:{anchor:"100%"},items:[{xtype:"panel",layout:"hbox",style:{marginBottom:"10px"},items:[{xtype:"component",html:a.fileIcon},{xtype:"component",html:a.fileType+" has been created.<br/>You can reference this file on the filesystem or download the file from your browser.",margin:"0 0 0 5"}]},{xtype:"textfield",name:"name",fieldLabel:NX.I18n.get("Support_FileCreated_Name_FieldLabel"),helpText:a.fileType+" file name",readOnly:true},{xtype:"textfield",name:"size",fieldLabel:NX.I18n.get("Support_FileCreated_Size_FieldLabel"),helpText:"Size of "+a.fileType+" file in bytes",readOnly:true},{xtype:"textfield",name:"file",fieldLabel:NX.I18n.get("Support_FileCreated_Path_FieldLabel"),helpText:a.fileType+" file location",readOnly:true,selectOnFocus:true},{xtype:"hidden",name:"truncated"}],buttonAlign:"left",buttons:[{text:NX.I18n.get("Support_FileCreated_Download_Button"),action:"download",formBind:true,bindToEnter:true,ui:"nx-primary",glyph:"xf023@FontAwesome"},{text:NX.I18n.get("Support_FileCreated_Cancel_Button"),handler:a.close,scope:a}]}]});a.callParent()},setValues:function(a){this.down("form").getForm().setValues(a)},getValues:function(){return this.down("form").getForm().getValues()}});Ext.define("NX.coreui.view.ldap.LdapServerUserAndGroupForm",{extend:"NX.view.SettingsForm",alias:"widget.nx-coreui-ldapserver-userandgroup-form",requires:["NX.Conditions","NX.I18n"],initComponent:function(){var a=this;a.items={xtype:"nx-coreui-ldapserver-userandgroup-fieldset"};a.editableMarker=NX.I18n.get("Ldap_LdapServerConnectionForm_Update_Error");a.editableCondition=a.editableCondition||NX.Conditions.isPermitted("nexus:ldap:update");a.callParent();a.getDockedItems('toolbar[dock="bottom"]')[0].add({xtype:"button",text:NX.I18n.get("Ldap_LdapServerUserAndGroupForm_VerifyGroupMapping_Button"),formBind:true,action:"verifyusermapping"},{xtype:"button",text:NX.I18n.get("Ldap_LdapServerUserAndGroupForm_VerifyLogin_Button"),formBind:true,action:"verifylogin"})},markInvalid:function(a){this.down("nx-coreui-ldapserver-userandgroup-fieldset").markInvalid(a)}});Ext.define("NX.coreui.store.UserSource",{extend:"Ext.data.Store",model:"NX.coreui.model.Reference",proxy:{type:"direct",paramsAsHash:false,api:{read:"NX.direct.coreui_User.readSources"},reader:{type:"json",root:"data",idProperty:"id",successProperty:"success"}}});Ext.define("NX.coreui.view.task.TaskScheduleAdvanced",{extend:"Ext.form.FieldContainer",alias:"widget.nx-coreui-task-schedule-advanced",requires:["NX.I18n"],initComponent:function(){var a=this;a.items=[{xtype:"textfield",name:"cronExpression",fieldLabel:NX.I18n.get("Task_TaskScheduleAdvanced_Cron_FieldLabel"),helpText:NX.I18n.get("Task_TaskScheduleAdvanced_Cron_HelpText"),afterBodyEl:NX.I18n.get("Task_TaskScheduleAdvanced_Cron_AfterBodyEl"),emptyText:NX.I18n.get("Task_TaskScheduleAdvanced_Cron_EmptyText"),allowBlank:false}];a.callParent()}});Ext.define("NX.coreui.view.analytics.EventsZipCreated",{extend:"NX.coreui.view.support.FileCreated",alias:"widget.nx-coreui-analytics-eventszipcreated",requires:["NX.Icons"],initComponent:function(){var a=this;a.fileType=NX.I18n.get("Analytics_EventsZipCreated_FileType");a.fileIcon=NX.Icons.img("analyticsevent-zip","x32");a.callParent()}});Ext.define("NX.coreui.view.user.UserAccount",{extend:"NX.view.SettingsPanel",alias:"widget.nx-coreui-user-account",requires:["NX.I18n"],initComponent:function(){var a=this;a.settingsForm=[{xtype:"nx-settingsform",settingsFormSuccessMessage:NX.I18n.get("User_UserAccount_Update_Success"),api:{load:"NX.direct.coreui_User.readAccount",submit:"NX.direct.coreui_User.updateAccount"},editableMarker:NX.I18n.get("User_UserAccount_Update_Error"),items:[{name:"userId",itemId:"userId",readOnly:true,fieldLabel:NX.I18n.get("User_UserAccount_ID_FieldLabel"),helpText:NX.I18n.get("User_UserAccount_ID_HelpText")},{name:"firstName",fieldLabel:NX.I18n.get("User_UserAccount_First_FieldLabel")},{name:"lastName",fieldLabel:NX.I18n.get("User_UserAccount_Last_FieldLabel")},{xtype:"nx-email",name:"email",fieldLabel:NX.I18n.get("User_UserAccount_Email_FieldLabel")},{xtype:"hidden",name:"external",listeners:{change:function(d,c){var b=d.up("nx-settingsform"),e=c&&c.trim().toLowerCase()==="true";b.getForm().external=e;b.setEditable(!e)}}}]}];a.callParent();a.down("nx-settingsform").getDockedItems('toolbar[dock="bottom"]')[0].add({xtype:"button",text:NX.I18n.get("User_UserAccount_Password_Button"),action:"changepassword",glyph:"xf023@FontAwesome",disabled:true});Ext.override(a.down("nx-settingsform").getForm(),{isValid:function(){if(this.external){this.clearInvalid();return true}else{return this.callParent()}}})}});Ext.define("NX.coreui.view.repository.facet.DockerProxyFacet",{extend:"Ext.form.FieldContainer",alias:"widget.nx-coreui-repository-docker-proxy-facet",requires:["NX.I18n"],initComponent:function(){var a=this;a.items=[{xtype:"fieldcontainer",fieldLabel:NX.I18n.get("Repository_Facet_DockerProxyFacet_IndexType_FieldLabel"),defaultType:"radiofield",layout:"vbox",items:[{boxLabel:NX.I18n.get("Repository_Facet_DockerProxyFacet_IndexTypeRegistry_BoxLabel"),name:"attributes.dockerProxy.indexType",itemId:"indexTypeRegistry",inputValue:"REGISTRY",checked:true,listeners:{change:function(d){var c=d.up("form").down("#remoteUrl"),b=d.up("form").down("#indexUrl");if(d.getValue()){b.setValue(c.getValue());b.setDisabled(true);b.setVisible(false)}}}},{boxLabel:NX.I18n.get("Repository_Facet_DockerProxyFacet_IndexTypeHub_BoxLabel"),name:"attributes.dockerProxy.indexType",itemId:"indexTypeHub",inputValue:"HUB",listeners:{change:function(c){var b=c.up("form").down("#indexUrl");if(c.getValue()){b.setValue("https://index.docker.io/");b.setDisabled(true);b.setVisible(true)}}}},{boxLabel:NX.I18n.get("Repository_Facet_DockerProxyFacet_IndexTypeCustom_BoxLabel"),name:"attributes.dockerProxy.indexType",itemId:"indexTypeCustom",inputValue:"CUSTOM",listeners:{change:function(c){var b=c.up("form").down("#indexUrl");if(c.getValue()){b.setDisabled(false);b.setVisible(true)}}}}]},{xtype:"nx-url",itemId:"indexUrl",name:"attributes.dockerProxy.indexUrl",helpText:NX.I18n.get("Repository_Facet_DockerProxyFacet_IndexUrl_HelpText"),disabled:true,hidden:true,allowBlank:false,useTrustStore:function(c){var b=c.up("form").down("#remoteUrl");if(Ext.String.startsWith(c.getValue(),"https://")&&c.getValue()!==b.getValue()){return{name:"attributes.dockerProxy.useTrustStoreForIndexAccess",url:c}}return undefined}}];a.callParent()}});Ext.define("NX.coreui.model.ClusteredTaskState",{extend:"Ext.data.Model",fields:[{name:"nodeId",type:"string",sortType:"asUCText"},{name:"status",type:"string",sortType:"asUCText"},{name:"statusDescription",type:"string",sortType:"asUCText"},{name:"lastRunResult",type:"string",sortType:"asUCText"}]});Ext.define("NX.coreui.model.Task",{extend:"Ext.data.Model",requires:["NX.coreui.model.ClusteredTaskState"],fields:[{name:"id",type:"string",sortType:"asUCText"},{name:"enabled",type:"boolean"},{name:"name",type:"string",sortType:"asUCText"},{name:"typeId",type:"string",sortType:"asUCText"},{name:"typeName",type:"string",sortType:"asUCText"},{name:"status",type:"string",sortType:"asUCText"},{name:"statusDescription",type:"string",sortType:"asUCText"},{name:"schedule",type:"string",sortType:"asUCText"},{name:"nextRun",type:"date",dateFormat:"c"},{name:"lastRun",type:"date",dateFormat:"c"},{name:"lastRunResult",type:"string"},{name:"runnable",type:"boolean"},{name:"stoppable",type:"boolean"},{name:"alertEmail",type:"string"},{name:"properties",type:"auto",defaultValue:null},{name:"startDate",type:"date",dateFormat:"c"},{name:"recurringDays",type:"auto"},{name:"cronExpression",type:"string"}],hasMany:{model:"NX.coreui.model.ClusteredTaskState",associationKey:"clusteredTaskStates",name:"clusteredTaskStates"}});Ext.define("NX.coreui.store.Task",{extend:"Ext.data.Store",model:"NX.coreui.model.Task",proxy:{type:"direct",paramsAsHash:false,api:{read:"NX.direct.coreui_Task.read"},reader:{type:"json",root:"data",idProperty:"id",successProperty:"success"}},sorters:{property:"name",direction:"ASC"}});Ext.define("NX.coreui.view.selector.SelectorSettingsForm",{extend:"NX.view.SettingsForm",alias:"widget.nx-coreui-selector-settings-form",requires:["NX.Conditions","NX.I18n"],api:{submit:"NX.direct.coreui_Selector.update"},initComponent:function(){var a=this;a.settingsFormSuccessMessage=a.settingsFormSuccessMessage||function(b){return NX.I18n.format("Selector_SelectorSettingsForm_Update_Success",b.name)};a.editableMarker=a.editableMarker||NX.I18n.get("Selector_SelectorSettingsForm_Update_Error");a.editableCondition=a.editableCondition||NX.Conditions.isPermitted("nexus:selectors:update");a.items=[{xtype:"hiddenfield",name:"id"},{xtype:"hiddenfield",name:"type",value:"jexl"},{xtype:"fieldcontainer",items:{xtype:"fieldset",cls:"nx-form-section",title:NX.I18n.get("Selector_SelectorSettingsForm_SelectorID_Title"),defaults:{xtype:"textfield",allowBlank:false},items:[{name:"name",itemId:"name",fieldLabel:NX.I18n.get("Selector_SelectorSettingsForm_Name_FieldLabel"),readOnly:true},{name:"description",allowBlank:true,fieldLabel:NX.I18n.get("Selector_SelectorSettingsForm_Description_FieldLabel")}]}},{xtype:"fieldcontainer",items:{xtype:"fieldset",cls:"nx-form-section",title:NX.I18n.get("Selector_SelectorSettingsForm_Specification_Title"),defaults:{xtype:"textfield",allowBlank:false},items:{xtype:"textareafield",name:"expression",itemId:"expression",fieldLabel:NX.I18n.get("Selector_SelectorSettingsForm_Expression_FieldLabel"),helpText:NX.I18n.get("Selector_SelectorSettingsForm_Expression_HelpText"),afterBodyEl:NX.I18n.get("Selector_SelectorSettingsForm_Expression_AfterBodyEl")}}}];a.callParent()}});Ext.define("NX.coreui.view.licensing.LicenseAgreement",{extend:"Ext.window.Window",alias:"widget.nx-coreui-licensing-agreement",requires:["NX.util.Url","NX.I18n"],initComponent:function(){var a=this;a.title=NX.I18n.get("Licensing_LicenseAgreement_Title");a.layout="fit";a.autoShow=true;a.modal=true;a.constrain=true;a.width=640;a.height=500;a.items={xtype:"box",autoEl:{tag:"iframe",src:NX.util.Url.urlOf("/LICENSE.html")}};a.dockedItems=[{xtype:"toolbar",dock:"bottom",ui:"footer",items:[{xtype:"button",text:NX.I18n.get("Licensing_LicenseAgreement_Yes_Button"),action:"agree",formBind:true,ui:"nx-primary"},{xtype:"button",text:NX.I18n.get("Licensing_LicenseAgreement_No_Button"),handler:function(){this.up("window").close()}},"->",{xtype:"component",html:'<a href="'+NX.util.Url.urlOf("/LICENSE.html")+'" target="_new">'+NX.I18n.get("Licensing_LicenseAgreement_Download_Button")+"</a>"}]}];a.callParent()}});Ext.define("NX.coreui.view.licensing.LicensingDetails",{extend:"NX.view.SettingsPanel",alias:"widget.nx-coreui-licensing-details",requires:["NX.I18n"],initComponent:function(){var a="D, M d, Y";Ext.apply(this,{settingsForm:[{xtype:"nx-settingsform",api:{load:"NX.direct.licensing_Licensing.read"},listeners:{actioncomplete:function(d,e,b){var c=d.getFieldValues();if(!c.contactCompany){this.hide()}}},itemId:"details",defaults:{xtype:"textfield",readOnly:true},items:[{name:"contactCompany",fieldLabel:NX.I18n.get("Licensing_LicensingDetails_Company_FieldLabel"),xtype:"displayfield"},{name:"contactName",fieldLabel:NX.I18n.get("Licensing_LicensingDetails_Name_FieldLabel"),xtype:"displayfield"},{name:"contactEmail",fieldLabel:NX.I18n.get("Licensing_LicensingDetails_Email_FieldLabel"),xtype:"displayfield"},{name:"effectiveDate",fieldLabel:NX.I18n.get("Licensing_LicensingDetails_EffectiveDate_FieldLabel"),xtype:"nx-datedisplayfield",format:a},{name:"expirationDate",fieldLabel:NX.I18n.get("Licensing_LicensingDetails_ExpirationDate_FieldLabel"),xtype:"nx-datedisplayfield",format:a},{name:"licenseType",fieldLabel:NX.I18n.get("Licensing_LicensingDetails_Type_FieldLabel"),xtype:"displayfield"},{name:"licensedUsers",fieldLabel:NX.I18n.get("Licensing_LicensingDetails_LicensedUsers_FieldLabel"),xtype:"displayfield"},{name:"connections",fieldLabel:NX.I18n.get("Licensing_LicensingDetails_Connections_FieldLabel"),xtype:"displayfield"},{name:"fingerprint",fieldLabel:NX.I18n.get("Licensing_LicensingDetails_Fingerprint_FieldLabel"),xtype:"displayfield"}],buttons:undefined},{xtype:"form",title:NX.I18n.get("Licensing_LicensingDetails_InstallLicense_Title"),ui:"nx-subsection",frame:true,api:{submit:"NX.direct.licensing_Licensing.install"},items:[{xtype:"label",html:NX.I18n.get("Licensing_LicensingDetails_InstallLicense_Html")},{xtype:"fileuploadfield",name:"license",allowBlank:false,buttonText:NX.I18n.get("Licensing_LicensingDetails_LicenseSelect_Button"),buttonConfig:{glyph:"xf016@FontAwesome"}}],buttonAlign:"left",buttons:[{text:NX.I18n.get("Licensing_LicensingDetails_LicenseInstall_Button"),action:"install",formBind:true,ui:"nx-primary",glyph:"xf023@FontAwesome"}]}]});this.callParent()}});Ext.define("NX.coreui.controller.Licensing",{extend:"NX.app.Controller",requires:["NX.Conditions","NX.Permissions","NX.Messages","NX.Security","NX.I18n"],views:["licensing.LicenseAgreement","licensing.LicensingDetails"],refs:[{ref:"panel",selector:"nx-coreui-licensing-details"}],init:function(){var a=this;a.getApplication().getFeaturesController().registerFeature({mode:"admin",path:"/System/Licensing",text:NX.I18n.get("Licensing_Text"),description:NX.I18n.get("Licensing_Description"),view:{xtype:"nx-coreui-licensing-details"},iconConfig:{file:"license_key.png",variants:["x16","x32"]},visible:function(){return NX.Permissions.check("nexus:licensing:read")}},a);a.listen({component:{"nx-coreui-licensing-details button[action=install]":{click:a.install,afterrender:a.bindInstallButton},"nx-coreui-licensing-agreement button[action=agree]":{click:a.onAgree}}})},showAgreementWindow:function(){return Ext.widget("nx-coreui-licensing-agreement")},onAgree:function(b){var d=this,e=b.up("window"),c=e.licenseForm,a=e.authToken;e.close();c.submit({params:{authToken:a},success:function(){NX.Messages.add({text:NX.I18n.get("Licensing_Install_Success"),type:"success"});d.getPanel().down("nx-settingsform").load();d.getPanel().down("nx-settingsform").show()}})},bindInstallButton:function(a){a.mon(NX.Conditions.and(NX.Conditions.isPermitted("nexus:licensing:create")),{satisfied:a.enable,unsatisfied:a.disable,scope:a})},install:function(a){var c=this,b=a.up("form");NX.Security.doWithAuthenticationToken(NX.I18n.format("Licensing_Authentication_Validation","Installing"),{success:function(d){Ext.apply(c.showAgreementWindow(),{licenseForm:b,authToken:d});c.getPanel().down("form").show()}})}});Ext.define("NX.coreui.view.capability.CapabilitySummary",{extend:"Ext.Panel",alias:"widget.nx-coreui-capability-summary",requires:["NX.Conditions","NX.I18n"],initComponent:function(){var a=this;a.title=NX.I18n.get("Capability_CapabilitySummary_Title");a.autoScroll=true;a.layout={type:"vbox",align:"stretch"};a.items={xtype:"panel",ui:"nx-inset",items:[{xtype:"panel",ui:"nx-subsection",itemId:"nx-coreui-capability-summary-subsection",frame:true,layout:"column",weight:10,items:[{xtype:"nx-info",columnWidth:1}]},{xtype:"nx-coreui-capability-status",ui:"nx-subsection",frame:true,title:NX.I18n.get("Capability_CapabilitySummary_Status_Title"),weight:20},{xtype:"nx-coreui-capability-about",ui:"nx-subsection",frame:true,title:NX.I18n.get("Capability_CapabilitySummary_About_Title"),weight:30},{xtype:"nx-settingsform",itemId:"nx-coreui-capability-notes-subsection",title:NX.I18n.get("Capability_CapabilitySummary_Notes_Title"),weight:40,api:{submit:"NX.direct.capability_Capability.updateNotes"},settingsFormSuccessMessage:function(c){var b=NX.I18n.format("Capabilities_Update_Success",c.typeName);if(c.description){b+=" - "+c.description}return b},editableCondition:NX.Conditions.isPermitted("nexus:capabilities:update"),editableMarker:NX.I18n.get("Capabilities_Update_Error"),items:[{xtype:"hiddenfield",name:"id"},{xtype:"textarea",helpText:NX.I18n.get("Capability_CapabilitySummary_Notes_HelpText"),name:"notes",allowBlank:true,anchor:"100%"}]}]};a.callParent()},showInfo:function(a){this.down("nx-info").showInfo(a)}});Ext.define("NX.coreui.view.healthcheck.HealthCheckSummary",{extend:"Ext.window.Window",alias:"widget.nx-coreui-healthcheck-summary",requires:["Ext.util.DelayedTask"],statusModel:undefined,layout:"fit",header:false,closable:false,autoShow:true,modal:false,constrain:true,resizable:false,mouseIsOver:true,initComponent:function(){var a=this;a.items={xtype:"box",border:false,autoEl:{tag:"iframe",src:a.statusModel.get("summaryUrl")}};a.callParent()},listeners:{afterrender:function(){var a=this;a.el.hover(function(){a.mouseIsOver=true},function(){a.mouseIsOver=false;if(a.closeOnMouseOut){a.closeOnMouseOut=false;a.close()}},a);a.task=Ext.create("Ext.util.DelayedTask",a.doAutoClose,a);a.task.delay(1000)}},doAutoClose:function(){var a=this;if(!a.mouseIsOver){a.close()}else{a.closeOnMouseOut=true}}});Ext.define("NX.coreui.model.LdapSchemaTemplate",{extend:"Ext.data.Model",fields:[{name:"name",type:"string",sortType:"asUCText"},{name:"userBaseDn",type:"string"},{name:"userSubtree",type:"boolean"},{name:"userObjectClass",type:"string"},{name:"userLdapFilter",type:"string"},{name:"userIdAttribute",type:"string"},{name:"userRealNameAttribute",type:"string"},{name:"userEmailAddressAttribute",type:"string"},{name:"userPasswordAttribute",type:"string"},{name:"ldapGroupsAsRoles",type:"boolean"},{name:"userMemberOfAttribute",type:"string"},{name:"groupType",type:"string"},{name:"groupBaseDn",type:"string"},{name:"groupSubtree",type:"boolean"},{name:"groupIdAttribute",type:"string"},{name:"groupMemberAttribute",type:"string"},{name:"groupMemberFormat",type:"string"},{name:"groupObjectClass",type:"string"}]});Ext.define("NX.coreui.view.task.TaskScheduleManual",{extend:"Ext.form.FieldContainer",alias:"widget.nx-coreui-task-schedule-manual",requires:["NX.I18n"],initComponent:function(){Ext.apply(this,{items:{xtype:"label",text:NX.I18n.get("Task_TaskScheduleManual_HelpText")}});this.callParent()}});Ext.define("NX.coreui.view.repository.recipe.RawHosted",{extend:"NX.coreui.view.repository.RepositorySettingsForm",alias:"widget.nx-coreui-repository-raw-hosted",requires:["NX.coreui.view.repository.facet.StorageFacet","NX.coreui.view.repository.facet.StorageFacetHosted"],initComponent:function(){var a=this;a.items=[{xtype:"nx-coreui-repository-storage-facet"},{xtype:"nx-coreui-repository-storage-hosted-facet",writePolicy:"ALLOW"}];a.callParent()}});Ext.define("NX.coreui.view.ldap.LdapServerUserAndGroupLoginCredentials",{extend:"Ext.window.Window",alias:"widget.nx-coreui-ldapserver-userandgroup-login-credentials",requires:["NX.Icons","NX.I18n"],initComponent:function(){var a=this;if(!a.message){a.message=NX.I18n.get("Ldap_LdapServerUserAndGroupLoginCredentials_Text")}Ext.apply(a,{ui:"nx-inset",title:NX.I18n.get("Ldap_LdapServerUserAndGroupLoginCredentials_Title"),layout:"fit",autoShow:true,modal:true,constrain:true,width:360,defaultFocus:"username",items:{xtype:"form",defaultType:"textfield",defaults:{labelAlign:"left",labelWidth:140,anchor:"100%"},items:[{xtype:"panel",layout:"hbox",style:{marginBottom:"10px"},items:[{xtype:"component",html:NX.Icons.img("authenticate","x32")},{xtype:"component",html:NX.I18n.get("Ldap_LdapServerUserAndGroupLoginCredentials_Input_Text")}]},{name:"username",itemId:"username",fieldLabel:NX.I18n.get("Ldap_LdapServerUserAndGroupLoginCredentials_Username_FieldLabel"),allowBlank:false},{name:"password",itemId:"password",fieldLabel:NX.I18n.get("Ldap_LdapServerUserAndGroupLoginCredentials_Password_FieldLabel"),inputType:"password",allowBlank:false,validateOnBlur:false}],buttonAlign:"left",buttons:[{text:NX.I18n.get("Ldap_LdapServerUserAndGroupLoginCredentials_Submit_Button"),action:"verifylogin",formBind:true,bindToEnter:true,ui:"nx-primary"},{text:NX.I18n.get("Ldap_LdapServerUserAndGroupLoginCredentials_Cancel_Button"),handler:a.close,scope:a}]}});a.callParent()}});Ext.define("NX.coreui.view.ldap.LdapServerChangeOrder",{extend:"NX.view.ChangeOrderWindow",alias:"widget.nx-coreui-ldapserver-changeorder",requires:["NX.coreui.store.LdapServer","NX.I18n"],initComponent:function(){var a=this;a.title=NX.I18n.get("Ldap_LdapServerChangeOrder_Title");a.store=Ext.create("NX.coreui.store.LdapServer",{sortOnLoad:true,sorters:{property:"order",direction:"ASC"}});a.store.load();a.callParent()}});Ext.define("NX.coreui.view.ldap.LdapServerUserAndGroupAdd",{extend:"NX.view.AddPanel",alias:"widget.nx-coreui-ldapserver-userandgroup-add",requires:["NX.Conditions","NX.I18n"],dockedItems:null,initComponent:function(){var a=this;a.settingsForm={xtype:"nx-coreui-ldapserver-userandgroup-form",editableCondition:NX.Conditions.isPermitted("nexus:ldap:create"),editableMarker:NX.I18n.get("Ldap_LdapServerConnectionAdd_Create_Error"),buttons:[{text:NX.I18n.get("Add_Submit_Button"),action:"add",formBind:true,ui:"nx-primary"},{text:NX.I18n.get("Add_Cancel_Button"),action:"back"}]};a.callParent()}});Ext.define("NX.coreui.view.ldap.LdapServerFeature",{extend:"NX.view.drilldown.Drilldown",alias:"widget.nx-coreui-ldapserver-feature",requires:["NX.I18n"],initComponent:function(){Ext.apply(this,{iconName:"ldapserver-default",masters:[{xtype:"nx-coreui-ldapserver-list"}],tabs:[{xtype:"nx-coreui-ldapserver-connection",title:NX.I18n.get("Ldap_LdapServerFeature_Connection_Title"),weight:10},{xtype:"nx-coreui-ldapserver-userandgroup",title:NX.I18n.get("Ldap_LdapServerFeature_UserAndGroup_Title"),weight:20}],actions:[{xtype:"button",text:NX.I18n.get("Ldap_LdapServerFeature_Delete_Button"),glyph:"xf056@FontAwesome",action:"delete",disabled:true}]});this.callParent()}});Ext.define("NX.coreui.view.ldap.LdapServerConnectionFieldSet",{extend:"Ext.panel.Panel",alias:"widget.nx-coreui-ldapserver-connection-fieldset",requires:["NX.I18n","NX.ext.form.field.Hostname"],initComponent:function(){var a=this;a.defaults={xtype:"textfield",allowBlank:false,bindGroup:"connection"};a.items=[{xtype:"hiddenfield",name:"id"},{name:"name",itemId:"name",fieldLabel:NX.I18n.get("LdapServersConnectionFieldSet_Name_FieldLabel")},{xtype:"label",text:NX.I18n.get("LdapServersConnectionFieldSet_Address_Text"),style:{fontWeight:"bold",display:"block",marginTop:"10px",marginBottom:"5px"}},{xtype:"label",text:NX.I18n.get("LdapServersConnectionFieldSet_Address_HelpText"),style:{fontSize:"10px",display:"block",marginBottom:"1px"}},{xtype:"combo",name:"protocol",itemId:"protocol",cls:"nx-float-left",blankText:"Required",width:85,emptyText:NX.I18n.get("LdapServersConnectionFieldSet_Protocol_EmptyText"),editable:false,store:[["ldap",NX.I18n.get("LdapServersConnectionFieldSet_Protocol_PlainItem")],["ldaps",NX.I18n.get("LdapServersConnectionFieldSet_Protocol_SecureItem")]],queryMode:"local",listeners:{change:function(){var b=this.up("form").down("#port");b.fireEvent("change",b,b.getValue(),b.getValue())}}},{xtype:"label",cls:"nx-float-left nx-interstitial-label",text:"://"},{xtype:"nx-hostname",name:"host",itemId:"host",cls:"nx-float-left",blankText:"Required",width:405,emptyText:NX.I18n.get("LdapServersConnectionFieldSet_Host_EmptyText"),listeners:{change:function(){var b=this.up("form").down("#port");b.fireEvent("change",b,b.getValue(),b.getValue())}}},{xtype:"label",cls:"nx-float-left nx-interstitial-label",text:":"},{xtype:"numberfield",name:"port",itemId:"port",cls:"nx-float-left",blankText:"Required",width:75,emptyText:NX.I18n.get("LdapServersConnectionFieldSet_Port_EmptyText"),minValue:1,maxValue:65535,allowDecimals:false,allowExponential:false,useTrustStore:function(c){var b=c.up("form");if(b.down("#protocol").getValue()==="ldaps"&&b.down("#host").getValue()&&c.getValue()){return{name:"useTrustStore",host:b.down("#host"),port:b.down("#port")}}return undefined}},{name:"searchBase",fieldLabel:NX.I18n.get("LdapServersConnectionFieldSet_Base_FieldLabel"),helpText:NX.I18n.get("LdapServersConnectionFieldSet_Base_HelpText"),cls:"nx-clear-both"},{xtype:"combo",name:"authScheme",fieldLabel:NX.I18n.get("LdapServersConnectionFieldSet_AuthMethod_FieldLabel"),emptyText:NX.I18n.get("LdapServersConnectionFieldSet_AuthMethod_EmptyText"),editable:false,store:[["simple",NX.I18n.get("LdapServersConnectionFieldSet_AuthMethod_SimpleItem")],["none",NX.I18n.get("LdapServersConnectionFieldSet_AuthMethod_AnonymousItem")],["DIGEST-MD5",NX.I18n.get("LdapServersConnectionFieldSet_AuthMethod_DigestItem")],["CRAM-MD5",NX.I18n.get("LdapServersConnectionFieldSet_AuthMethod_CramItem")]],queryMode:"local",listeners:{change:function(c,b){this.up("panel").showOrHide("authScheme",b)}}},{name:"authRealm",itemId:"authRealm",fieldLabel:NX.I18n.get("LdapServersConnectionFieldSet_SaslRealm_FieldLabel"),helpText:NX.I18n.get("LdapServersConnectionFieldSet_SaslRealm_HelpText"),allowBlank:true,authScheme:["DIGEST-MD5","CRAM-MD5"]},{name:"authUsername",itemId:"authUsername",fieldLabel:NX.I18n.get("LdapServersConnectionFieldSet_Username_FieldLabel"),helpText:NX.I18n.get("LdapServersConnectionFieldSet_Username_HelpText"),authScheme:["simple","DIGEST-MD5","CRAM-MD5"]},{xtype:"nx-password",name:"authPassword",itemId:"authPassword",fieldLabel:NX.I18n.get("LdapServersConnectionFieldSet_Password_FieldLabel"),inputType:"password",helpText:NX.I18n.get("LdapServersConnectionFieldSet_Password_HelpText"),authScheme:["simple","DIGEST-MD5","CRAM-MD5"]},{xtype:"label",text:NX.I18n.get("LdapServersConnectionFieldSet_Rules_Text"),style:{fontWeight:"bold",display:"block",marginTop:"10px",marginBottom:"5px"}},{xtype:"label",text:NX.I18n.get("LdapServersConnectionFieldSet_Rules_HelpText"),style:{fontSize:"10px",display:"block",marginBottom:"1px"}},{xtype:"label",cls:"nx-float-left nx-interstitial-label",text:NX.I18n.get("LdapServersConnectionFieldSet_Rules_Text1")},{xtype:"numberfield",name:"connectionTimeout",cls:"nx-float-left",width:70,value:30},{xtype:"label",cls:"nx-float-left nx-interstitial-label",text:NX.I18n.get("LdapServersConnectionFieldSet_Rules_Text2")},{xtype:"numberfield",name:"connectionRetryDelay",cls:"nx-float-left",width:70,value:300},{xtype:"label",cls:"nx-float-left nx-interstitial-label",text:NX.I18n.get("LdapServersConnectionFieldSet_Rules_Text3")},{xtype:"numberfield",name:"maxIncidentsCount",cls:"nx-float-left",width:55,value:3},{xtype:"label",cls:"nx-float-left nx-interstitial-label",text:NX.I18n.get("LdapServersConnectionFieldSet_Rules_Text4")}];a.callParent();a.showOrHide("authScheme",undefined)},showOrHide:function(d,e){var c=this,b=c.up("form"),a=c.query("component["+d+"]");Ext.iterate(a,function(f){if(e&&f[d].indexOf(e)>-1){f.enable();f.show()}else{f.disable();f.hide()}});if(b){b.isValid()}}});Ext.define("NX.coreui.view.ldap.LdapServerConnection",{extend:"NX.view.SettingsPanel",alias:"widget.nx-coreui-ldapserver-connection",settingsForm:{xtype:"nx-coreui-ldapserver-connection-form"}});Ext.define("NX.coreui.view.ldap.LdapServerConnectionForm",{extend:"NX.view.SettingsForm",alias:"widget.nx-coreui-ldapserver-connection-form",requires:["NX.Conditions","NX.I18n"],initComponent:function(){var a=this;a.items={xtype:"nx-coreui-ldapserver-connection-fieldset"};a.editableMarker=NX.I18n.get("Ldap_LdapServerConnectionForm_Update_Error");a.editableCondition=a.editableCondition||NX.Conditions.isPermitted("nexus:ldap:update");a.callParent();a.getDockedItems('toolbar[dock="bottom"]')[0].add({xtype:"button",text:NX.I18n.get("Ldap_LdapServerConnectionForm_VerifyConnection_Button"),formBind:true,action:"verifyconnection"})}});Ext.define("NX.coreui.view.ldap.LdapServerUserAndGroupFieldSet",{extend:"Ext.panel.Panel",alias:"widget.nx-coreui-ldapserver-userandgroup-fieldset",requires:["NX.I18n"],defaults:{xtype:"textfield",allowBlank:false},initComponent:function(){var a=this;a.items=[{xtype:"combo",itemId:"template",fieldLabel:NX.I18n.get("Ldap_LdapServerUserAndGroupFieldSet_Template_FieldLabel"),emptyText:NX.I18n.get("Ldap_LdapServerUserAndGroupFieldSet_Template_EmptyText"),editable:false,store:"LdapSchemaTemplate",displayField:"name",queryMode:"local",listeners:{select:function(d,b){var c=Ext.apply({},b[0].getData());delete c.name;d.up("form").getForm().setValues(c)}},allowBlank:true},{name:"userBaseDn",fieldLabel:NX.I18n.get("Ldap_LdapServerUserAndGroupFieldSet_BaseDN_FieldLabel"),helpText:NX.I18n.get("Ldap_LdapServerUserAndGroupFieldSet_BaseDN_HelpText"),allowBlank:true},{xtype:"checkbox",name:"userSubtree",fieldLabel:NX.I18n.get("Ldap_LdapServerUserAndGroupFieldSet_UserSubtree_FieldLabel"),helpText:NX.I18n.get("Ldap_LdapServerUserAndGroupFieldSet_UserSubtree_HelpText")},{name:"userObjectClass",fieldLabel:NX.I18n.get("Ldap_LdapServerUserAndGroupFieldSet_ObjectClass_FieldLabel"),helpText:NX.I18n.get("Ldap_LdapServerUserAndGroupFieldSet_ObjectClass_HelpText")},{name:"userLdapFilter",fieldLabel:NX.I18n.get("Ldap_LdapServerUserAndGroupFieldSet_UserFilter_FieldLabel"),helpText:NX.I18n.get("Ldap_LdapServerUserAndGroupFieldSet_UserFilter_HelpText"),allowBlank:true},{name:"userIdAttribute",fieldLabel:NX.I18n.get("Ldap_LdapServerUserAndGroupFieldSet_UserID_FieldLabel")},{name:"userRealNameAttribute",fieldLabel:NX.I18n.get("Ldap_LdapServerUserAndGroupFieldSet_RealName_FieldLabel")},{name:"userEmailAddressAttribute",fieldLabel:NX.I18n.get("Ldap_LdapServerUserAndGroupFieldSet_Email_FieldLabel")},{name:"userPasswordAttribute",fieldLabel:NX.I18n.get("Ldap_LdapServerUserAndGroupFieldSet_Password_FieldLabel"),helpText:NX.I18n.get("Ldap_LdapServerUserAndGroupFieldSet_Password_HelpText"),allowBlank:true},{xtype:"checkbox",name:"ldapGroupsAsRoles",fieldLabel:NX.I18n.get("Ldap_LdapServerUserAndGroupFieldSet_GroupMap_FieldLabel"),value:true,listeners:{change:function(c,d){var b=c.up("panel");b.showOrHide("ldapGroupsAsRoles",d);b.showOrHide("groupType",d?b.down("#groupType").getValue():undefined)}}},{xtype:"combo",name:"groupType",itemId:"groupType",fieldLabel:NX.I18n.get("Ldap_LdapServerUserAndGroupFieldSet_GroupType_FieldLabel"),emptyText:NX.I18n.get("Ldap_LdapServerUserAndGroupFieldSet_GroupType_EmptyText"),editable:false,store:[["dynamic",NX.I18n.get("Ldap_LdapServerUserAndGroupFieldSet_GroupType_DynamicItem")],["static",NX.I18n.get("Ldap_LdapServerUserAndGroupFieldSet_GroupType_StaticItem")]],queryMode:"local",listeners:{change:function(c,b){c.up("panel").showOrHide("groupType",b)}},ldapGroupsAsRoles:[true]},{name:"groupBaseDn",fieldLabel:NX.I18n.get("Ldap_LdapServerUserAndGroupFieldSet_GroupBaseDN_FieldLabel"),helpText:NX.I18n.get("Ldap_LdapServerUserAndGroupFieldSet_GroupBaseDN_HelpText"),allowBlank:true,groupType:["static"]},{xtype:"checkbox",name:"groupSubtree",fieldLabel:NX.I18n.get("Ldap_LdapServerUserAndGroupFieldSet_GroupSubtree_FieldLabel"),helpText:NX.I18n.get("Ldap_LdapServerUserAndGroupFieldSet_GroupSubtree_HelpText"),groupType:["static"]},{name:"groupObjectClass",fieldLabel:NX.I18n.get("Ldap_LdapServerUserAndGroupFieldSet_GroupObject_FieldLabel"),helpText:NX.I18n.get("Ldap_LdapServerUserAndGroupFieldSet_GroupObject_HelpText"),groupType:["static"]},{name:"groupIdAttribute",fieldLabel:NX.I18n.get("Ldap_LdapServerUserAndGroupFieldSet_GroupID_FieldLabel"),groupType:["static"]},{name:"groupMemberAttribute",fieldLabel:NX.I18n.get("Ldap_LdapServerUserAndGroupFieldSet_GroupMember_FieldLabel"),helpText:NX.I18n.get("Ldap_LdapServerUserAndGroupFieldSet_GroupMember_HelpText"),groupType:["static"]},{name:"groupMemberFormat",fieldLabel:NX.I18n.get("Ldap_LdapServerUserAndGroupFieldSet_GroupMemberFormat_FieldLabel"),helpText:NX.I18n.get("Ldap_LdapServerUserAndGroupFieldSet_GroupMemberFormat_HelpText"),groupType:["static"]},{name:"userMemberOfAttribute",fieldLabel:NX.I18n.get("Ldap_LdapServerUserAndGroupFieldSet_GroupMemberOf_FieldLabel"),helpText:NX.I18n.get("Ldap_LdapServerUserAndGroupFieldSet_GroupMemberOf_HelpText"),groupType:["dynamic"]}];a.callParent();a.showOrHide("ldapGroupsAsRoles",true);a.showOrHide("groupType",undefined)},showOrHide:function(d,e){var c=this,b=c.up("form"),a=c.query("component["+d+"]");Ext.iterate(a,function(f){if(e&&f[d].indexOf(e)>-1){f.enable();f.show()}else{f.disable();f.hide()}});if(b){b.isValid()}}});Ext.define("NX.coreui.view.ldap.LdapServerList",{extend:"NX.view.drilldown.Master",alias:"widget.nx-coreui-ldapserver-list",requires:["NX.I18n"],stateful:true,stateId:"nx-coreui-ldapserver-list",initComponent:function(){Ext.apply(this,{store:"LdapServer",columns:[{xtype:"nx-iconcolumn",width:36,iconVariant:"x16",iconName:function(){return"ldapserver-default"}},{header:NX.I18n.get("Ldap_LdapServerList_Order_Header"),dataIndex:"order",stateId:"order",width:80},{header:NX.I18n.get("Ldap_LdapServerList_Name_Header"),dataIndex:"name",stateId:"name",flex:1},{header:NX.I18n.get("Ldap_LdapServerList_URL_Header"),dataIndex:"url",stateId:"url",flex:1}],viewConfig:{emptyText:NX.I18n.get("Ldap_LdapServerList_EmptyText"),deferEmptyText:false},dockedItems:[{xtype:"nx-actions",items:[{xtype:"button",text:NX.I18n.get("Ldap_LdapServerList_New_Button"),glyph:"xf055@FontAwesome",action:"new",disabled:true},{xtype:"button",text:NX.I18n.get("Ldap_LdapServerList_ChangeOrder_Button"),glyph:"xf162@FontAwesome",action:"changeorder",disabled:true},{xtype:"button",text:NX.I18n.get("Ldap_LdapServerList_ClearCache_Button"),glyph:"xf014@FontAwesome",action:"clearcache",disabled:true}]}],plugins:[{ptype:"gridfilterbox",emptyText:NX.I18n.get("Ldap_LdapServerList_Filter_EmptyText")}]});this.callParent()}});Ext.define("NX.coreui.store.LdapSchemaTemplate",{extend:"Ext.data.Store",model:"NX.coreui.model.LdapSchemaTemplate",proxy:{type:"direct",paramsAsHash:false,api:{read:"NX.direct.ldap_LdapServer.readTemplates"},reader:{type:"json",root:"data",successProperty:"success"}},sorters:{property:"name",direction:"ASC"}});Ext.define("NX.coreui.view.ldap.LdapServerUserAndGroupMappingTestResults",{extend:"NX.view.ModalDialog",alias:"widget.nx-coreui-ldapserver-userandgroup-testresults",requires:["Ext.data.JsonStore","NX.I18n"],config:{mappedUsers:undefined},initComponent:function(){var a=this;a.title=NX.I18n.get("Ldap_LdapServerUserAndGroupMappingTestResults_Title");a.layout="fit";a.closeable=true;a.autoShow=true;a.modal=true;a.constrain=true;a.buttonAlign="left";a.buttons=[{text:NX.I18n.get("Button_Close"),handler:function(){this.up("window").close()}}];a.items={xtype:"grid",columns:[{header:NX.I18n.get("Ldap_LdapServerUserAndGroupMappingTestResults_ID_Header"),dataIndex:"username",flex:1},{header:NX.I18n.get("Ldap_LdapServerUserAndGroupMappingTestResults_Name_Header"),dataIndex:"realName",flex:1},{header:NX.I18n.get("Ldap_LdapServerUserAndGroupMappingTestResults_Email_Header"),dataIndex:"email",width:250},{header:NX.I18n.get("Ldap_LdapServerUserAndGroupMappingTestResults_Roles_Header"),dataIndex:"membership",flex:3}],store:Ext.create("Ext.data.JsonStore",{fields:["username","realName","email","membership"],data:a.mappedUsers})};a.width=NX.view.ModalDialog.LARGE_MODAL;a.maxHeight=a.height=Ext.getBody().getViewSize().height-100;a.callParent();a.center()}});Ext.define("NX.coreui.controller.LdapServers",{extend:"NX.controller.Drilldown",requires:["NX.Conditions","NX.Messages","NX.Permissions","NX.I18n"],masters:["nx-coreui-ldapserver-list"],models:["LdapServer"],stores:["LdapServer","LdapSchemaTemplate"],views:["ldap.LdapServerChangeOrder","ldap.LdapServerFeature","ldap.LdapServerList","ldap.LdapServerConnection","ldap.LdapServerConnectionFieldSet","ldap.LdapServerConnectionForm","ldap.LdapServerUserAndGroup","ldap.LdapServerUserAndGroupFieldSet","ldap.LdapServerUserAndGroupForm","ldap.LdapServerUserAndGroupLoginCredentials","ldap.LdapServerUserAndGroupMappingTestResults","ldap.LdapServerConnectionAdd","ldap.LdapServerUserAndGroupAdd"],refs:[{ref:"main",selector:"nx-main"},{ref:"feature",selector:"nx-coreui-ldapserver-feature"},{ref:"content",selector:"nx-feature-content"},{ref:"list",selector:"nx-coreui-ldapserver-list"},{ref:"connection",selector:"nx-coreui-ldapserver-feature nx-coreui-ldapserver-connection"},{ref:"userAndGroup",selector:"nx-coreui-ldapserver-feature nx-coreui-ldapserver-userandgroup"}],icons:{"ldapserver-default":{file:"book_addresses.png",variants:["x16","x32"]},"ldap-security-source":{file:"book_addresses.png",variants:["x16"]}},permission:"nexus:ldap",init:function(){var a=this;a.features={mode:"admin",path:"/Security/LDAP",text:NX.I18n.get("LdapServers_Text"),description:NX.I18n.get("LdapServers_Description"),view:{xtype:"nx-coreui-ldapserver-feature"},iconConfig:{file:"book_addresses.png",variants:["x16","x32"]},visible:function(){return NX.Permissions.check("nexus:ldap:read")}};a.callParent();a.listen({controller:{"#Refresh":{refresh:a.loadStores}},store:{"#LdapServer":{load:a.reselect}},component:{"nx-coreui-ldapserver-list":{beforerender:a.loadStores},"nx-coreui-ldapserver-list button[action=new]":{click:a.showConnectionPanel},"nx-coreui-ldapserver-connection-add button[action=next]":{click:a.showUserAndGroupPanel},"nx-coreui-ldapserver-userandgroup-form button[action=add]":{click:a.createServer},"nx-coreui-ldapserver-connection-form button[action=save]":{click:a.updateServer},"nx-coreui-ldapserver-userandgroup-form button[action=save]":{click:a.updateServer},"nx-coreui-ldapserver-list button[action=changeorder]":{click:a.showChangeOrder,afterrender:a.bindChangeOrderButton},"nx-coreui-ldapserver-list button[action=clearcache]":{click:a.clearCache,afterrender:a.bindClearCacheButton},"nx-coreui-ldapserver-changeorder button[action=save]":{click:a.changeOrder},"nx-coreui-ldapserver-connection-add button[action=verifyconnection]":{click:a.verifyConnection},"nx-coreui-ldapserver-connection button[action=verifyconnection]":{click:a.verifyConnection},"nx-coreui-ldapserver-userandgroup-add button[action=verifyusermapping]":{click:a.verifyUserMapping},"nx-coreui-ldapserver-userandgroup button[action=verifyusermapping]":{click:a.verifyUserMapping},"nx-coreui-ldapserver-userandgroup-add button[action=verifylogin]":{click:a.showLoginCredentialsWindow},"nx-coreui-ldapserver-userandgroup button[action=verifylogin]":{click:a.showLoginCredentialsWindow},"nx-coreui-ldapserver-userandgroup-login-credentials button[action=verifylogin]":{click:a.verifyLogin}}})},getDescription:function(a){return a.get("name")},onSelection:function(c,a){var b=this;if(Ext.isDefined(a)){Ext.suspendLayouts();b.getConnection().loadRecord(a);b.getUserAndGroup().loadRecord(a);b.getUserAndGroup().down("#template").setValue(null);Ext.resumeLayouts(true)}},showConnectionPanel:function(){var a=this;a.setItemName(1,NX.I18n.get("LdapServers_CreateConnection_Title"));a.loadCreateWizard(1,true,Ext.widget({xtype:"panel",layout:{type:"vbox",align:"stretch",pack:"start"},items:[{xtype:"nx-coreui-ldapserver-connection-add",flex:1}]}))},showUserAndGroupPanel:function(){var a=this;a.setItemName(2,NX.I18n.get("LdapServers_CreateUsersAndGroups_Title"));a.loadCreateWizard(2,true,Ext.widget({xtype:"panel",layout:{type:"vbox",align:"stretch",pack:"start"},items:[{xtype:"nx-coreui-ldapserver-userandgroup-add",flex:1}]}))},showChangeOrder:function(){Ext.widget("nx-coreui-ldapserver-changeorder")},updateServer:function(){var d=this,b=d.getFeature(),f=b.down("nx-coreui-ldapserver-connection").down("nx-coreui-ldapserver-connection-form"),e=b.down("nx-coreui-ldapserver-userandgroup").down("nx-coreui-ldapserver-userandgroup-form"),a={};Ext.apply(a,f.getForm().getFieldValues());Ext.apply(a,e.getForm().getFieldValues());var c=f.getForm().getRecord().getData(false);Object.keys(a).forEach(function(g){delete c[g]});Ext.apply(c,a);d.getContent().getEl().mask(NX.I18n.get("LdapServers_Update_Mask"));NX.direct.ldap_LdapServer.update(c,function(g){d.getContent().getEl().unmask();if(Ext.isObject(g)){if(g.success){NX.Messages.add({text:NX.I18n.format("LdapServers_Update_Success",d.getDescription(d.getLdapServerModel().create(g.data))),type:"success"});d.getStore("LdapServer").load()}}})},createServer:function(){var c=this,b=c.getFeature(),e=b.down("nx-coreui-ldapserver-connection-add").down("nx-coreui-ldapserver-connection-form"),d=b.down("nx-coreui-ldapserver-userandgroup-add").down("nx-coreui-ldapserver-userandgroup-form"),a={};Ext.apply(a,e.getForm().getFieldValues());Ext.apply(a,d.getForm().getFieldValues());c.getContent().getEl().mask(NX.I18n.get("LdapServers_Create_Mask"));NX.direct.ldap_LdapServer.create(a,function(f){c.getContent().getEl().unmask();if(Ext.isObject(f)){if(f.success){NX.Messages.add({text:NX.I18n.format("LdapServers_Create_Success",c.getDescription(c.getLdapServerModel().create(f.data))),type:"success"});c.getStore("LdapServer").load()}}})},bindChangeOrderButton:function(a){a.mon(NX.Conditions.isPermitted(this.permission+":update"),{satisfied:a.enable,unsatisfied:a.disable,scope:a})},bindClearCacheButton:function(a){a.mon(NX.Conditions.and(NX.Conditions.isPermitted(this.permission+":delete"),NX.Conditions.storeHasRecords("LdapServer")),{satisfied:a.enable,unsatisfied:a.disable,scope:a})},deleteModel:function(a){var c=this,b=c.getDescription(a);NX.direct.ldap_LdapServer.remove(a.getId(),function(d){c.getStore("LdapServer").load();if(Ext.isObject(d)&&d.success){NX.Messages.add({text:NX.I18n.format("LdapServers_Delete_Success",b),type:"success"})}})},changeOrder:function(b){var c=this,d=b.up("window"),a=b.up("form").down("nx-itemorderer").getValue();NX.direct.ldap_LdapServer.changeOrder(a,function(e){if(Ext.isObject(e)&&e.success){d.close();NX.Messages.add({text:NX.I18n.get("LdapServers_ChangeOrder_Success"),type:"success"});c.getStore("LdapServer").load()}})},clearCache:function(a){NX.direct.ldap_LdapServer.clearCache(function(b){if(Ext.isObject(b)&&b.success){NX.Messages.add({text:NX.I18n.get("LdapServers_ClearCache_Success"),type:"success"})}})},verifyConnection:function(c){var d=c.up("form"),a=d.getForm().getFieldValues(),b=a.protocol+"://"+a.host+":"+a.port;d.getEl().mask(NX.I18n.format("LdapServers_VerifyConnection_Mask",b));NX.direct.ldap_LdapServer.verifyConnection(a,function(e){d.getEl().unmask();if(Ext.isObject(e)&&e.success){NX.Messages.add({text:NX.I18n.format("LdapServers_VerifyConnection_Success",b),type:"success"})}})},verifyUserMapping:function(){var c=this,a=c.getValues(),b=a.protocol+"://"+a.host+":"+a.port;c.getMain().getEl().mask(NX.I18n.format("LdapServers_VerifyMapping_Mask",b));NX.direct.ldap_LdapServer.verifyUserMapping(a,function(d){c.getMain().getEl().unmask();if(Ext.isObject(d)&&d.success){NX.Messages.add({text:NX.I18n.format("LdapServers_VerifyMapping_Success",b),type:"success"});Ext.widget("nx-coreui-ldapserver-userandgroup-testresults",{mappedUsers:d.data})}})},showLoginCredentialsWindow:function(a){Ext.widget("nx-coreui-ldapserver-userandgroup-login-credentials")},verifyLogin:function(d){var g=d.up("window"),e=d.up("form"),b=e.getForm().getFieldValues(),f=NX.util.Base64.encode(b.username),h=NX.util.Base64.encode(b.password),a=this.getValues(),c=a.protocol+"://"+a.host+":"+a.port;e.getEl().mask(NX.I18n.format("LdapServers_VerifyLogin_Mask",c));NX.direct.ldap_LdapServer.verifyLogin(a,f,h,function(i){e.getEl().unmask();if(Ext.isObject(i)&&i.success){g.close();NX.Messages.add({text:NX.I18n.format("LdapServers_VerifyLogin_Success",c),type:"success"})}})},getValues:function(){var c=this.getFeature(),a={},b,e,d;if(c.down("nx-coreui-ldapserver-connection-add")){e=c.down("nx-coreui-ldapserver-connection-add").down("nx-coreui-ldapserver-connection-form")}else{e=c.down("nx-coreui-ldapserver-connection").down("nx-coreui-ldapserver-connection-form")}if(c.down("nx-coreui-ldapserver-userandgroup-add")){d=c.down("nx-coreui-ldapserver-userandgroup-add").down("nx-coreui-ldapserver-userandgroup-form")}else{d=c.down("nx-coreui-ldapserver-userandgroup").down("nx-coreui-ldapserver-userandgroup-form")}Ext.apply(a,e.getForm().getFieldValues());Ext.apply(a,d.getForm().getFieldValues());return a}});Ext.define("NX.coreui.util.RepositoryUrls",{singleton:true,requires:["NX.util.Url","NX.Assert"],mixins:{logAware:"NX.LogAware"},repositoryUrlStrategies:{maven2:function(a){var b=a.get("repositoryName"),c=a.get("name");return NX.util.Url.asLink(NX.util.Url.baseUrl+"/repository/"+b+"/"+c,c)},npm:function(a){var b=a.get("repositoryName"),c=a.get("name");return NX.util.Url.asLink(NX.util.Url.baseUrl+"/repository/"+b+"/"+c,c)},nuget:function(a){var b=a.get("repositoryName"),c=a.get("name");return NX.util.Url.asLink(NX.util.Url.baseUrl+"/repository/"+b+"/"+c,c)},raw:function(a){var b=a.get("repositoryName"),c=a.get("name");return NX.util.Url.asLink(NX.util.Url.baseUrl+"/repository/"+b+"/"+c,c)},rubygems:function(a){var b=a.get("repositoryName"),c=a.get("name");return NX.util.Url.asLink(NX.util.Url.baseUrl+"/repository/"+b+"/"+c,c)},docker:function(a){var b=a.get("repositoryName"),c=a.get("name");return NX.util.Url.asLink(NX.util.Url.baseUrl+"/repository/"+b+"/"+c,c)},bower:function(a){var b=a.get("repositoryName"),c=a.get("name");return NX.util.Url.asLink(NX.util.Url.baseUrl+"/repository/"+b+"/"+c,c)},pypi:function(a){var b=a.get("repositoryName"),c=a.get("name");return NX.util.Url.asLink(NX.util.Url.baseUrl+"/repository/"+b+"/"+c,c)},yum:function(a){var b=a.get("repositoryName"),c=a.get("name");return NX.util.Url.asLink(NX.util.Url.baseUrl+"/repository/"+b+"/"+c,c)},gitlfs:function(a){var b=a.get("repositoryName"),c=a.get("name");return NX.util.Url.asLink(NX.util.Url.baseUrl+"/repository/"+b+"/"+c,c)}},addRepositoryUrlStrategy:function(a,b){this.repositoryUrlStrategies[a]=b},asRepositoryLink:function(a,c){var b=this.repositoryUrlStrategies[c];return b(a)}});Ext.define("NX.coreui.view.component.AssetInfo",{extend:"NX.view.info.Panel",alias:"widget.nx-coreui-component-assetinfo",requires:["NX.I18n","NX.coreui.util.RepositoryUrls"],assetModel:null,setAssetModel:function(b){var c=this,d={};c.assetModel=b;var e=b.get("contentType");var a=b.get("size");d[NX.I18n.get("Assets_Info_Path")]=NX.coreui.util.RepositoryUrls.asRepositoryLink(b,b.get("format"));d[NX.I18n.get("Assets_Info_ContentType")]=e;d[NX.I18n.get("Assets_Info_FileSize")]=Ext.util.Format.fileSize(a);d[NX.I18n.get("Assets_Info_Blob_Created")]=b.get("blobCreated");d[NX.I18n.get("Assets_Info_Blob_Updated")]=b.get("blobUpdated");d[NX.I18n.get("Assets_Info_Last_Downloaded")]=b.get("lastDownloaded");d[NX.I18n.get("Assets_Info_Locally_Cached")]=e!=="unknown"&&a>0;d[NX.I18n.get("Assets_Info_BlobRef")]=b.get("blobRef");d[NX.I18n.get("Assets_Info_ContainingRepositoryName")]=b.get("containingRepositoryName");c.showInfo(d)}});Ext.define("NX.coreui.store.LicenseUser",{extend:"Ext.data.Store",model:"NX.coreui.model.LicenseUser",proxy:{type:"direct",paramsAsHash:false,api:{read:"NX.direct.licensing_Licensing.readLicenseUsers"},reader:{type:"json",root:"data",successProperty:"success"}},sorters:{property:"timestamp",direction:"DESC"}});Ext.define("NX.coreui.view.ssl.SslCertificateAddFromServer",{extend:"NX.view.AddPanel",alias:"widget.nx-coreui-sslcertificate-add-from-server",requires:["NX.Icons","NX.I18n"],defaultFocus:"server",initComponent:function(){var a=this;a.settingsForm={xtype:"nx-settingsform",settingsFormSubmitOnEnter:true,items:[{xtype:"textfield",fieldLabel:NX.I18n.get("Ssl_SslCertificateAddFromServer_Load_FieldLabel"),name:"server",itemId:"server"}],buttons:[{text:NX.I18n.get("Ssl_SslCertificateList_Load_Button"),action:"load",formBind:true,bindToEnter:true,ui:"nx-primary"},{text:NX.I18n.get("Ssl_SslCertificateAddFromServer_Cancel_Button"),action:"back"}]};a.callParent()}});Ext.define("NX.coreui.view.selector.SelectorFeature",{extend:"NX.view.drilldown.Drilldown",alias:"widget.nx-coreui-selector-feature",requires:["NX.I18n"],initComponent:function(){Ext.apply(this,{iconName:"selector-default",masters:[{xtype:"nx-coreui-selector-list"}],tabs:[{xtype:"nx-coreui-selector-settings",title:NX.I18n.get("Selector_SelectorFeature_Settings_Title"),weight:10}],actions:[{xtype:"button",text:NX.I18n.get("Selector_SelectorFeature_Delete_Button"),glyph:"xf056@FontAwesome",action:"delete",disabled:true}]});this.callParent()}});Ext.define("NX.coreui.view.repository.recipe.Maven2Proxy",{extend:"NX.coreui.view.repository.RepositorySettingsForm",alias:"widget.nx-coreui-repository-maven2-proxy",requires:["NX.coreui.view.repository.facet.Maven2Facet","NX.coreui.view.repository.facet.ProxyFacet","NX.coreui.view.repository.facet.StorageFacet","NX.coreui.view.repository.facet.HttpClientFacet","NX.coreui.view.repository.facet.NegativeCacheFacet"],initComponent:function(){var a=this;a.items=[{xtype:"nx-coreui-repository-maven2-facet"},{xtype:"nx-coreui-repository-proxy-facet"},{xtype:"nx-coreui-repository-storage-facet"},{xtype:"nx-coreui-repository-negativecache-facet"},{xtype:"nx-coreui-repository-httpclient-facet"}];a.callParent()}});Ext.define("NX.coreui.view.role.RoleSettings",{extend:"NX.view.SettingsPanel",alias:"widget.nx-coreui-role-settings",settingsForm:{xtype:"nx-coreui-role-settings-form"}});Ext.define("NX.coreui.store.RepositoryReference",{extend:"Ext.data.Store",model:"NX.coreui.model.RepositoryReference",proxy:{type:"direct",api:{read:"NX.direct.coreui_Repository.readReferences"},reader:{type:"json",root:"data",idProperty:"id",successProperty:"success"}},sortOnLoad:true,sorters:{property:"name",direction:"ASC"}});Ext.define("NX.coreui.view.nuget.NuGetApiKeyDetails",{extend:"NX.view.ModalDialog",alias:"widget.nx-coreui-nuget-apikeydetails",requires:["NX.Icons","NX.Messages","NX.I18n","NX.util.Url"],ui:"nx-inset",title:"NuGet API Key",apiKey:undefined,initComponent:function(){var a=this;a.setWidth(NX.view.ModalDialog.LARGE_MODAL);a.items={xtype:"form",items:[{xtype:"panel",layout:"hbox",items:[{xtype:"component",html:NX.Icons.img("nuget-default","x32")},{xtype:"label",margin:"0 0 0 5",html:NX.I18n.get("Nuget_NuGetApiKeyDetails_Html")}]},{xtype:"panel",layout:"vbox",margin:"0 0 10 0",items:[{xtype:"label",margin:"5 0 0 0",text:NX.I18n.get("Nuget_NuGetApiKeyDetails_ApiKey_Text")},{xtype:"textfield",value:a.apiKey,readOnly:true,selectOnFocus:true,fieldStyle:{padding:"2px","font-family":"monospace"}},{xtype:"label",margin:"5 0 0 0",text:NX.I18n.get("Nuget_NuGetApiKeyDetails_Register_Text")},{xtype:"textfield",value:NX.I18n.format("Nuget_NuGetApiKeyDetails_Register_Value",a.apiKey,NX.util.Url.urlOf("repository/{repository name}/")),readOnly:true,selectOnFocus:true,fieldStyle:{padding:"2px","font-family":"monospace"}}]},{xtype:"label",style:"font-style: italic;",html:NX.I18n.get("Nuget_NuGetApiKeyDetails_AutoClose_Html")}],buttonAlign:"left",buttons:[{text:NX.I18n.get("Button_Close"),handler:function(){this.up("window").close()}}]};a.callParent();Ext.defer(function(){if(a.isVisible()){NX.Messages.add({text:NX.I18n.get("Nuget_NuGetApiKeyDetails_AutoClose_Message")});a.close()}},1*60*1000)}});Ext.define("NX.coreui.view.nuget.NuGetApiKey",{extend:"NX.view.SettingsPanel",alias:"widget.nx-coreui-nuget-apikey",requires:["NX.I18n"],config:{active:false},initComponent:function(){var a=this;a.settingsForm=[{xtype:"nx-settingsform",items:[{xtype:"label",margin:"5 0 5 0",text:NX.I18n.get("Nuget_NuGetApiKey_Instructions_Text")}],buttonAlign:"left",buttons:[{text:NX.I18n.get("Nuget_NuGetApiKey_Access_Button"),action:"access",ui:"nx-primary",glyph:"xf023@FontAwesome",disabled:true},{text:NX.I18n.get("Nuget_NuGetApiKey_Reset_Button"),action:"reset",glyph:"xf023@FontAwesome",disabled:true}]}];a.callParent()}});Ext.define("NX.coreui.controller.NuGetApiKey",{extend:"NX.app.Controller",requires:["NX.Conditions","NX.Permissions","NX.Security"],views:["nuget.NuGetApiKeyDetails","nuget.NuGetApiKey"],init:function(){var a=this;a.getApplication().getIconController().addIcons({"nuget-default":{file:"key.png",variants:["x16","x32"]}});a.getApplication().getFeaturesController().registerFeature([{mode:"user",path:"/NuGet API Token",text:NX.I18n.get("NuGetApiKey_Text"),description:NX.I18n.get("NuGetApiKey_Description"),view:{xtype:"nx-coreui-nuget-apikey"},iconConfig:{file:"key.png",variants:["x16","x32"]},visible:function(){return NX.Security.hasUser()}}],a);a.listen({component:{"nx-coreui-nuget-apikey button[action=access]":{click:a.accessApiKey,afterrender:a.bindAccessApiKeyButton},"nx-coreui-nuget-apikey button[action=reset]":{click:a.resetApiKey,afterrender:a.bindResetApiKeyButton}}})},accessApiKey:function(){var a=this;NX.Security.doWithAuthenticationToken(NX.I18n.get("Nuget_NuGetApiKey_Access_HelpText"),{success:function(b){NX.direct.nuget_NuGetApiKey.readKey(b,function(c){if(Ext.isDefined(c)&&c.success){a.showApiKey(c.data)}})}})},resetApiKey:function(){var a=this;NX.Security.doWithAuthenticationToken(NX.I18n.get("Nuget_NuGetApiKey_Reset_HelpText"),{success:function(b){NX.direct.nuget_NuGetApiKey.resetKey(b,function(c){if(Ext.isDefined(c)&&c.success){a.showApiKey(c.data)}})}})},showApiKey:function(a){Ext.widget("nx-coreui-nuget-apikeydetails",{apiKey:a})},bindAccessApiKeyButton:function(a){a.mon(NX.Conditions.isPermitted("nexus:apikey:read"),{satisfied:a.enable,unsatisfied:a.disable,scope:a})},bindResetApiKeyButton:function(a){a.mon(NX.Conditions.isPermitted("nexus:apikey:delete"),{satisfied:a.enable,unsatisfied:a.disable,scope:a})}});Ext.define("NX.coreui.audit.AuditModel",{extend:"Ext.data.Model",requires:["Ext.data.SequentialIdGenerator"],idgen:"sequential",fields:[{name:"domain",type:"string",sortType:"asUCText"},{name:"type",type:"string",sortType:"asUCText"},{name:"context",type:"string",sortType:"asUCText"},{name:"timestamp",type:"date"},{name:"nodeId",type:"string",sortType:"asUCText"},{name:"initiator",type:"string",sortType:"asUCText"},{name:"attributes",type:"auto"}]});Ext.define("NX.coreui.view.healthcheck.HealthCheckEula",{extend:"Ext.window.Window",alias:"widget.nx-coreui-healthcheck-eula",requires:["NX.util.Url"],title:"Nexus IQ Server Terms of Use",layout:"fit",autoShow:true,modal:true,constrain:true,width:640,height:500,acceptFn:undefined,initComponent:function(){var a=this;a.items={xtype:"box",autoEl:{tag:"iframe",src:NX.util.Url.urlOf("/static/healthcheck-tos.html")}};a.dockedItems=[{xtype:"toolbar",dock:"bottom",ui:"footer",items:[{xtype:"button",text:"I Agree",action:"agree",formBind:true,ui:"nx-primary",handler:function(){var b=this.up("window");b.close();if(b.acceptFn){b.acceptFn.call()}}},{xtype:"button",text:"I Do Not Agree",handler:function(){this.up("window").close()}},"->",{xtype:"component",html:'<a href="'+NX.util.Url.urlOf("/static/healthcheck-tos.html")+'" target="_new">Download a copy of the license.</a>'}]}];a.callParent()}});Ext.define("NX.coreui.model.SearchResultVersion",{extend:"Ext.data.Model",idProperty:"version",fields:["groupingKey","group","name","version","versionOrder","repositoryId","repositoryName","path","type"]});Ext.define("NX.coreui.model.Role",{extend:"Ext.data.Model",fields:[{name:"id",type:"string",sortType:"asUCText"},{name:"version",type:"string",sortType:"asUCText"},{name:"source",type:"string",sortType:"asUCText"},{name:"name",type:"string",sortType:"asUCText"},{name:"description",type:"string",sortType:"asUCText"},{name:"readOnly",type:"boolean",defaultValue:false},{name:"privileges",type:"auto"},{name:"roles",type:"auto"}]});Ext.define("NX.coreui.view.component.AssetList",{extend:"NX.view.drilldown.Master",alias:"widget.nx-coreui-component-asset-list",requires:["NX.I18n"],componentModel:undefined,initComponent:function(){Ext.apply(this,{store:"ComponentAsset",cls:"nx-hr",assetContainerSource:true,loadStore:Ext.emptyFn,allowDeselect:true,viewConfig:{emptyText:"No assets found",deferEmptyText:false},columns:[{xtype:"nx-iconcolumn",dataIndex:"contentType",width:36,iconVariant:"x16",iconNamePrefix:"asset-type-",iconName:function(b){var a;if(b){a=b.replace("/","-");if(NX.getApplication().getIconController().findIcon("asset-type-"+a,"x16")){return a}}return"default"}},{text:NX.I18n.get("SearchResultAssetList_Name_Header"),dataIndex:"name",flex:2.5}]});this.callParent()},setComponentModel:function(a){var b=this;b.componentModel=a;b.fireEvent("updated",b,b.componentModel)}});Ext.define("NX.coreui.view.support.SupportZip",{extend:"NX.view.SettingsPanel",alias:"widget.nx-coreui-support-supportzip",requires:["NX.Conditions","NX.I18n"],initComponent:function(){var a=this;a.settingsForm={xtype:"nx-settingsform",settingsFormSubmitMessage:NX.I18n.get("Support_SupportZip_Creating_Message"),settingsFormSuccessMessage:NX.I18n.get("Support_SupportZip_Create_Success"),timeout:60*3,isDirty:function(){return false},api:{submit:"NX.direct.atlas_SupportZip.create"},editableCondition:NX.Conditions.isPermitted("nexus:atlas:create"),editableMarker:NX.I18n.get("SupportZip_Permission_Error"),items:[{xtype:"label",html:NX.I18n.get("SupportZip_HelpText")},{xtype:"checkboxgroup",fieldLabel:NX.I18n.get("Support_SupportZip_Contents_FieldLabel"),columns:1,allowBlank:false,items:[{xtype:"checkbox",name:"systemInformation",boxLabel:NX.I18n.get("Support_SupportZip_Report_BoxLabel"),checked:true},{xtype:"checkbox",name:"threadDump",boxLabel:NX.I18n.get("Support_SupportZip_Dump_BoxLabel"),checked:true},{xtype:"checkbox",name:"configuration",boxLabel:NX.I18n.get("Support_SupportZip_Configuration_BoxLabel"),checked:true},{xtype:"checkbox",name:"security",boxLabel:NX.I18n.get("Support_SupportZip_Security_BoxLabel"),checked:true},{xtype:"checkbox",name:"log",boxLabel:NX.I18n.get("Support_SupportZip_LogFiles_BoxLabel"),checked:true},{xtype:"checkbox",name:"metrics",boxLabel:NX.I18n.get("Support_SupportZip_Metrics_BoxLabel"),checked:true},{xtype:"checkbox",name:"jmx",boxLabel:NX.I18n.get("Support_SupportZip_JMX_BoxLabel"),checked:true}]},{xtype:"checkboxgroup",fieldLabel:NX.I18n.get("Support_SupportZip_Options_FieldLabel"),allowBlank:true,columns:1,items:[{xtype:"checkbox",name:"limitFileSizes",boxLabel:NX.I18n.get("Support_SupportZip_Included_BoxLabel"),checked:true},{xtype:"checkbox",name:"limitZipSize",boxLabel:NX.I18n.get("Support_SupportZip_Max_BoxLabel"),checked:true}]}],buttonAlign:"left",buttons:[{text:NX.I18n.get("Support_SupportZip_Create_Button"),formBind:true,glyph:"xf019@FontAwesome",action:"submit",ui:"nx-primary"}]};a.callParent()}});Ext.define("NX.coreui.view.support.SupportZipCreated",{extend:"NX.coreui.view.support.FileCreated",alias:"widget.nx-coreui-support-supportzipcreated",requires:["NX.Icons","NX.I18n"],initComponent:function(){var a=this;a.fileIcon=NX.Icons.img("supportzip-zip","x32");a.fileType=NX.I18n.get("Support_SupportZipCreated_FileType_Text"),a.callParent();a.truncatedWarning=Ext.widget({xtype:"panel",layout:{type:"hbox",align:"middle"},style:{marginBottom:"10px"},items:[{xtype:"component",html:NX.Icons.img("supportzip-truncated","x32")},{xtype:"component",html:NX.I18n.get("Support_SupportZipCreated_Truncated_Text"),margin:"0 0 0 5"}],hidden:true});a.items.get(0).items.insert(1,a.truncatedWarning)},setValues:function(a){var b=this;b.callParent(arguments);if(a.truncated){b.truncatedWarning.show()}}});Ext.define("NX.coreui.controller.SupportZip",{extend:"NX.app.Controller",requires:["NX.Permissions","NX.Security","NX.util.Base64","NX.util.Url","NX.util.DownloadHelper","NX.I18n"],views:["support.SupportZip","support.SupportZipCreated"],init:function(){var a=this;a.getApplication().getIconController().addIcons({"supportzip-zip":{file:"file_extension_zip.png",variants:["x16","x32"]},"supportzip-truncated":{file:"warning.png",variants:["x16","x32"]}});a.getApplication().getFeaturesController().registerFeature({mode:"admin",path:"/Support/Support ZIP",text:NX.I18n.get("SupportZip_Title"),description:NX.I18n.get("SupportZip_Description"),view:{xtype:"nx-coreui-support-supportzip"},iconConfig:{file:"file_extension_zip.png",variants:["x16","x32"]},visible:function(){return NX.Permissions.check("nexus:atlas:create")}},a);a.listen({component:{"nx-coreui-support-supportzip form":{submitted:a.showSupportZipCreatedWindow},"nx-coreui-support-supportzipcreated button[action=download]":{click:a.download}}})},showSupportZipCreatedWindow:function(a,b){Ext.widget("nx-coreui-support-supportzipcreated").setValues(b.result.data)},download:function(a){var b=a.up("window"),c=b.down("form").getValues().name;NX.Security.doWithAuthenticationToken(NX.I18n.get("SupportZip_Authenticate_Text"),{success:function(d){NX.util.DownloadHelper.downloadUrl(NX.util.Url.urlOf("service/siesta/wonderland/download/"+c+"?t="+NX.util.Base64.encode(d)));b.close()}})}});Ext.define("NX.coreui.controller.DatabaseWarnings",{extend:"NX.app.Controller",requires:["NX.I18n","NX.Permissions"],refs:[{ref:"databaseFreezeWarning",selector:"#nx-database-freeze-warning"}],init:function(){var a=this;a.listen({controller:{"#State":{changed:a.stateChanged}}})},stateChanged:function(){var c=this,d=c.getDatabaseFreezeWarning(),a=NX.State.getValue("db",{})["dbFrozen"],b=NX.State.getValue("quorum",{})["quorumPresent"];if(d){if(!b){d.setTitle(NX.I18n.get("Nodes_Quorum_lost_warning"))}if(a){d.setTitle(NX.I18n.get("Nodes_Read_only_mode_warning"))}if(!b||a){d.show()}else{d.hide()}}}});Ext.define("NX.coreui.view.ssl.SslCertificateDetails",{extend:"NX.view.SettingsPanel",alias:"widget.nx-coreui-sslcertificate-details",title:"Summary",settingsForm:{xtype:"nx-coreui-sslcertificate-details-form"},dockedItems:null});Ext.define("NX.coreui.view.component.ComponentDetails",{extend:"Ext.panel.Panel",alias:"widget.nx-coreui-component-details",cls:"nx-coreui-component-details",componentModel:undefined,layout:{type:"hbox",align:"stretch"},initComponent:function(){Ext.apply(this,{dockedItems:{xtype:"nx-actions",dock:"bottom",items:[{xtype:"button",text:NX.I18n.get("ComponentDetails_Delete_Button"),glyph:"xf056@FontAwesome",action:"deleteComponent",disabled:true},{xtype:"button",text:NX.I18n.get("ComponentDetails_Analyze_Button"),glyph:"xf085@FontAwesome",action:"analyzeApplication"}]},items:[{xtype:"nx-info",itemId:"repositoryInfo"},{xtype:"nx-info",itemId:"componentInfo"},{xtype:"nx-info",itemId:"extraInfo"}]});this.callParent()},setComponentModel:function(a){var b=this;b.componentModel=a;b.fireEvent("updated",b,b.componentModel)}});Ext.define("NX.coreui.view.repository.facet.GroupFacet",{extend:"Ext.form.FieldContainer",alias:"widget.nx-coreui-repository-group-facet",requires:["NX.I18n","NX.coreui.store.RepositoryReference"],format:undefined,initComponent:function(){var a=this;a.repositoryStore=Ext.create("NX.coreui.store.RepositoryReference",{remote:true});a.repositoryStore.filter([{property:"format",value:a.format}]);a.repositoryStore.load(function(d,c,g){var f=a.up("form");if(f){var b=f.getRecord();if(b){a.repositoryStore.filter([{property:"format",value:a.format},{filterFn:function(h){return h.get("name")!==b.get("name")}}]);var e=b.get("attributes").group.memberNames;f.down("#groupMemberNames").setValue(e);f.down("#groupMemberNames").resetOriginalValue()}}});a.items=[{xtype:"fieldset",cls:"nx-form-section",title:NX.I18n.get("Repository_Facet_GroupFacet_Title"),items:{xtype:"nx-itemselector",name:"attributes.group.memberNames",itemId:"groupMemberNames",fieldLabel:NX.I18n.get("Repository_Facet_GroupFacet_Members_FieldLabel"),helpText:NX.I18n.get("Repository_Facet_GroupFacet_Members_HelpText"),buttons:["up","add","remove","down"],fromTitle:NX.I18n.get("Repository_Facet_GroupFacet_Members_FromTitle"),toTitle:NX.I18n.get("Repository_Facet_GroupFacet_Members_ToTitle"),store:a.repositoryStore,valueField:"id",displayField:"name",allowBlank:false,delimiter:null,forceSelection:true,queryMode:"local",triggerAction:"all",selectOnFocus:false,itemCls:"required-field"}}];a.callParent()}});Ext.define("NX.coreui.view.repository.recipe.Maven2Group",{extend:"NX.coreui.view.repository.RepositorySettingsForm",alias:"widget.nx-coreui-repository-maven2-group",requires:["NX.coreui.view.repository.facet.Maven2Facet","NX.coreui.view.repository.facet.StorageFacet","NX.coreui.view.repository.facet.GroupFacet"],initComponent:function(){var a=this;a.items=[{xtype:"nx-coreui-repository-storage-facet"},{xtype:"nx-coreui-repository-group-facet",format:"maven2"}];a.callParent()}});Ext.define("NX.coreui.view.repository.facet.NugetProxyFacet",{extend:"Ext.form.FieldContainer",alias:"widget.nx-coreui-repository-nugetproxy-facet",requires:["NX.I18n"],defaults:{itemCls:"required-field"},initComponent:function(){var a=this;a.items=[{xtype:"fieldset",cls:"nx-form-section",title:NX.I18n.get("Repository_Facet_NugetProxyFacet_Title"),items:[{xtype:"numberfield",name:"attributes.nugetProxy.queryCacheItemMaxAge",fieldLabel:NX.I18n.get("Repository_Facet_NugetProxyFacet_ItemMaxAge_FieldLabel"),helpText:NX.I18n.get("Repository_Facet_NugetProxyFacet_ItemMaxAge_HelpText"),minValue:0,value:3600}]}];a.callParent()}});Ext.define("NX.coreui.model.HealthCheckRepositoryStatus",{extend:"Ext.data.Model",fields:[{name:"repositoryName",type:"string",sortType:"asUCText"},{name:"enabled",type:"boolean"},{name:"eulaAccepted",type:"boolean"},{name:"analyzing",type:"boolean"},{name:"detailedReportSupported",type:"boolean"},{name:"iframeHeight",type:"int"},{name:"iframeWidth",type:"int"},{name:"securityIssueCount",type:"int"},{name:"licenseIssueCount",type:"int"},{name:"summaryUrl",type:"string",sortType:"asUCText"},{name:"detailUrl",type:"string",sortType:"asUCText"},{name:"totalCounts",type:"long"},{name:"vulnerableCounts",type:"long"}]});Ext.define("NX.coreui.store.HealthCheckRepositoryStatus",{extend:"Ext.data.Store",model:"NX.coreui.model.HealthCheckRepositoryStatus",loaded:false,proxy:{type:"direct",paramsAsHash:false,api:{read:"NX.direct.healthcheck_Status.read"},reader:{type:"json",root:"data",idProperty:"repositoryName",successProperty:"success"}},listeners:{beforeload:function(){this.loaded=false},load:function(){this.loaded=true}}});Ext.define("NX.coreui.controller.HealthCheckRepositoryConfiguration",{extend:"NX.app.Controller",requires:["NX.Conditions","NX.Permissions","NX.I18n"],stores:["HealthCheckRepositoryStatus"],views:["healthcheck.HealthCheckEula"],refs:[{ref:"settings",selector:"nx-coreui-repository-settings"},{ref:"button",selector:"nx-coreui-repository-feature button[action=toggleHealthCheck]"}],init:function(){var a=this;a.listen({component:{"nx-coreui-repository-feature button[action=toggleHealthCheck]":{afterrender:a.bindHealthCheckButton,click:a.toggleHealthCheck,show:a.updateLabel},"nx-coreui-repository-settings-form":{recordloaded:a.updateLabel}}})},updateLabel:function(){var f=this,b=f.getButton();if(!b.disabled){var d=f.getSettings();var e=d.down("form");if(e){var c=e.getForm().getRecord();var a=f.getHealthCheckRepositoryStatusStore().findRecord("repositoryName",c.get("name"));if(a&&a.get("enabled")===true){b.setText(NX.I18n.get("Repository_RepositoryFeature_HealthCheckDisable_Button"))}else{b.setText(NX.I18n.get("Repository_RepositoryFeature_HealthCheckEnable_Button"))}}}},bindHealthCheckButton:function(){var b=this,a=b.getButton(),c;a.mon(NX.Conditions.and(c=NX.Conditions.isPermitted("nexus:repository-admin:*:*:edit"),NX.Conditions.formHasRecord("nx-coreui-repository-settings-form",function(d){c.setPermission("nexus:repository-admin:"+d.get("format")+":"+d.get("name")+":edit");return true})),{satisfied:a.enable,unsatisfied:a.disable,scope:a});a.mon(NX.Conditions.formHasRecord("nx-coreui-repository-settings-form",function(d){if(d.get("format")==="maven2"&&d.get("attributes").maven.versionPolicy!=="RELEASE"){return false}else{return d.get("type")==="proxy"}}),{satisfied:a.show,unsatisfied:a.hide,scope:a})},toggleHealthCheck:function(){var c=this,b=c.getSettings().down("form").getForm().getRecord(),d=b.get("name"),a=c.getHealthCheckRepositoryStatusStore().findRecord("repositoryName",d);if(a.get("eulaAccepted")){c.enableAnalysis(!a.get("enabled"),d)}else{Ext.widget("nx-coreui-healthcheck-eula",{acceptFn:function(){c.enableAnalysis(true,d)}})}},enableAnalysis:function(a,c){var b=this;NX.direct.healthcheck_Status.update(true,c,a,function(d){if(Ext.isObject(d)&&d.success){b.getHealthCheckRepositoryStatusStore().load(function(f,e,g){if(g){b.updateLabel()}})}})}});Ext.define("NX.coreui.view.licensing.LicenseUserList",{extend:"Ext.grid.Panel",alias:"widget.nx-coreui-licensing-licenseuser-list",requires:["NX.I18n"],stateful:true,stateId:"nx-coreui-licensing-licenseuser-list",initComponent:function(){Ext.apply(this,{store:"LicenseUser",columns:[{xtype:"nx-iconcolumn",width:36,iconVariant:"x16",iconName:function(){return"licenseuser-default"}},{header:NX.I18n.get("Licensing_LicenseUserList_IP_Header"),dataIndex:"ip",stateId:"ip",flex:1},{header:NX.I18n.get("Licensing_LicenseUserList_Date_Header"),dataIndex:"timestamp",stateId:"timestamp",flex:1},{header:NX.I18n.get("Licensing_LicenseUserList_User_Header"),dataIndex:"userId",stateId:"userId",flex:1},{header:NX.I18n.get("Licensing_LicenseUserList_Agent_Header"),dataIndex:"userAgent",stateId:"userAgent",flex:2}],viewConfig:{emptyText:NX.I18n.get("Licensing_LicenseUserList_EmptyText"),deferEmptyText:false},dockedItems:[{xtype:"nx-actions",items:{xtype:"button",text:NX.I18n.get("Licensing_LicenseUserList_Download_Button"),glyph:"xf019@FontAwesome",action:"download"}}],plugins:[{ptype:"gridfilterbox",emptyText:'No license user matched criteria "$filter"'}]});this.callParent()}});Ext.define("NX.coreui.view.task.TaskScheduleOnce",{extend:"Ext.form.FieldContainer",alias:"widget.nx-coreui-task-schedule-once",requires:["NX.util.DateFormat","NX.I18n"],initComponent:function(){var a=this;a.items=[{xtype:"datefield",name:"startDate",itemId:"startDate",fieldLabel:NX.I18n.get("Task_TaskScheduleDaily_StartDate_FieldLabel"),allowBlank:false,format:"m/d/Y",value:new Date(),submitValue:false},{xtype:"timefield",name:"startTime",itemId:"startTime",fieldLabel:NX.I18n.get("Task_TaskScheduleHourly_EndDate_FieldLabel"),helpText:"The time this task should start running in your time zone "+NX.util.DateFormat.getTimeZone()+".",allowBlank:false,format:"H:i",submitValue:false}];a.callParent()}});Ext.define("NX.coreui.model.RepositoryFormat",{extend:"Ext.data.Model",fields:[{name:"id",type:"string",sortType:"asUCText"},{name:"name",type:"string",sortType:"asUCText"}]});Ext.define("NX.coreui.audit.AuditStore",{extend:"Ext.data.Store",model:"NX.coreui.audit.AuditModel",pageSize:250,proxy:{type:"direct",api:{read:"NX.direct.audit_Audit.read"},reader:{type:"json",root:"data",successProperty:"success"}},sorters:{property:"timestamp",direction:"ASC"}});Ext.define("NX.coreui.model.Logger",{extend:"Ext.data.Model",idProperty:"name",fields:[{name:"name",type:"string",sortType:"asText"},{name:"level",type:"string",sortType:"asUCText"}]});Ext.define("NX.coreui.model.Bundle",{extend:"Ext.data.Model",fields:[{name:"id",type:"int"},{name:"state",type:"string"},{name:"name",type:"string"},{name:"symbolicName",type:"string"},{name:"version",type:"string"},{name:"location",type:"string"},{name:"startLevel",type:"int"},{name:"lastModified",type:"int"},{name:"fragment",type:"bool"},{name:"fragments",type:"auto"},{name:"fragmentHosts",type:"auto"},{name:"headers",type:"auto"}]});Ext.define("NX.coreui.controller.SearchBower",{extend:"NX.app.Controller",requires:["NX.I18n"],init:function(){var b=this,a=b.getController("NX.coreui.controller.Search");a.registerFilter({id:"bower",name:"bower",text:NX.I18n.get("SearchBower_Text"),description:NX.I18n.get("SearchBower_Description"),readOnly:true,criterias:[{id:"format",value:"bower",hidden:true},{id:"name.raw"},{id:"version"}]},b)}});Ext.define("NX.coreui.view.formfield.factory.FormfieldTextAreaFactory",{singleton:true,alias:["nx.formfield.factory.textarea","nx.formfield.factory.text-area"],create:function(b){var a={xtype:"textarea",htmlDecode:true,fieldLabel:b.label,itemCls:b.required?"required-field":"",helpText:b.helpText,allowBlank:!b.required,regex:b.regexValidation?new RegExp(b.regexValidation):null};if(b.initialValue){a.value=b.initialValue}return a}});Ext.define("NX.coreui.view.formfield.factory.FormfieldComboFactory",{singleton:true,alias:["nx.formfield.factory.combo","nx.formfield.factory.combobox","nx.formfield.factory.repo","nx.formfield.factory.repo-or-group","nx.formfield.factory.repo-target"],requires:["Ext.data.Store","Ext.form.ComboBox","NX.util.Url"],mixins:{logAware:"NX.LogAware"},create:function(e){var b=Ext.data.SortTypes,d,c,a={xtype:"combo",fieldLabel:e.label,itemCls:e.required?"required-field":"",helpText:e.helpText,name:e.id,displayField:"name",valueField:"id",editable:false,forceSelection:true,queryMode:"local",triggerAction:"all",emptyText:"Select...",selectOnFocus:false,allowBlank:!e.required};if(e.initialValue){a.listeners={afterrender:function(){var f=this;if(!f.getValue()){f.setValue(e.initialValue)}}}}if(e.storeApi){if(e.storeFilters){c=[];Ext.Object.each(e.storeFilters,function(f,g){c.push({property:f,value:g})})}a.store=Ext.create("Ext.data.Store",{proxy:{type:"direct",api:{read:"NX.direct."+e.storeApi},reader:{type:"json",root:"data",idProperty:e.idMapping||"id",successProperty:"success"}},fields:[{name:"id",mapping:e.idMapping||"id"},{name:"name",mapping:e.nameMapping||"name",sortType:b.asUCString},{name:"sortOrder",sortType:b.asInt}],filters:c,sortOnLoad:true,sorters:[{property:"sortOrder",direction:"DESC"},{property:"name",direction:"ASC"}],remoteFilter:true,autoLoad:true})}d=Ext.create("Ext.form.ComboBox",a);Ext.override(d,{setValue:function(g){var f=this;f.callParent(arguments);if(f.getValue()===null){f.value=g}}});return d}});Ext.define("NX.coreui.view.security.AnonymousSettings",{extend:"NX.view.SettingsPanel",alias:"widget.nx-coreui-security-anonymous-settings",requires:["NX.Conditions","NX.I18n"],initComponent:function(){var a=this;a.settingsForm=[{xtype:"nx-settingsform",settingsFormSuccessMessage:NX.I18n.get("Security_AnonymousSettings_Update_Success"),api:{load:"NX.direct.coreui_AnonymousSettings.read",submit:"NX.direct.coreui_AnonymousSettings.update"},editableCondition:NX.Conditions.isPermitted("nexus:settings:update"),editableMarker:NX.I18n.get("Security_AnonymousSettings_Update_Error"),items:[{xtype:"checkbox",name:"enabled",value:true,boxLabel:NX.I18n.get("Security_AnonymousSettings_Allow_BoxLabel")},{xtype:"textfield",name:"userId",fieldLabel:NX.I18n.get("Security_AnonymousSettings_Username_FieldLabel"),allowBlank:false},{xtype:"combo",name:"realmName",fieldLabel:NX.I18n.get("Security_AnonymousSettings_Realm_FieldLabel"),queryMode:"local",displayField:"name",valueField:"id",store:"RealmType",editable:false}]}];a.callParent()}});Ext.define("NX.coreui.view.user.UserAdd",{extend:"NX.view.AddPanel",alias:"widget.nx-coreui-user-add",requires:["NX.Conditions","NX.I18n"],defaultFocus:"userId",initComponent:function(){var a=this;a.settingsForm={xtype:"nx-coreui-user-settings-form",api:{submit:"NX.direct.coreui_User.create"},settingsFormSuccessMessage:function(b){return NX.I18n.get("User_UserAdd_Create_Success")+b.userId},editableCondition:NX.Conditions.isPermitted("nexus:users:create"),editableMarker:NX.I18n.get("User_UserAdd_Create_Error"),buttons:[{text:NX.I18n.get("User_UserList_New_Button"),action:"add",formBind:true,ui:"nx-primary"},{text:NX.I18n.get("Add_Cancel_Button"),action:"back"}]};a.callParent();a.down("#userId").setReadOnly(false);a.down("form").insert(5,[{xtype:"nx-password",name:"password",itemId:"password",fieldLabel:NX.I18n.get("User_UserAdd_Password_FieldLabel")},{xtype:"nx-password",allowBlank:true,fieldLabel:NX.I18n.get("User_UserAdd_PasswordConfirm_FieldLabel"),submitValue:false,validator:function(){var b=this;return(b.up("form").down("#password").getValue()===b.getValue())?true:NX.I18n.get("User_UserChangePassword_NoMatch_Error")}}])}});Ext.define("NX.coreui.view.repository.recipe.BowerGroup",{extend:"NX.coreui.view.repository.RepositorySettingsForm",alias:"widget.nx-coreui-repository-bower-group",requires:["NX.coreui.view.repository.facet.StorageFacet","NX.coreui.view.repository.facet.GroupFacet"],initComponent:function(){var a=this;a.items=[{xtype:"nx-coreui-repository-storage-facet"},{xtype:"nx-coreui-repository-group-facet",format:"bower"}];a.callParent()}});Ext.define("NX.coreui.model.TaskType",{extend:"Ext.data.Model",fields:[{name:"id",type:"string",sortType:"asUCText"},{name:"name",type:"string",sortType:"asUCText"},{name:"exposed",type:"boolean"},{name:"formFields",type:"auto"}]});Ext.define("NX.coreui.store.SearchFilter",{extend:"Ext.data.Store",model:"NX.coreui.model.SearchFilter",autoLoad:true,proxy:{type:"memory",reader:{type:"json"}}});Ext.define("NX.coreui.view.task.TaskList",{extend:"NX.view.drilldown.Master",alias:"widget.nx-coreui-task-list",requires:["NX.I18n"],stateful:true,stateId:"nx-coreui-task-list",initComponent:function(){Ext.apply(this,{store:"Task",columns:[{xtype:"nx-iconcolumn",width:36,iconVariant:"x16",iconName:function(){return"task-default"}},{header:NX.I18n.get("Task_TaskList_Name_Header"),dataIndex:"name",stateId:"name",flex:1},{header:NX.I18n.get("Task_TaskList_Type_Header"),dataIndex:"typeName",stateId:"typeName",flex:1},{header:NX.I18n.get("Task_TaskList_Status_Header"),dataIndex:"statusDescription",stateId:"statusDescription"},{header:NX.I18n.get("Task_TaskList_Schedule_Header"),dataIndex:"schedule",stateId:"schedule"},{header:NX.I18n.get("Task_TaskList_NextRun_Header"),dataIndex:"nextRun",stateId:"nextRun",flex:1},{header:NX.I18n.get("Task_TaskList_LastRun_Header"),dataIndex:"lastRun",stateId:"lastRun",flex:1},{header:NX.I18n.get("Task_TaskList_LastResult_Header"),dataIndex:"lastRunResult",stateId:"lastRunResult"}],viewConfig:{emptyText:NX.I18n.get("Task_TaskList_EmptyState"),deferEmptyText:false},dockedItems:[{xtype:"nx-actions",items:[{xtype:"button",text:NX.I18n.get("Task_TaskList_New_Button"),glyph:"xf055@FontAwesome",action:"new",disabled:true}]}],plugins:[{ptype:"gridfilterbox",emptyText:NX.I18n.get("Task_TaskList_Filter_EmptyState")}]});this.callParent()}});Ext.define("NX.coreui.view.formfield.factory.FormfieldCheckboxFactory",{singleton:true,alias:"nx.formfield.factory.checkbox",create:function(b){var a={xtype:"checkbox",fieldLabel:b.label,helpText:b.helpText};if(b.initialValue){a.checked=Boolean("true"===b.initialValue)}return a}});Ext.define("NX.coreui.view.formfield.factory.FormfieldUrlFactory",{singleton:true,alias:["nx.formfield.factory.url"],create:function(b){var a={xtype:"nx-url",htmlDecode:true,fieldLabel:b.label,itemCls:b.required?"required-field":"",helpText:b.helpText,allowBlank:!b.required,useTrustStore:null,regex:b.regexValidation?new RegExp(b.regexValidation):null};if(b.initialValue){a.value=b.initialValue}return a}});Ext.define("NX.coreui.view.formfield.factory.FormfieldDateFieldFactory",{singleton:true,alias:["nx.formfield.factory.datefield","nx.formfield.factory.date"],create:function(b){var a={xtype:"datefield",htmlDecode:true,fieldLabel:b.label,itemCls:b.required?"required-field":"",helpText:b.helpText,allowBlank:!b.required,regex:b.regexValidation?new RegExp(b.regexValidation):null,value:new Date()};if(b.initialValue){a.value=new Date(Number(b.initialValue))}return a}});Ext.define("NX.coreui.view.formfield.factory.FormfieldNumberFieldFactory",{singleton:true,alias:["nx.formfield.factory.numberfield","nx.formfield.factory.number"],create:function(b){var a={xtype:"numberfield",fieldLabel:b.label,itemCls:b.required?"required-field":"",helpText:b.helpText,allowBlank:!b.required,regex:b.regexValidation?new RegExp(b.regexValidation):null};if(b.initialValue){a.value=Number(b.initialValue)}if(b.minValue){a.minValue=Number(b.minValue)}if(b.maxValue){a.maxValue=Number(b.maxValue)}return a}});Ext.define("NX.coreui.view.formfield.SettingsFieldSet",{extend:"Ext.form.FieldContainer",alias:"widget.nx-coreui-formfield-settingsfieldset",requires:["NX.coreui.view.formfield.factory.FormfieldCheckboxFactory","NX.coreui.view.formfield.factory.FormfieldComboFactory","NX.coreui.view.formfield.factory.FormfieldDateFieldFactory","NX.coreui.view.formfield.factory.FormfieldItemselectFactory","NX.coreui.view.formfield.factory.FormfieldNumberFieldFactory","NX.coreui.view.formfield.factory.FormfieldTextAreaFactory","NX.coreui.view.formfield.factory.FormfieldTextFieldFactory","NX.coreui.view.formfield.factory.FormfieldUrlFactory"],mixins:{logAware:"NX.LogAware"},initComponent:function(){var a=this;Ext.apply(a,{autoHeight:false,autoScroll:true,collapsed:false,items:[]});a.callParent()},formFields:undefined,setFormFields:function(c){var b=this,a;b.formFields=c;b.removeAll();if(b.formFields){Ext.Array.each(b.formFields,function(e){var d=Ext.ClassManager.getByAlias("nx.formfield.factory."+e.type);if(!d){b.logWarn("Missing factory for form-field type:",e.type);d=Ext.ClassManager.getByAlias("nx.formfield.factory.string")}if(d){a=Ext.apply(d.create(e),{requiresPermission:true,name:"property_"+e.id,factory:d});b.add(a)}})}b.up("form").isValid()},exportProperties:function(a){var c=this,b={},d;if(c.formFields){Ext.Array.each(c.formFields,function(e){d=a["property_"+e.id];if(Ext.isDefined(d)&&d!==null){b[e.id]=String(d);delete a["property_"+e.id]}else{b[e.id]=null}})}return b},importProperties:function(b,e,a){var d=this,c=d.up("form").getForm(),f={};if(Ext.encode(d.formFields)!==Ext.encode(e)){d.setFormFields(e);if(Ext.isDefined(a)&&!a.isSatisfied()){d.up("form").setEditable(false)}}if(b){if(d.formFields){Ext.Array.each(d.formFields,function(g){f["property_"+g.id]=""})}Ext.Object.each(b,function(g,h){f["property_"+g]=h});c.setValues(f)}},markInvalid:function(f){var d=this.up("form").getForm(),a=[],c,b,e;if(Ext.isDefined(f)){for(c in f){if(f.hasOwnProperty(c)){b=false;if(d){e=d.findField("property_"+c);if(!e){e=d.findField(c)}if(e){b=true;e.markInvalid(f[c])}}if(!b){a.push(f[c])}}}}if(a.length>0){NX.Messages.add({text:a.join("\n"),type:"warning"})}}});Ext.define("NX.coreui.store.TaskType",{extend:"Ext.data.Store",model:"NX.coreui.model.TaskType",proxy:{type:"direct",paramsAsHash:false,api:{read:"NX.direct.coreui_Task.readTypes"},reader:{type:"json",root:"data",idProperty:"id",successProperty:"success"}},sorters:{property:"name",direction:"ASC"}});Ext.define("NX.coreui.view.task.TaskScheduleMonthly",{extend:"Ext.form.FieldContainer",alias:"widget.nx-coreui-task-schedule-monthly",requires:["NX.util.DateFormat","NX.I18n"],initComponent:function(){var f=this,e=[];for(var g=0;g<7;g++){e.push({xtype:"panel",items:[],width:50})}for(var b=1;b<=32;b++){var d=b%7-1,a=b===32?"999":b;if(d===-1){d=6}e[d].items.push({xtype:"checkbox",name:"recurringDay-"+a,boxLabel:b===32?"Last":b,submitValue:false,recurringDayValue:a})}f.items=[{xtype:"datefield",name:"startDate",itemId:"startDate",fieldLabel:NX.I18n.get("Task_TaskScheduleDaily_StartDate_FieldLabel"),allowBlank:false,format:"m/d/Y",value:new Date(),submitValue:false},{xtype:"timefield",name:"startTime",itemId:"startTime",fieldLabel:NX.I18n.get("Task_TaskScheduleDaily_Recurring_FieldLabel"),helpText:"The time this task should start on days it will run in your time zone "+NX.util.DateFormat.getTimeZone()+".",allowBlank:false,format:"H:i",submitValue:false},{xtype:"checkboxgroup",fieldLabel:NX.I18n.get("Task_TaskScheduleMonthly_Days_FieldLabel"),allowBlank:false,blankText:NX.I18n.get("Task_TaskScheduleMonthly_Days_BlankText"),items:{xtype:"panel",layout:"column",items:e}}];f.callParent()}});Ext.define("NX.coreui.view.task.TaskFeature",{extend:"NX.view.drilldown.Drilldown",alias:"widget.nx-coreui-task-feature",requires:["NX.I18n"],initComponent:function(){Ext.apply(this,{iconName:"task-default",masters:[{xtype:"nx-coreui-task-list"}],tabs:[{xtype:"nx-coreui-task-summary",weight:10}],actions:[{xtype:"button",text:NX.I18n.get("Task_TaskFeature_Delete_Button"),glyph:"xf056@FontAwesome",action:"delete",disabled:true},{xtype:"button",text:NX.I18n.get("Task_TaskFeature_Run_Button"),glyph:"xf04b@FontAwesome",action:"run",handler:function(a){a.fireEvent("runaction")},disabled:true},{xtype:"button",text:NX.I18n.get("Task_TaskFeature_Stop_Button"),glyph:"xf04d@FontAwesome",action:"stop",handler:function(a){a.fireEvent("runaction")},disabled:true}]});this.callParent()}});Ext.define("NX.coreui.view.task.TaskScheduleWeekly",{extend:"Ext.form.FieldContainer",alias:"widget.nx-coreui-task-schedule-weekly",requires:["NX.util.DateFormat","NX.I18n"],initComponent:function(){var a=this,b=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],c=[];Ext.Array.each(b,function(d){c.push({xtype:"checkbox",name:"recurringDay-"+(b.indexOf(d)+1),boxLabel:Ext.String.capitalize(d),recurringDayValue:b.indexOf(d)+1,submitValue:false})});a.items=[{xtype:"datefield",name:"startDate",itemId:"startDate",fieldLabel:NX.I18n.get("Task_TaskScheduleDaily_StartDate_FieldLabel"),allowBlank:false,format:"m/d/Y",value:new Date(),submitValue:false},{xtype:"timefield",name:"startTime",itemId:"startTime",fieldLabel:NX.I18n.get("Task_TaskScheduleDaily_Recurring_FieldLabel"),helpText:"The time this task should start on days it will run in your time zone "+NX.util.DateFormat.getTimeZone()+".",allowBlank:false,format:"H:i",submitValue:false},{xtype:"checkboxgroup",fieldLabel:NX.I18n.get("Task_TaskScheduleMonthly_Days_FieldLabel"),allowBlank:false,blankText:NX.I18n.get("Task_TaskScheduleMonthly_Days_BlankText"),vertical:true,columns:1,items:c}];a.callParent()}});Ext.define("NX.coreui.view.task.TaskAdd",{extend:"NX.view.AddPanel",alias:"widget.nx-coreui-task-add",requires:["NX.Conditions","NX.I18n"],initComponent:function(){var a=this;a.settingsForm={xtype:"nx-coreui-task-settings-form",editableCondition:NX.Conditions.isPermitted("nexus:tasks:create"),editableMarker:NX.I18n.get("Task_TaskAdd_Create_Error"),buttons:[{text:NX.I18n.get("Task_TaskList_New_Button"),action:"add",formBind:true,ui:"nx-primary"},{text:NX.I18n.get("Add_Cancel_Button"),action:"back"}]};a.callParent()}});Ext.define("NX.coreui.view.task.TaskScheduleFieldSet",{extend:"Ext.form.FieldContainer",alias:"widget.nx-coreui-task-schedulefieldset",requires:["NX.I18n"],autoHeight:false,autoScroll:true,collapsed:false,defaults:{allowBlank:false},initComponent:function(){var a=this;a.items=[{xtype:"combo",name:"schedule",itemId:"schedule",fieldLabel:NX.I18n.get("Task_TaskScheduleFieldSet_Recurrence_FieldLabel"),helpText:NX.I18n.get("Task_TaskScheduleFieldSet_Recurrence_HelpText"),emptyText:NX.I18n.get("Task_TaskScheduleFieldSet_Recurrence_EmptyText"),editable:false,store:[["manual",NX.I18n.get("Task_TaskScheduleFieldSet_Recurrence_ManualItem")],["once",NX.I18n.get("Task_TaskScheduleFieldSet_Recurrence_OnceItem")],["hourly",NX.I18n.get("Task_TaskScheduleFieldSet_Recurrence_HourlyItem")],["daily",NX.I18n.get("Task_TaskScheduleFieldSet_Recurrence_DailyItem")],["weekly",NX.I18n.get("Task_TaskScheduleFieldSet_Recurrence_WeeklyItem")],["monthly",NX.I18n.get("Task_TaskScheduleFieldSet_Recurrence_MonthlyItem")],["advanced",NX.I18n.get("Task_TaskScheduleFieldSet_Recurrence_AdvancedItem")]],queryMode:"local",listeners:{change:function(e,d,b){var c=e.up("form"),f;if(b){f=e.ownerCt.down("nx-coreui-task-schedule-"+b);if(f){e.ownerCt.remove(f)}}if(d){e.ownerCt.add({xtype:"nx-coreui-task-schedule-"+d});c.getForm().checkValidity();c.isValid()}}}}];a.callParent()},getRecurringDays:function(){var b=this,c=b.query("checkbox[recurringDayValue]"),a=[];Ext.Array.each(c,function(d){if(d.value){a.push(d.recurringDayValue)}});return a},getStartDate:function(){var c=this,a=c.down("#startDate"),b=c.down("#startTime");if(a&&b){a=a.getValue();b=b.getValue();if(a&&b){a.setHours(b.getHours(),b.getMinutes(),0,0)}}return a},setStartDate:function(b){var d=this,a=d.down("#startDate"),c=d.down("#startTime");if(a&&c){a.setValue(b);c.setValue(b);c.resetOriginalValue()}},setRecurringDays:function(a){var b=this;Ext.Array.each(a,function(c){var d=b.down("checkbox[name=recurringDay-"+c+"]");if(d){d.setValue(true);d.resetOriginalValue()}})}});Ext.define("NX.coreui.view.task.TaskSelectType",{extend:"NX.view.drilldown.Master",alias:"widget.nx-coreui-task-selecttype",requires:["NX.I18n"],initComponent:function(){var a=this;a.columns=[{xtype:"nx-iconcolumn",width:36,iconVariant:"x16",iconName:function(){return"task-default"}},{header:NX.I18n.get("Task_TaskSelectType_Name_Header"),dataIndex:"name",flex:1}];a.plugins=[{ptype:"gridfilterbox",emptyText:NX.I18n.get("Task_TaskSelectType_Filter_EmptyText")}];a.store=Ext.create("NX.coreui.store.TaskType");a.store.addFilter([{property:"exposed",value:true}],false);a.dockedItems=[{xtype:"nx-actions"}];a.callParent()}});Ext.define("NX.coreui.view.task.TaskStatus",{extend:"Ext.panel.Panel",alias:"widget.nx-coreui-task-status",ui:"nx-inset",requires:["NX.I18n"],initComponent:function(){var a=this;a.items={xtype:"grid",columns:[{text:NX.I18n.get("TaskFeature_Status_Node_Column"),dataIndex:"nodeId",width:400},{text:NX.I18n.get("TaskFeature_Status_Status_Column"),dataIndex:"statusDescription",width:200},{text:NX.I18n.get("TaskFeature_Status_LastResult_Column"),dataIndex:"lastRunResult",flex:1}]};a.callParent()},getGrid:function(){var a=this;return a.down("grid")}});Ext.define("NX.coreui.controller.Tasks",{extend:"NX.controller.Drilldown",requires:["NX.view.info.Panel","NX.view.info.Entry","NX.Conditions","NX.Dialogs","NX.Messages","NX.Permissions","NX.I18n"],masters:["nx-coreui-task-list"],stores:["Task","TaskType"],models:["Task"],views:["task.TaskAdd","task.TaskFeature","task.TaskList","task.TaskSelectType","task.TaskScheduleFieldSet","task.TaskScheduleAdvanced","task.TaskScheduleDaily","task.TaskScheduleHourly","task.TaskScheduleManual","task.TaskScheduleMonthly","task.TaskScheduleOnce","task.TaskScheduleWeekly","task.TaskSummary","task.TaskStatus","task.TaskSettings","task.TaskSettingsForm","formfield.SettingsFieldSet"],refs:[{ref:"feature",selector:"nx-coreui-task-feature"},{ref:"content",selector:"nx-feature-content"},{ref:"list",selector:"nx-coreui-task-list"},{ref:"summary",selector:"nx-coreui-task-summary"},{ref:"settings",selector:"nx-coreui-task-settings"}],icons:{"task-default":{file:"time.png",variants:["x16","x32"]}},permission:"nexus:tasks",init:function(){var a=this;a.features={mode:"admin",path:"/System/Tasks",text:NX.I18n.get("Tasks_Text"),description:NX.I18n.get("Tasks_Description"),view:{xtype:"nx-coreui-task-feature"},iconConfig:{file:"time.png",variants:["x16","x32"]},visible:function(){return NX.Permissions.check("nexus:tasks:read")}};a.callParent();a.listen({store:{"#Task":{load:a.reselect}},controller:{"#Refresh":{refresh:a.loadStores}},component:{"nx-coreui-task-list":{beforerender:a.loadStores},"nx-coreui-task-list button[action=new]":{click:a.showSelectTypePanel},"nx-coreui-task-feature button[action=run]":{runaction:a.runTask,afterrender:a.bindRunButton},"nx-coreui-task-feature button[action=stop]":{runaction:a.stopTask,afterrender:a.bindStopButton},"nx-coreui-task-settings button[action=save]":{click:a.updateTask},"nx-coreui-task-add button[action=add]":{click:a.createTask},"nx-coreui-task-selecttype":{cellclick:a.showAddPanel}}})},getDescription:function(a){return a.get("name")+" ("+a.get("typeName")+")"},onSelection:function(e,b){var d=this,c=d.getSettings(),a;if(Ext.isDefined(b)){d.showSummary(b);a=d.getStore("TaskType").getById(b.get("typeId"));if(a){if(!c){d.addTab({xtype:"nx-coreui-task-settings",title:NX.I18n.get("Tasks_Settings_Title"),weight:20})}d.showSettings(b)}else{if(c){d.removeTab(c)}}}},showSummary:function(b){var d={},c=this,a=c.getSummary();d[NX.I18n.get("Tasks_ID_Info")]=b.getId();d[NX.I18n.get("Tasks_Name_Info")]=b.get("name");d[NX.I18n.get("Tasks_Type_Info")]=b.get("typeName");d[NX.I18n.get("Tasks_Status_Info")]=b.get("statusDescription");d[NX.I18n.get("Tasks_NextRun_Info")]=b.get("nextRun");d[NX.I18n.get("Tasks_LastRun_Info")]=b.get("lastRun");d[NX.I18n.get("Tasks_LastResult_Info")]=b.get("lastRunResult");a.showInfo(d);c.maybeShowSummaryStatuses(b)},maybeShowSummaryStatuses:function(a){var b=this;if(!a.clusteredTaskStatesStore){b.getSummary().getStatuses().hide()}else{b.getSummary().getStatuses().show();b.getSummary().getStatuses().getGrid().reconfigure(a.clusteredTaskStatesStore)}},showSettings:function(a){this.getSettings().loadRecord(a)},showSelectTypePanel:function(){var a=this;a.getStore("TaskType").clearFilter();a.setItemName(1,NX.I18n.get("Tasks_Select_Title"));a.loadCreateWizard(1,true,Ext.widget({xtype:"panel",layout:{type:"vbox",align:"stretch"},items:{xtype:"nx-coreui-task-selecttype",flex:1}}))},showAddPanel:function(e,f,c,b){var d=this,a;d.setItemName(2,NX.I18n.format("Tasks_Create_Title",b.get("name")));d.loadCreateWizard(2,true,a=Ext.widget({xtype:"panel",layout:{type:"vbox",align:"stretch",pack:"start"},items:[{xtype:"nx-coreui-task-add",flex:1}]}));a.down("nx-settingsform").loadRecord(d.getTaskModel().create({typeId:b.getId(),enabled:true}))},updateTask:function(b){var d=this,c=b.up("form"),a=c.getValues();d.getContent().getEl().mask(NX.I18n.get("Tasks_Update_Mask"));NX.direct.coreui_Task.update(a,function(e){d.getContent().getEl().unmask();if(Ext.isObject(e)){if(e.success){NX.Messages.add({text:NX.I18n.format("Tasks_Update_Success",d.getDescription(d.getTaskModel().create(e.data))),type:"success"});c.fireEvent("submitted",c);d.getStore("Task").load()}else{if(Ext.isDefined(e.errors)){c.markInvalid(e.errors)}}}})},createTask:function(b){var d=this,c=b.up("form"),a=c.getValues();NX.direct.coreui_Task.create(a,function(e){if(Ext.isObject(e)){if(e.success){NX.Messages.add({text:NX.I18n.format("Tasks_Create_Success",d.getDescription(d.getTaskModel().create(e.data))),type:"success"});d.getStore("Task").load()}else{if(Ext.isDefined(e.errors)){c.markInvalid(e.errors)}}}})},bindNewButton:function(a){a.mon(NX.Conditions.and(NX.Conditions.isPermitted("nexus:tasks:create"),NX.Conditions.storeHasRecords("TaskType")),{satisfied:a.enable,unsatisfied:a.disable,scope:a})},bindRunButton:function(a){a.mon(NX.Conditions.and(NX.Conditions.isPermitted("nexus:tasks:start"),NX.Conditions.gridHasSelection("nx-coreui-task-list",function(b){return b.get("runnable")})),{satisfied:a.enable,unsatisfied:a.disable,scope:a})},bindStopButton:function(a){a.mon(NX.Conditions.and(NX.Conditions.isPermitted("nexus:tasks:stop"),NX.Conditions.gridHasSelection("nx-coreui-task-list",function(b){return b.get("stoppable")})),{satisfied:a.enable,unsatisfied:a.disable,scope:a})},deleteModel:function(a){var c=this,b=c.getDescription(a);NX.direct.coreui_Task.remove(a.getId(),function(d){c.getStore("Task").load();if(Ext.isObject(d)&&d.success){NX.Messages.add({text:NX.I18n.format("Tasks_Delete_Success",b),type:"success"})}})},runTask:function(){var d=this,b=NX.Bookmarks.getBookmark(),a,e,c;d.getStore("Task").load();e=decodeURIComponent(b.getSegment(1));a=d.getList().getStore().getById(e);c=d.getDescription(a);if(a){c=d.getDescription(a);NX.Dialogs.askConfirmation(NX.I18n.get("Tasks_RunConfirm_Title"),NX.I18n.format("Tasks_RunConfirm_HelpText",c),function(){d.getContent().getEl().mask(NX.I18n.get("Tasks_Run_Mask"));NX.direct.coreui_Task.run(a.getId(),function(f){d.getContent().getEl().unmask();if(Ext.isObject(f)&&f.success){d.getStore("Task").load();NX.Messages.add({text:NX.I18n.format("Tasks_Run_Success",c),type:"success"})}})},{scope:d})}},stopTask:function(){var d=this,b=NX.Bookmarks.getBookmark(),a,e,c;d.getStore("Task").load();e=decodeURIComponent(b.getSegment(1));a=d.getList().getStore().getById(e);c=d.getDescription(a);if(a){c=d.getDescription(a);NX.Dialogs.askConfirmation(NX.I18n.get("Tasks_StopConfirm_Title"),NX.I18n.format("Tasks_StopConfirm_HelpText",c),function(){d.getContent().getEl().mask(NX.I18n.get("Tasks_Stop_Mask"));NX.direct.coreui_Task.stop(a.getId(),function(f){d.getContent().getEl().unmask();if(Ext.isObject(f)&&f.success){d.getStore("Task").load();NX.Messages.add({text:NX.I18n.format("Tasks_Stop_Success",c),type:"success"})}})},{scope:d})}}});Ext.define("NX.coreui.view.repository.recipe.BowerHosted",{extend:"NX.coreui.view.repository.RepositorySettingsForm",alias:"widget.nx-coreui-repository-bower-hosted",requires:["NX.coreui.view.repository.facet.StorageFacet","NX.coreui.view.repository.facet.StorageFacetHosted"],initComponent:function(){var a=this;a.items=[{xtype:"nx-coreui-repository-storage-facet"},{xtype:"nx-coreui-repository-storage-hosted-facet"}];a.callParent()}});Ext.define("NX.coreui.view.ssl.SslCertificateDetailsPanel",{extend:"NX.view.AddPanel",alias:"widget.nx-coreui-sslcertificate-details-panel",requires:["NX.Conditions","NX.I18n"],initComponent:function(){Ext.apply(this,{settingsForm:{xtype:"nx-coreui-sslcertificate-details-form",buttons:[{text:NX.I18n.get("Ssl_SslCertificateDetailsWindow_Cancel_Button"),action:"back"}]}});this.callParent()}});Ext.define("NX.coreui.view.ssl.SslCertificateDetailsForm",{extend:"NX.view.SettingsForm",alias:"widget.nx-coreui-sslcertificate-details-form",requires:["NX.util.DateFormat","NX.I18n"],buttons:undefined,initComponent:function(){var a=this;a.items=[{xtype:"panel",ui:"nx-subsection",title:NX.I18n.get("Ssl_SslCertificateDetailsForm_Subject_Title"),items:{xtype:"fieldset",margin:0,padding:0,defaults:{xtype:"displayfield",labelAlign:"left"},items:[{name:"subjectCommonName",fieldLabel:NX.I18n.get("Ssl_SslCertificateDetailsForm_SubjectCommonName_FieldLabel")},{name:"subjectOrganization",fieldLabel:NX.I18n.get("Ssl_SslCertificateDetailsForm_SubjectOrganization_FieldLabel")},{name:"subjectOrganizationalUnit",fieldLabel:NX.I18n.get("Ssl_SslCertificateDetailsForm_SubjectUnit_FieldLabel")}]}},{xtype:"panel",ui:"nx-subsection",title:NX.I18n.get("Ssl_SslCertificateDetailsForm_Issuer_Title"),items:{xtype:"fieldset",margin:0,padding:0,defaults:{xtype:"displayfield",labelAlign:"left"},items:[{name:"issuerCommonName",fieldLabel:NX.I18n.get("Ssl_SslCertificateDetailsForm_IssuerName_FieldLabel")},{name:"issuerOrganization",fieldLabel:NX.I18n.get("Ssl_SslCertificateDetailsForm_IssuerOrganization_FieldLabel")},{name:"issuerOrganizationalUnit",fieldLabel:NX.I18n.get("Ssl_SslCertificateDetailsForm_IssuerUnit_FieldLabel")}]}},{xtype:"panel",ui:"nx-subsection",title:NX.I18n.get("Ssl_SslCertificateDetailsForm_Certificate_Title"),items:{xtype:"fieldset",margin:0,padding:"0 0 10px 0",defaults:{xtype:"displayfield",labelAlign:"left"},items:[{name:"issuedOn",fieldLabel:NX.I18n.get("Ssl_SslCertificateDetailsForm_CertificateIssuedOn_FieldLabel"),renderer:NX.util.DateFormat.timestampRenderer()},{name:"expiresOn",fieldLabel:NX.I18n.get("Ssl_SslCertificateDetailsForm_CertificateValidUntil_FieldLabel"),renderer:NX.util.DateFormat.timestampRenderer()},{name:"fingerprint",fieldLabel:NX.I18n.get("Ssl_SslCertificateDetailsForm_CertificateFingerprint_FieldLabel")}]}}];a.callParent()}});Ext.define("NX.coreui.view.ssl.SslCertificateList",{extend:"NX.view.drilldown.Master",alias:"widget.nx-coreui-sslcertificate-list",requires:["NX.Icons","NX.I18n"],stateful:true,stateId:"nx-coreui-sslcertificate-list",initComponent:function(){var a=this;a.store="SslCertificate";a.columns=[{xtype:"nx-iconcolumn",width:36,iconVariant:"x16",iconName:function(){return"sslcertificate-default"}},{header:NX.I18n.get("Ssl_SslCertificateList_Name_Header"),dataIndex:"subjectCommonName",stateId:"subjectCommonName",flex:1},{header:NX.I18n.get("Ssl_SslCertificateList_IssuedTo_Header"),dataIndex:"subjectOrganization",stateId:"subjectOrganization",flex:1},{header:NX.I18n.get("Ssl_SslCertificateList_IssuedBy_Header"),dataIndex:"issuerOrganization",stateId:"issuerOrganization",flex:1},{header:NX.I18n.get("Ssl_SslCertificateList_Fingerprint_Header"),dataIndex:"fingerprint",stateId:"fingerprint",flex:1}];a.viewConfig={emptyText:NX.I18n.get("Ssl_SslCertificateList_EmptyText"),deferEmptyText:false};a.plugins=[{ptype:"gridfilterbox",emptyText:NX.I18n.get("Ssl_SslCertificateList_Filter_EmptyText")}];a.dockedItems=[{xtype:"nx-actions",items:[{xtype:"button",text:NX.I18n.get("Ssl_SslCertificateList_New_Button"),glyph:"xf055@FontAwesome",action:"new",disabled:true,menu:[{text:NX.I18n.get("Ssl_SslCertificateList_Load_Button"),action:"newfromserver",iconCls:NX.Icons.cls("sslcertificate-add-by-server","x16")},{text:NX.I18n.get("Ssl_SslCertificateList_Paste_Button"),action:"newfrompem",iconCls:NX.Icons.cls("sslcertificate-add-by-pem","x16")}]}]}];a.callParent()}});Ext.define("NX.coreui.model.SslCertificate",{extend:"Ext.data.Model",fields:[{name:"id",type:"string"},{name:"fingerprint",type:"string"},{name:"pem",type:"string"},{name:"serialNumber",type:"string"},{name:"subjectCommonName",type:"string"},{name:"subjectOrganization",type:"string"},{name:"subjectOrganizationalUnit",type:"string"},{name:"issuerCommonName",type:"string"},{name:"issuerOrganization",type:"string"},{name:"issuerOrganizationalUnit",type:"string"},{name:"issuedOn",type:"int"},{name:"expiresOn",type:"int"},{name:"inTrustStore",type:"boolean"}]});Ext.define("NX.coreui.store.SslCertificate",{extend:"Ext.data.Store",model:"NX.coreui.model.SslCertificate",proxy:{type:"direct",paramsAsHash:false,api:{read:"NX.direct.ssl_TrustStore.read"},reader:{type:"json",root:"data",idProperty:"id",successProperty:"success"}},sorters:{property:"subjectCommonName",direction:"ASC"}});Ext.define("NX.coreui.view.ssl.SslCertificateAddFromPem",{extend:"NX.view.AddPanel",alias:"widget.nx-coreui-sslcertificate-add-from-pem",requires:["NX.Icons","NX.I18n"],defaultFocus:"pem",initComponent:function(){var a=this;a.settingsForm={xtype:"nx-settingsform",items:[{xtype:"textareafield",name:"pem",itemId:"pem",cls:"nx-monospace-field",rows:16}],buttons:[{text:NX.I18n.get("Ssl_SslCertificateList_New_Button"),action:"load",formBind:true,ui:"nx-primary"},{text:NX.I18n.get("Ssl_SslCertificateAddFromPem_Cancel_Button"),action:"back"}]};a.callParent()}});Ext.define("NX.coreui.view.ssl.SslCertificateDetailsWindow",{extend:"NX.view.AddWindow",alias:"widget.nx-coreui-sslcertificate-details-window",requires:["NX.Conditions","NX.I18n"],initComponent:function(){Ext.apply(this,{ui:"nx-inset",title:NX.I18n.get("Ssl_SslCertificateDetailsWindow_Title"),items:{xtype:"nx-coreui-sslcertificate-details-form",frame:false,buttons:[{text:NX.I18n.get("Ssl_SslCertificateDetailsWindow_Cancel_Button"),handler:function(){this.up("window").close()}}]}});this.callParent()}});Ext.define("NX.coreui.view.ssl.SslCertificateFeature",{extend:"NX.view.drilldown.Drilldown",alias:"widget.nx-coreui-sslcertificate-feature",requires:["NX.I18n"],initComponent:function(){Ext.apply(this,{iconName:"sslcertificate-default",masters:[{xtype:"nx-coreui-sslcertificate-list"}],tabs:{xtype:"nx-coreui-sslcertificate-details"},actions:[{xtype:"button",text:NX.I18n.get("Ssl_SslCertificateFeature_Delete_Button"),glyph:"xf056@FontAwesome",action:"delete",disabled:true}]});this.callParent()}});Ext.define("NX.coreui.controller.SslCertificates",{extend:"NX.controller.Drilldown",requires:["NX.Messages","NX.Permissions","NX.I18n"],masters:["nx-coreui-sslcertificate-list"],models:["SslCertificate"],stores:["SslCertificate"],views:["ssl.SslCertificateAddFromPem","ssl.SslCertificateAddFromServer","ssl.SslCertificateDetails","ssl.SslCertificateDetailsForm","ssl.SslCertificateDetailsPanel","ssl.SslCertificateDetailsWindow","ssl.SslCertificateFeature","ssl.SslCertificateList"],refs:[{ref:"feature",selector:"nx-coreui-sslcertificate-feature"},{ref:"content",selector:"nx-feature-content"},{ref:"list",selector:"nx-coreui-sslcertificate-list"},{ref:"details",selector:"nx-coreui-sslcertificate-feature nx-coreui-sslcertificate-details-form"}],icons:{"sslcertificate-default":{file:"ssl_certificates.png",variants:["x16","x32"]},"sslcertificate-add-by-pem":{file:"server_add.png",variants:["x16","x32"]},"sslcertificate-add-by-server":{file:"server_connect.png",variants:["x16","x32"]}},permission:"nexus:ssl-truststore",init:function(){var a=this;a.features={mode:"admin",path:"/Security/SSL Certificates",view:{xtype:"nx-coreui-sslcertificate-feature"},text:NX.I18n.get("SslCertificates_Text"),description:NX.I18n.get("SslCertificates_Description"),iconConfig:{file:"ssl_certificates.png",variants:["x16","x32"]},visible:function(){return NX.Permissions.check("nexus:ssl-truststore:read")}};a.callParent();a.listen({controller:{"#Refresh":{refresh:a.loadStores}},store:{"#SslCertificate":{load:a.reselect}},component:{"nx-coreui-sslcertificate-list menuitem[action=newfromserver]":{click:a.showAddWindowFromServer},"nx-coreui-sslcertificate-list menuitem[action=newfrompem]":{click:a.showAddWindowFromPem},"nx-coreui-sslcertificate-add-from-pem button[action=load]":{click:a.loadCertificateByPem},"nx-coreui-sslcertificate-add-from-server button[action=load]":{click:a.loadCertificateByServer},"nx-coreui-sslcertificate-details-panel button[action=add]":{click:a.create},"nx-coreui-sslcertificate-details-panel button[action=remove]":{click:a.onRemoveClick},"nx-coreui-sslcertificate-details-window button[action=add]":{click:a.create},"nx-coreui-sslcertificate-details-window button[action=remove]":{click:a.onRemoveClick}}})},getDescription:function(a){return a.get("subjectCommonName")},onSelection:function(b,a){if(Ext.isDefined(a)){this.getDetails().loadRecord(a)}},showAddWindowFromServer:function(){var a=this;a.setItemName(1,NX.I18n.get("SslCertificates_Load_Title"));a.loadCreateWizard(1,true,Ext.create("widget.nx-coreui-sslcertificate-add-from-server"))},showAddWindowFromPem:function(){var a=this;a.setItemName(1,NX.I18n.get("SslCertificates_Paste_Title"));a.loadCreateWizard(1,true,Ext.create("widget.nx-coreui-sslcertificate-add-from-pem"))},showCertificateDetailsPanel:function(a){var e=this,b=Ext.widget("nx-coreui-sslcertificate-details-panel"),d=b.down("form"),c=e.getSslCertificateModel().create(a);e.overrideLoadRecord(d);d.loadRecord(c);e.setItemName(2,NX.I18n.get("Ssl_SslCertificateDetailsWindow_Title"));e.loadCreateWizard(2,true,b)},showCertificateDetailsWindow:function(a){var e=this,d=Ext.widget("nx-coreui-sslcertificate-details-window"),c=d.down("form"),b=e.getSslCertificateModel().create(a);e.overrideLoadRecord(c);c.loadRecord(b)},loadCertificateByPem:function(b){var c=this,a=b.up("form").getForm(),d=a.getFieldValues()["pem"];c.getContent().getEl().mask(NX.I18n.get("SslTrustStore_Load_Mask"));NX.direct.ssl_Certificate.details(d,function(e){c.getContent().getEl().unmask();if(Ext.isObject(e)){if(e.success){c.showCertificateDetailsPanel(e.data)}else{if(e.errors){a.markInvalid(e.errors)}}}})},loadCertificateByServer:function(b){var c=this,e=b.up("form").getForm().getFieldValues()["server"],a=c.parseHostAndPort(e),d=e&&Ext.String.startsWith(e,"https://")?"https":undefined;c.getContent().getEl().mask(NX.I18n.get("SslTrustStore_Load_Mask"));NX.direct.ssl_Certificate.retrieveFromHost(a[0],a[1],d,function(f){c.getContent().getEl().unmask();if(Ext.isObject(f)&&f.success){c.showCertificateDetailsPanel(f.data)}})},parseHostAndPort:function(c){var b,a;if(!c){return[]}if(c.indexOf(":")===-1){return[c]}if(c.indexOf("/")===-1){c.split(":")}b=/[^:]*:\/\/([^:\/]*)(:([0-9]*))?/;a=c.match(b);if(a){return[a[1],Ext.Number.from(a[3],undefined)]}return[c]},closeCertDetailsWindowIfExists:function(a){if(a){var b=a.up("nx-coreui-sslcertificate-details-window");if(b){b.close()}}},create:function(b){var e=this,d=b.up("form"),a=d.getRecord(),c=e.getDescription(a);NX.direct.ssl_TrustStore.create(a.get("pem"),function(f){e.getStore("SslCertificate").load();if(Ext.isObject(f)&&f.success){NX.Messages.add({text:NX.I18n.format("SslCertificates_Load_Success",c),type:"success"});e.closeCertDetailsWindowIfExists(b)}})},onRemoveClick:function(b){var c=b.up("form"),a=c.getRecord();this.deleteModel(a,b)},deleteModel:function(a,b){var d=this,c=d.getDescription(a);NX.direct.ssl_TrustStore.remove(a.getId(),function(e){d.getStore("SslCertificate").load();if(Ext.isObject(e)&&e.success){NX.Messages.add({text:NX.I18n.format("SslCertificates_Delete_Success",c),type:"success"});d.closeCertDetailsWindowIfExists(b)}})},overrideLoadRecord:function(a){Ext.override(a,{loadRecord:function(b){var d=this,e=d.getDockedItems('toolbar[dock="bottom"]')[0],c;if(b){if(b.get("inTrustStore")){e.insert(0,{text:NX.I18n.get("SslCertificates_Remove_Button"),action:"remove",formBind:true,disabled:true,ui:"nx-primary",glyph:"xf056@FontAwesome"});c=e.down("button[action=remove]");d.mon(NX.Conditions.isPermitted("nexus:ssl-truststore:delete"),{satisfied:c.enable,unsatisfied:c.disable,scope:c})}else{e.insert(0,{text:NX.I18n.get("SslCertificates_Add_Button"),action:"add",formBind:true,disabled:true,ui:"nx-primary",glyph:"xf055@FontAwesome"});c=e.down("button[action=add]");d.mon(NX.Conditions.isPermitted("nexus:ssl-truststore:create"),{satisfied:c.enable,unsatisfied:c.disable,scope:c})}}d.callParent(arguments)}})}});Ext.define("NX.coreui.view.repository.RepositorySettings",{extend:"NX.view.SettingsPanel",alias:"widget.nx-coreui-repository-settings",requires:["NX.I18n"],initComponent:function(){Ext.apply(this,{title:NX.I18n.get("Repository_RepositorySettings_Title"),settingsForm:{xtype:"nx-coreui-repository-settings-form"},dockedItems:null});this.callParent()}});Ext.define("NX.coreui.view.repository.recipe.RubygemsHosted",{extend:"NX.coreui.view.repository.RepositorySettingsForm",alias:"widget.nx-coreui-repository-rubygems-hosted",requires:["NX.Conditions","NX.I18n","NX.coreui.view.repository.facet.StorageFacet","NX.coreui.view.repository.facet.StorageFacetHosted"],initComponent:function(){var a=this;a.items=[{xtype:"nx-coreui-repository-storage-facet"},{xtype:"nx-coreui-repository-storage-hosted-facet"}];a.callParent()}});Ext.define("NX.coreui.store.Bundle",{extend:"Ext.data.Store",model:"NX.coreui.model.Bundle",proxy:{type:"direct",paramsAsHash:false,api:{read:"NX.direct.coreui_Bundle.read"},reader:{type:"json",root:"data",idProperty:"id",successProperty:"success"}},sorters:{property:"id",direction:"ASC"}});Ext.define("NX.coreui.controller.Bundles",{extend:"NX.controller.Drilldown",requires:["NX.view.info.Panel","NX.view.info.Entry","NX.util.Url","NX.Permissions","NX.I18n"],masters:["nx-coreui-system-bundlelist"],stores:["Bundle"],views:["system.Bundles","system.BundleList"],refs:[{ref:"feature",selector:"nx-coreui-system-bundles"},{ref:"list",selector:"nx-coreui-system-bundlelist"},{ref:"info",selector:"nx-coreui-system-bundles nx-info-panel"}],icons:{"bundle-default":{file:"plugin.png",variants:["x16","x32"]}},init:function(){var a=this;a.features={mode:"admin",path:"/System/Bundles",text:NX.I18n.get("Bundles_Text"),description:NX.I18n.get("Bundles_Description"),view:"NX.coreui.view.system.Bundles",iconConfig:{file:"plugin.png",variants:["x16","x32"]},visible:function(){return NX.Permissions.check("nexus:bundles:read")}};a.callParent();a.listen({controller:{"#Refresh":{refresh:a.loadStores}},store:{"#Bundle":{load:a.reselect}}})},getDescription:function(a){return a.get("name")},onSelection:function(c,a){var b=this,d,e;if(Ext.isDefined(a)){d={};d[NX.I18n.get("Bundles_ID_Info")]=a.get("id");d[NX.I18n.get("Bundles_Name_Info")]=a.get("name");d[NX.I18n.get("Bundles_SymbolicName_Info")]=a.get("symbolicName");d[NX.I18n.get("Bundles_Version_Info")]=a.get("version");d[NX.I18n.get("Bundles_State_Info")]=a.get("state");d[NX.I18n.get("Bundles_Location_Info")]=a.get("location");d[NX.I18n.get("Bundles_StartLevel_Info")]=a.get("startLevel");d[NX.I18n.get("Bundles_LastModified_Info")]=a.get("lastModified");d[NX.I18n.get("Bundles_Fragment_Info")]=a.get("fragment");d[NX.I18n.get("Bundles_Fragments_Info")]=a.get("fragments");d[NX.I18n.get("Bundles_FragmentHosts_Info")]=a.get("fragmentHosts");e=a.get("headers");if(e){Ext.iterate(e,function(f,g){d[NX.I18n.format("Bundles_Summary_Info",f)]=g})}b.getInfo().showInfo(d)}}});Ext.define("NX.coreui.store.PrivilegeReference",{extend:"Ext.data.Store",model:"NX.coreui.model.Reference",proxy:{type:"direct",api:{read:"NX.direct.coreui_Privilege.readReferences"},reader:{type:"json",root:"data",idProperty:"id",successProperty:"success"}},sorters:{property:"name",direction:"ASC"}});Ext.define("NX.coreui.model.Node",{extend:"Ext.data.Model",idProperty:"nodeIdentity",fields:[{name:"nodeIdentity",type:"string"},{name:"local",type:"bool"},{name:"socketAddress",type:"string"},{name:"attributes",type:"auto"}]});Ext.define("NX.coreui.store.Node",{extend:"Ext.data.Store",model:"NX.coreui.model.Node",proxy:{type:"direct",paramsAsHash:false,api:{read:"NX.direct.proui_Node.read"},reader:{type:"json",root:"data",idProperty:"nodeIdentity",successProperty:"success"}},sorters:{property:"local",direction:"ASC"}});Ext.define("NX.coreui.model.User",{extend:"Ext.data.Model",idProperty:"userId",fields:[{name:"userId",type:"string",sortType:"asUCText"},{name:"version",type:"string",sortType:"asUCText"},{name:"realm",type:"string",sortType:"asUCText"},{name:"firstName",type:"string",sortType:"asUCText"},{name:"lastName",type:"string",sortType:"asUCText"},{name:"email",type:"string",sortType:"asUCText"},{name:"status",type:"string",sortType:"asUCText"},{name:"roles",type:"auto"},{name:"external",type:"boolean"},{name:"externalRoles",type:"auto"}]});Ext.define("NX.coreui.view.privilege.PrivilegeSettings",{extend:"NX.view.SettingsPanel",alias:"widget.nx-coreui-privilege-settings",settingsForm:{xtype:"nx-coreui-privilege-settings-form"}});Ext.define("NX.coreui.model.Privilege",{extend:"Ext.data.Model",fields:[{name:"id",type:"string"},{name:"version",type:"string"},{name:"name",type:"string",sortType:"asUCText"},{name:"description",type:"string",sortType:"asUCText"},{name:"type",type:"string",sortType:"asUCText"},{name:"readOnly",type:"boolean"},{name:"properties",type:"auto"},{name:"permission",type:"string",sortType:"asUCText"}]});Ext.define("NX.coreui.store.Privilege",{extend:"Ext.data.Store",model:"NX.coreui.model.Privilege",proxy:{type:"direct",api:{read:"NX.direct.coreui_Privilege.read"},reader:{type:"json",root:"data",idProperty:"id",successProperty:"success"}},buffered:true,pageSize:300,trailingBufferZone:20,leadingBufferZone:50,remoteFilter:true,remoteSort:true,sorters:{property:"name",direction:"ASC"}});Ext.define("NX.coreui.controller.SearchRubygems",{extend:"NX.app.Controller",requires:["NX.I18n"],init:function(){var b=this,a=b.getController("NX.coreui.controller.Search");a.registerCriteria([{id:"assets.attributes.rubygems.platform",group:NX.I18n.get("SearchRubygems_Group"),config:{format:"rubygems",fieldLabel:NX.I18n.get("SearchRubygems_Platform_FieldLabel"),width:250}},{id:"assets.attributes.rubygems.summary",group:NX.I18n.get("SearchRubygems_Group"),config:{format:"rubygems",fieldLabel:NX.I18n.get("SearchRubygems_Summary_FieldLabel"),width:250}},{id:"assets.attributes.rubygems.description",group:NX.I18n.get("SearchRubygems_Group"),config:{format:"rubygems",fieldLabel:NX.I18n.get("SearchRubygems_Description_FieldLabel"),width:250}}],b);a.registerFilter({id:"rubygems",name:"Rubygems",text:NX.I18n.get("SearchRubygems_Text"),description:NX.I18n.get("SearchRubygems_Description"),readOnly:true,criterias:[{id:"format",value:"rubygems",hidden:true},{id:"name.raw"},{id:"version"},{id:"assets.attributes.rubygems.platform"},{id:"assets.attributes.rubygems.summary"},{id:"assets.attributes.rubygems.description"}]},b)}});Ext.define("NX.coreui.view.repository.facet.DockerConnectorFacet",{extend:"Ext.form.FieldContainer",alias:"widget.nx-coreui-repository-docker-connector-facet",requires:["NX.I18n","NX.State"],initComponent:function(){var a=this;a.items=[{xtype:"fieldset",itemId:"dockerConnectors",cls:"nx-form-section",title:NX.I18n.get("Repository_Facet_DockerConnectorFacet_Title"),width:600,items:[{xtype:"panel",layout:{type:"hbox",align:"center",pack:"center"},items:[{xtype:"panel",bodypadding:"10px",width:"85%",html:NX.I18n.get("Repository_Facet_DockerConnectorFacet_Help")}]},{xtype:"fieldcontainer",fieldLabel:NX.I18n.get("Repository_Facet_DockerConnectorFacet_HttpPort_FieldLabel"),helpText:NX.I18n.get("Repository_Facet_DockerConnectorFacet_HttpPort_HelpText"),layout:"hbox",items:[a.createCheckbox("http"),a.createPort("http")]},{xtype:"fieldcontainer",fieldLabel:NX.I18n.get("Repository_Facet_DockerConnectorFacet_HttpsPort_FieldLabel"),helpText:NX.I18n.get("Repository_Facet_DockerConnectorFacet_HttpsPort_HelpText"),layout:"hbox",items:[a.createCheckbox("https"),a.createPort("https")]}]}];a.callParent()},createCheckbox:function(a){return{xtype:"checkbox",itemId:a+"Enabled",listeners:{change:function(){var c=this.up("form"),b=c.down("#"+a+"Port");if(this.getValue()){b.enable()}else{b.disable()}c.isValid()}}}},createPort:function(a){return{xtype:"numberfield",name:"attributes.docker."+a+"Port",itemId:a+"Port",minValue:1,maxValue:65536,allowDecimals:false,allowExponential:false,allowBlank:false,disabled:true,width:565,style:{marginLeft:"5px"},listeners:{change:function(){var b=this.up("form").down("#"+a+"Enabled");if(this.getValue()&&!b.getValue()){b.setValue(true);b.resetOriginalValue()}}}}}});Ext.define("NX.coreui.view.repository.recipe.DockerProxy",{extend:"NX.coreui.view.repository.RepositorySettingsForm",alias:"widget.nx-coreui-repository-docker-proxy",requires:["NX.coreui.view.repository.facet.ProxyFacet","NX.coreui.view.repository.facet.StorageFacet","NX.coreui.view.repository.facet.HttpClientFacet","NX.coreui.view.repository.facet.NegativeCacheFacet","NX.coreui.view.repository.facet.DockerConnectorFacet","NX.coreui.view.repository.facet.DockerProxyFacet","NX.coreui.view.repository.facet.DockerV1Facet"],initComponent:function(){var a=this;a.items=[{xtype:"nx-coreui-repository-docker-connector-facet"},{xtype:"nx-coreui-repository-docker-v1-facet"},{xtype:"nx-coreui-repository-proxy-facet"},{xtype:"nx-coreui-repository-storage-facet"},{xtype:"nx-coreui-repository-negativecache-facet"},{xtype:"nx-coreui-repository-httpclient-facet"}];a.callParent();a.down("#proxyFieldSet").add(1,{xtype:"nx-coreui-repository-docker-proxy-facet"})}});Ext.define("NX.coreui.model.Selector",{extend:"Ext.data.Model",fields:[{name:"id",type:"string",sortType:"asUCText"},{name:"name",type:"string",sortType:"asUCText"},{name:"description",type:"string",sortType:"asUCText"},{name:"expression",type:"string",sortType:"asUCText"}]});Ext.define("NX.coreui.store.Selector",{extend:"Ext.data.Store",model:"NX.coreui.model.Selector",proxy:{type:"direct",paramsAsHash:false,api:{read:"NX.direct.coreui_Selector.read"},reader:{type:"json",root:"data",idProperty:"id",successProperty:"success"}},sorters:{property:"name",direction:"ASC"}});Ext.define("NX.coreui.view.component.AssetContainer",{extend:"Ext.Panel",alias:"widget.nx-coreui-component-assetcontainer",requires:["NX.Icons"],assetModel:undefined,initComponent:function(){Ext.apply(this,{layout:"fit",dockedItems:{xtype:"nx-actions",items:[{xtype:"button",text:NX.I18n.get("AssetInfo_Delete_Button"),glyph:"xf056@FontAwesome",action:"deleteAsset",disabled:true}]},items:[{xtype:"nx-sorted-tabpanel",ui:"nx-light",cls:"nx-hr",itemId:"assetInfoTabs",autoScroll:true,layout:"vbox",activeTab:0}]});this.callParent()},refreshInfo:function(a){var b=this,d="asset-type-default",c;b.assetModel=a;if(b.assetModel){if(b.hidden){b.show()}c=b.assetModel.get("contentType").replace("/","-");if(NX.getApplication().getIconController().findIcon("asset-type-"+c,"x16")){d="asset-type-"+c}b.setIconCls(NX.Icons.cls(d,"x16"));b.setTitle(b.assetModel.get("name"));b.fireEvent("updated",b,b.assetModel)}else{b.hide()}},addTab:function(d){var c=this,b=c.down("#assetInfoTabs");var a=b.down("#"+d.itemId);if(a){b.remove(a)}b.add(d);b.setActiveTab(0)}});Ext.define("NX.coreui.store.AnalyticsEvent",{extend:"Ext.data.Store",model:"NX.coreui.model.AnalyticsEvent",pageSize:250,proxy:{type:"direct",api:{read:"NX.direct.analytics_Events.read"},reader:{type:"json",root:"data",successProperty:"success"}},sorters:{property:"timestamp",direction:"ASC"}});Ext.define("NX.coreui.view.system.AuthenticationSettings",{extend:"Ext.form.FieldContainer",alias:"widget.nx-coreui-system-authenticationsettings",requires:["NX.I18n"],namePrefix:undefined,defaults:{xtype:"textfield"},initComponent:function(){var a=this,b=a.namePrefix?a.namePrefix+"A":"a";a.items=[{name:b+"uthUsername",fieldLabel:NX.I18n.get("System_AuthenticationSettings_Username_FieldLabel"),allowBlank:false},{xtype:"nx-password",name:b+"uthPassword",fieldLabel:NX.I18n.get("System_AuthenticationSettings_Password_FieldLabel")},{name:b+"uthNtlmHost",fieldLabel:NX.I18n.get("System_AuthenticationSettings_WindowsNtlmHostname_FieldLabel")},{name:b+"uthNtlmDomain",fieldLabel:NX.I18n.get("System_AuthenticationSettings_WindowsNtlmDomain_FieldLabel")}];a.callParent()}});Ext.define("NX.coreui.view.search.SearchResultList",{extend:"NX.view.drilldown.Master",alias:"widget.nx-coreui-search-result-list",requires:["NX.I18n"],stateful:true,stateId:"nx-coreui-search-result-list",initComponent:function(){Ext.apply(this,{healthCheckColumnsTarget:true,componentList:true,store:"SearchResult",loadStore:Ext.emptyFn,viewConfig:{emptyText:NX.I18n.get("Search_SearchResultList_EmptyText"),deferEmptyText:false},columns:[{xtype:"nx-iconcolumn",width:36,iconVariant:"x16",iconName:function(){return"search-component"}},{header:NX.I18n.get("Search_SearchResultList_Name_Header"),dataIndex:"name",stateId:"name",flex:3},{header:NX.I18n.get("Search_SearchResultList_Group_Header"),dataIndex:"group",stateId:"group",flex:4,renderer:NX.ext.grid.column.Renderers.optionalData},{header:NX.I18n.get("Search_SearchResultList_Version_Header"),dataIndex:"version",stateId:"version",flex:1,renderer:NX.ext.grid.column.Renderers.optionalData},{header:NX.I18n.get("Search_SearchResultList_Format_Header"),dataIndex:"format",stateId:"format",width:70},{header:NX.I18n.get("Search_SearchResultList_Repository_Header"),dataIndex:"repositoryName",stateId:"repositoryName",hidden:true}],plugins:{ptype:"bufferedrenderer",trailingBufferZone:20,leadingBufferZone:50}});this.callParent()}});Ext.define("NX.coreui.model.PrivilegeType",{extend:"Ext.data.Model",fields:[{name:"id",type:"string",sortType:"asUCText"},{name:"name",type:"string",sortType:"asUCText"},{name:"about",type:"string",sortType:"asUCText"},{name:"formFields",type:"auto"}]});Ext.define("NX.coreui.util.HealthCheckUtil",{singleton:true,iconSpan:function(b,a){return'<span class="fa '+b+'"'+(a?(' style="'+a+'"'):"")+"/>"},simplifyNumber:function(a){if(a<100){return a}else{if(a<100000){return Math.floor(a/100)/10+"k"}else{if(a<100000000){return Math.floor(a/100000)/10+"m"}else{return Math.floor(a/100000000)/10+"b"}}}},});Ext.define("NX.coreui.store.SearchCriteria",{extend:"Ext.data.Store",model:"NX.coreui.model.SearchCriteria",requires:["NX.I18n"],autoLoad:true,proxy:{type:"memory",reader:{type:"json"}},sorters:{property:"id",direction:"ASC"},constructor:function(){var a=this;a.data=[{id:"format",config:{fieldLabel:NX.I18n.get("SearchCriteria_Format_FieldLabel")}},{id:"keyword",config:{fieldLabel:NX.I18n.get("SearchCriteria_Keyword_FieldLabel"),width:250}},{id:"repository_name",config:{fieldLabel:NX.I18n.get("SearchCriteria_RepositoryName_FieldLabel"),width:250}},{id:"version",config:{fieldLabel:NX.I18n.get("SearchCriteria_Version_FieldLabel")}},{id:"group.raw",config:{fieldLabel:NX.I18n.get("SearchCriteria_Group_FieldLabel"),width:250}},{id:"name.raw",config:{fieldLabel:NX.I18n.get("SearchCriteria_Name_FieldLabel"),width:200}},{id:"assets.attributes.checksum.sha1",group:NX.I18n.get("SearchCriteria_Checksum_Group"),config:{fieldLabel:NX.I18n.get("SearchCriteria_SHA1_FieldLabel"),width:250}},{id:"assets.attributes.checksum.sha256",group:NX.I18n.get("SearchCriteria_Checksum_Group"),config:{fieldLabel:NX.I18n.get("SearchCriteria_SHA256_FieldLabel"),width:250}},{id:"assets.attributes.checksum.sha512",group:NX.I18n.get("SearchCriteria_Checksum_Group"),config:{fieldLabel:NX.I18n.get("SearchCriteria_SHA2_FieldLabel"),width:250}},{id:"assets.attributes.checksum.md5",group:NX.I18n.get("SearchCriteria_Checksum_Group"),config:{fieldLabel:NX.I18n.get("SearchCriteria_MD5_FieldLabel"),width:250}}];a.callParent(arguments);a.on("beforeselect",function(e,b,c,d){return b.get("supported")})}});Ext.define("NX.coreui.view.user.UserSearchBox",{extend:"Ext.form.field.Trigger",alias:"widget.nx-coreui-user-searchbox",requires:["Ext.util.KeyNav","NX.I18n"],trigger1Cls:"nx-form-fa-times-circle-trigger",trigger2Cls:"x-form-search-trigger",initComponent:function(){var a=this;a.emptyText=NX.I18n.get("User_UserList_Filter_EmptyText");a.width=320;a.submitValue=false;a.callParent();a.addEvents("search","searchcleared")},initEvents:function(){var a=this;a.callParent();a.keyNav=new Ext.util.KeyNav(a.inputEl,{esc:{handler:a.clearSearch,scope:a,defaultEventAction:false},enter:{handler:a.onEnter,scope:a,defaultEventAction:false},scope:a,forceKeyDown:true})},onTrigger1Click:function(){this.clearSearch()},onTrigger2Click:function(){var a=this;a.search(a.getValue())},onEnter:function(){var a=this;a.search(a.getValue())},search:function(b){var a=this;if(b!==a.getValue()){a.setValue(b)}a.fireEvent("search",a,b)},clearSearch:function(){var a=this;if(a.getValue()){a.setValue(undefined)}a.fireEvent("searchcleared",a)}});Ext.define("NX.coreui.view.browse.BrowseAssetFeature",{extend:"NX.view.drilldown.Drilldown",alias:"widget.nx-coreui-browseassetfeature",iconName:"browse-asset-default",masters:[{xtype:"nx-coreui-browse-repository-list"},{xtype:"nx-coreui-browse-asset-list"}],detail:{xtype:"nx-coreui-component-assetcontainer",header:false,flex:1}});Ext.define("NX.coreui.store.Asset",{extend:"Ext.data.Store",model:"NX.coreui.model.Asset",proxy:{type:"direct",api:{read:"NX.direct.coreui_Component.readAssets"},reader:{type:"json",root:"data",successProperty:"success"}},buffered:true,pageSize:300,remoteFilter:true,remoteSort:true,sorters:{property:"name",direction:"ASC"}});Ext.define("NX.coreui.view.browse.BrowseAssetList",{extend:"NX.view.drilldown.Master",alias:"widget.nx-coreui-browse-asset-list",requires:["NX.I18n"],stateful:true,stateId:"nx-coreui-browse-asset-list",initComponent:function(){var b=this;var a=b.store||"Asset";Ext.apply(b,{store:a,assetContainerSource:true,loadStore:Ext.emptyFn,selModel:{pruneRemoved:false},viewConfig:{emptyText:NX.I18n.get("Browse_BrowseAssetList_EmptyText_View"),emptyTextFilter:NX.I18n.get("Browse_BrowseAssetList_EmptyText_Filter"),deferEmptyText:false},columns:[{xtype:"nx-iconcolumn",dataIndex:"contentType",width:36,iconVariant:"x16",iconNamePrefix:"asset-type-",sortable:false,iconName:function(d){var c;if(d){c=d.replace("/","-");if(NX.getApplication().getIconController().findIcon("asset-type-"+c,"x16")){return c}}return"default"}},{text:NX.I18n.get("Browse_BrowseAssetList_Name_Column"),dataIndex:"name",stateId:"name",flex:1}],plugins:[{ptype:"remotegridfilterbox"}]});b.callParent()}});Ext.define("NX.coreui.view.component.AnalyzeApplicationWindow",{extend:"NX.view.ModalDialog",alias:"widget.nx-coreui-component-analyze-window",requires:["NX.I18n"],ui:"nx-inset",initComponent:function(){var a=this;a.setWidth(NX.view.ModalDialog.LARGE_MODAL);a.title=NX.I18n.get("AnalyzeApplicationWindow_Title");a.items={xtype:"form",items:[{xtype:"label",html:NX.I18n.get("AnalyzeApplicationWindow_Form_Html")},{xtype:"nx-email",fieldLabel:NX.I18n.get("AnalyzeApplicationWindow_Form_Email_FieldLabel"),helpText:NX.I18n.get("AnalyzeApplicationWindow_Form_Email_HelpText"),name:"emailAddress",allowBlank:false},{xtype:"textfield",fieldLabel:NX.I18n.get("AnalyzeApplicationWindow_Form_Password_FieldLabel"),helpText:NX.I18n.get("AnalyzeApplicationWindow_Form_Password_HelpText"),name:"password",inputType:"password",allowBlank:false},{xtype:"textfield",fieldLabel:NX.I18n.get("AnalyzeApplicationWindow_Form_ProprietaryPackages_FieldLabel"),helpText:NX.I18n.get("AnalyzeApplicationWindow_Form_ProprietaryPackages_HelpText"),name:"proprietaryPackages"},{xtype:"textfield",fieldLabel:NX.I18n.get("AnalyzeApplicationWindow_Form_Label_FieldLabel"),helpText:NX.I18n.get("AnalyzeApplicationWindow_Form_Label_HelpText"),name:"reportLabel"},{xtype:"combo",name:"asset",itemId:"asset",fieldLabel:NX.I18n.get("AnalyzeApplicationWindow_Form_Asset_FieldLabel"),helpText:NX.I18n.get("AnalyzeApplicationWindow_Form_Asset_HelpText"),emptyText:NX.I18n.get("AnalyzeApplicationWindow_Form_Asset_EmptyText"),editable:false,store:Ext.create("Ext.data.ArrayStore",{fields:["value","display"]}),valueField:"value",displayField:"display",queryMode:"local",hidden:true}],buttonAlign:"left",buttons:[{text:NX.I18n.get("AnalyzeApplicationWindow_Analyze_Button"),action:"analyze",formBind:true,ui:"nx-primary"},{text:NX.I18n.get("AnalyzeApplicationWindow_Cancel_Button"),handler:function(){this.up("window").close()}}]};a.callParent()}});Ext.define("NX.coreui.controller.Assets",{extend:"NX.app.Controller",requires:["NX.Bookmarks","NX.Dialogs","NX.I18n","Ext.util.Format"],views:["component.AssetContainer","component.AssetInfo","component.AssetAttributes","component.AssetList","component.ComponentDetails","component.AnalyzeApplicationWindow"],refs:[{ref:"assetContainer",selector:"nx-coreui-component-assetcontainer"},{ref:"assetList",selector:"grid[assetContainerSource=true]"},{ref:"assetInfo",selector:"nx-coreui-component-assetinfo"},{ref:"deleteAssetButton",selector:"nx-coreui-component-assetcontainer button[action=deleteAsset]"},{ref:"componentList",selector:"grid[componentList=true]"},{ref:"componentDetails",selector:"nx-coreui-component-details"},{ref:"deleteComponentButton",selector:"nx-coreui-component-details button[action=deleteComponent]"},{ref:"analyzeApplicationButton",selector:"nx-coreui-component-details button[action=analyzeApplication]"},{ref:"analyzeApplicationWindow",selector:"nx-coreui-component-analyze-window"},{ref:"rootContainer",selector:"nx-main"}],init:function(){var a=this;a.getApplication().getIconController().addIcons({"asset-type-default":{file:"page_white.png",variants:["x16","x32"]},"asset-type-application-java-archive":{file:"file_extension_jar.png",variants:["x16","x32"]},"asset-type-text-xml":{file:"page_white_code.png",variants:["x16","x32"]},"asset-type-application-xml":{file:"page_white_code.png",variants:["x16","x32"]}});a.listen({component:{"nx-coreui-component-assetcontainer":{updated:a.showAssetInfo},"nx-coreui-component-details":{updated:a.showComponentDetails},"nx-coreui-component-asset-list":{updated:a.loadAssets},"nx-coreui-component-assetcontainer button[action=deleteAsset]":{click:a.deleteAsset},"nx-coreui-component-details button[action=deleteComponent]":{click:a.deleteComponent},"nx-coreui-component-details button[action=analyzeApplication]":{click:a.openAnalyzeApplicationWindow},"nx-coreui-component-analyze-window button[action=analyze]":{click:a.analyzeAsset},'nx-coreui-component-analyze-window combobox[name="asset"]':{select:a.selectedApplicationChanged}}});a.repositoryStore=Ext.create("NX.coreui.store.RepositoryReference",{remote:true,autoLoad:true})},showAssetInfo:function(b,d){var e=b.down("nx-coreui-component-assetinfo"),c=b.down("nx-coreui-component-assetattributes"),a;if(!e){b.addTab({xtype:"nx-coreui-component-assetinfo",title:NX.I18n.get("Component_AssetInfo_Info_Title"),itemId:"assetInfo",weight:10});e=b.down("nx-coreui-component-assetinfo")}e.setAssetModel(d);if(!c){b.addTab({xtype:"panel",ui:"nx-inset",title:NX.I18n.get("Component_AssetInfo_Attributes_Title"),itemId:"attributeInfo",weight:20,autoScroll:true,items:[{xtype:"nx-coreui-component-assetattributes"}]});c=b.down("nx-coreui-component-assetattributes")}c.setAssetModel(d)},showComponentDetails:function(b,a){var c={},d={};if(a){c[NX.I18n.get("Search_Assets_Repository")]=a.get("repositoryName");c[NX.I18n.get("Search_Assets_Format")]=a.get("format");d[NX.I18n.get("Search_Assets_Group")]=a.get("group");d[NX.I18n.get("Search_Assets_Name")]=a.get("name");d[NX.I18n.get("Search_Assets_Version")]=a.get("version");b.down("#repositoryInfo").showInfo(c);b.down("#componentInfo").showInfo(d);this.bindDeleteComponentButton(this.getDeleteComponentButton())}},loadAssets:function(c,a){var b=c.getStore(),d;if(a){b.clearFilter(true);d=[{property:"repositoryName",value:a.get("repositoryName")},{property:"componentId",value:a.getId()},{property:"componentName",value:a.get("name")}];if(a.get("group")){d.push({property:"componentGroup",value:a.get("group")})}if(a.get("version")){d.push({property:"componentVersion",value:a.get("version")})}b.addFilter(d)}},updateAssetContainer:function(c,d,a,b){this.getAssetContainer().refreshInfo(b);this.bindDeleteAssetButton(this.getDeleteAssetButton())},bindDeleteComponentButton:function(a){this.bindButton(a,this.getComponentDetails().componentModel.get("repositoryName"))},bindDeleteAssetButton:function(a){this.bindButton(a,this.getAssetContainer().assetModel.get("repositoryName"))},bindButton:function(b,e){var a=this.repositoryStore,c,d=function(f){if(f&&f.get("type")!=="group"){b.show();b.enable()}};b.hide();c=a.getAt(a.find("name",e));if(c){d(c)}else{a.load(function(){d(a.getAt(a.find("name",e)))})}},deleteComponent:function(){var d=this,c=d.getComponentList(),f=d.getComponentDetails(),a,b,e;if(f){a=f.componentModel;b=a.get("name")+"/"+a.get("version");e=a.get("repositoryName");NX.Dialogs.askConfirmation(NX.I18n.get("ComponentDetails_Delete_Title"),b,function(){NX.direct.coreui_Component.deleteComponent(a.getId(),e,function(g){if(Ext.isObject(g)&&g.success){c.getSelectionModel().deselectAll();NX.Bookmarks.navigateBackSegments(NX.Bookmarks.getBookmark(),1);setTimeout(function(){c.getStore().load()},1000);NX.Messages.add({text:NX.I18n.format("ComponentDetails_Delete_Success",b),type:"success"})}})})}},openAnalyzeApplicationWindow:function(){var c=this,e=c.getComponentDetails(),a=e.componentModel.getId(),d=e.componentModel.get("repositoryName");function b(g){var l=Ext.widget("nx-coreui-component-analyze-window");var j=l.down("form");j.getForm().setValues(g.data);j.down('textfield[name="reportLabel"]').originalValue=g.data.reportLabel;var f=g.data.assetMap?Ext.Object.getKeys(g.data.assetMap):[];if(f.length<1){l.close();NX.Dialogs.showError(NX.I18n.get("AnalyzeApplicationWindow_No_Assets_Error_Title"),NX.I18n.get("AnalyzeApplicationWindow_No_Assets_Error_Message"))}else{if(f.length===1){l.down('combo[name="asset"]').setValue(g.data.selectedAsset)}else{var k=[];for(var h=0;h<f.length;h++){k.push([f[h],g.data.assetMap[f[h]]])}var m=l.down('combo[name="asset"]');m.getStore().loadData(k,false);m.setValue(g.data.selectedAsset);m.show()}}}c.getRootContainer().getEl().mask(NX.I18n.get("AnalyzeApplicationWindow_Loading_Mask"));NX.direct.ahc_Component.getPredefinedValues(a,d,function(f){c.getRootContainer().getEl().unmask();if(Ext.isObject(f)&&f.success){if(f.data.tosAccepted){b(f)}else{Ext.widget("nx-coreui-healthcheck-eula",{acceptFn:function(){NX.direct.ahc_Component.acceptTermsOfService(function(){b(f)})}})}}})},analyzeAsset:function(a){var c=this,h=c.getComponentDetails(),g=a.up("window"),b=a.up("form"),f=b.getForm().getValues(),e=h.componentModel.get("repositoryName"),d=b.down('combo[name="asset"]').getValue();NX.direct.ahc_Component.analyzeAsset(e,d,f.emailAddress,f.password,f.proprietaryPackages,f.reportLabel,function(i){if(Ext.isObject(i)&&i.success){g.close();NX.Messages.add({text:NX.I18n.get("ComponentDetails_Analyze_Success"),type:"success"})}})},selectedApplicationChanged:function(c){var b=this,a=b.getAnalyzeApplicationWindow().down('textfield[name="reportLabel"]');if(!a.isDirty()){a.originalValue=c.getRawValue();a.setValue(c.getRawValue())}},deleteAsset:function(){var d=this,a=d.getAssetList(),b=d.getAssetInfo();if(b){var c=b.assetModel;NX.Dialogs.askConfirmation(NX.I18n.get("AssetInfo_Delete_Title"),c.get("name"),function(){NX.direct.coreui_Component.deleteAsset(c.getId(),c.get("repositoryName"),function(e){if(Ext.isObject(e)&&e.success){a.getSelectionModel().deselectAll();var f=a.getStore();f.remove(f.findRecord("id",c.getId()));d.navigateBackOnAssetDelete(c.get("componentId"),f);NX.Messages.add({text:NX.I18n.format("AssetInfo_Delete_Success",c.get("name")),type:"success"})}})})}},navigateBackOnAssetDelete:function(a,b){var c=this;if(!c.getComponentDetails()||!a||b.find("componentId",a)>-1){Ext.util.History.back()}else{NX.Bookmarks.navigateBackSegments(NX.Bookmarks.getBookmark(),2)}}});Ext.define("NX.coreui.store.Repository",{extend:"Ext.data.Store",model:"NX.coreui.model.Repository",proxy:{type:"direct",api:{read:"NX.direct.coreui_Repository.read"},reader:{type:"json",root:"data",successProperty:"success"}},sorters:{property:"name",direction:"ASC"}});Ext.define("NX.coreui.controller.BrowseAssets",{extend:"NX.controller.Drilldown",requires:["NX.Bookmarks","NX.Conditions","NX.Permissions","NX.I18n","NX.coreui.controller.Assets"],masters:["nx-coreui-browseassetfeature nx-coreui-browse-repository-list","nx-coreui-browseassetfeature nx-coreui-browse-asset-list"],stores:["Repository","Asset"],models:["Asset","RepositoryReference"],views:["browse.BrowseAssetFeature","browse.BrowseAssetList","browse.BrowseRepositoryList"],refs:[{ref:"feature",selector:"nx-coreui-browseassetfeature"},{ref:"repositoryList",selector:"nx-coreui-browseassetfeature nx-coreui-browse-repository-list"},{ref:"assetList",selector:"nx-coreui-browseassetfeature nx-coreui-browse-asset-list"},{ref:"assetContainer",selector:"nx-coreui-browseassetfeature nx-coreui-component-assetcontainer"}],icons:{"browse-asset-default":{file:"page_white.png",variants:["x16","x32"]}},init:function(){var a=this;a.features={mode:"browse",path:"/Browse/Assets",text:NX.I18n.get("Browse_Assets_Title_Feature"),description:NX.I18n.get("Browse_Assets_Description_Feature"),view:"NX.coreui.view.browse.BrowseAssetFeature",iconConfig:{file:"page_white_stack.png",variants:["x16","x32"]},authenticationRequired:false};a.callParent();a.listen({controller:{"#Refresh":{refresh:a.loadStores}},component:{"nx-coreui-browseassetfeature nx-coreui-browse-repository-list":{beforerender:a.onBeforeRender},"nx-coreui-browseassetfeature nx-coreui-component-assetcontainer":{updated:a.setAssetIcon}}})},getDescription:function(a){return a.get("name")},onSelection:function(c,b){var a=c.getStore().model;if(a===this.getRepositoryReferenceModel()){this.onRepositorySelection(b)}else{if(a===this.getAssetModel()){this.onAssetSelection(b)}}},onRepositorySelection:function(b){var e=this,c=e.getStore("Asset"),a=e.getAssetList(),d=a.findPlugin("remotegridfilterbox");if(!a){return}c.filters.removeAtKey("filter");d.clearSearch();a.getSelectionModel().deselectAll();c.addFilter([{id:"repositoryName",property:"repositoryName",value:b.get("name")}])},onAssetSelection:function(a){this.getController("NX.coreui.controller.Assets").updateAssetContainer(null,null,null,a)},findAndSelectModel:function(e,g){var f=this,b=Ext.ComponentQuery.query("nx-drilldown-master"),c=b[e].getStore(),d=c.model,a=b[0].getSelectionModel().getSelection();if(d===f.getAssetModel()&&a&&a[0]){NX.direct.coreui_Component.readAsset(g,a[0].get("name"),function(h){if(Ext.isObject(h)&&h.success&&h.data){f.selectModel(e,f.getAssetModel().create(h.data))}else{f.self.superclass.findAndSelectModel.call(f,e,g)}})}},loadStores:function(){var a=this;if(a.getFeature()){if(a.currentIndex===0){a.getRepositoryList().getStore().load()}if(a.currentIndex>=1){a.getAssetList().getStore().load(function(){a.reselect()})}}},onNavigate:function(){if(this.getFeature()){this.onBeforeRender()}},onBeforeRender:function(){var e=this,c=e.getAssetList(),d=NX.Bookmarks.getBookmark(),f=d.getSegments().slice(1),a=e.getRepositoryList().getStore(),b;if(!c){return}a.load(function(){if(f[1]){b=a.getById(decodeURIComponent(f[0]));e.onModelChanged(0,b);e.onRepositorySelection(b);c.getStore().load(function(){e.reselect()})}else{e.reselect()}})},setAssetIcon:function(a,b){if(b){this.setItemClass(2,a.iconCls)}},loadView:function(c,a,b){this.callParent(arguments);this.loadStores()}});Ext.define("NX.coreui.view.search.SearchCriteria",{searchCriteria:true,filter:function(){var a=this;if(a.value){return{property:a.criteriaId,value:a.value}}return undefined}});Ext.define("NX.coreui.store.RealmType",{extend:"Ext.data.Store",model:"NX.coreui.model.Reference",proxy:{type:"direct",paramsAsHash:false,api:{read:"NX.direct.coreui_RealmSettings.readRealmTypes"},reader:{type:"json",root:"data",idProperty:"id",successProperty:"success"}},sorters:{property:"name",direction:"ASC"}});Ext.define("NX.coreui.controller.AnonymousSettings",{extend:"NX.app.Controller",requires:["NX.Permissions","NX.I18n"],views:["security.AnonymousSettings"],stores:["RealmType"],refs:[{ref:"panel",selector:"nx-coreui-security-anonymous-settings"},{ref:"form",selector:"nx-coreui-security-anonymous-settings nx-settingsform"}],init:function(){var a=this;a.getApplication().getFeaturesController().registerFeature({mode:"admin",path:"/Security/Anonymous",text:NX.I18n.get("AnonymousSettings_Text"),description:NX.I18n.get("AnonymousSettings_Description"),view:{xtype:"nx-coreui-security-anonymous-settings"},iconConfig:{file:"user_silhouette.png",variants:["x16","x32"]},visible:function(){return NX.Permissions.check("nexus:settings:read")}},a);a.listen({controller:{"#Refresh":{refresh:a.loadRealmTypes}},component:{"nx-coreui-security-anonymous-settings":{beforerender:a.loadRealmTypes}}})},loadRealmTypes:function(){var b=this,a=b.getPanel();if(a){b.getStore("RealmType").load(function(){b.getForm().load()})}}});Ext.define("NX.coreui.view.ssl.SslUseTrustStore",{extend:"Ext.form.FieldContainer",alias:"widget.nx-coreui-sslusetruststore",requires:["NX.I18n"],initComponent:function(){var a=this;if(!a.fieldLabel&&!a.boxLabel){a.fieldLabel=NX.I18n.get("Ssl_SslUseTrustStore_BoxLabel")}if(a.fieldLabel===true){a.fieldLabel=NX.I18n.get("Ssl_SslUseTrustStore_BoxLabel")}if(a.boxLabel===true){a.boxLabel=NX.I18n.get("Ssl_SslUseTrustStore_BoxLabel")}a.items={xtype:"panel",layout:"hbox",items:[{xtype:"checkbox",name:a.name,itemId:a.name,boxLabel:a.boxLabel,helpText:NX.I18n.get("Ssl_SslUseTrustStore_Certificate_HelpText")},{xtype:"button",text:NX.I18n.get("Ssl_SslUseTrustStore_Certificate_Button"),ui:"nx-plain",action:"showcertificate",glyph:"xf0a3@FontAwesome",margin:"0 0 0 5"}]};a.callParent()}});Ext.define("NX.coreui.controller.SslTrustStore",{extend:"NX.app.Controller",requires:["NX.Conditions","NX.coreui.controller.SslCertificates"],views:["ssl.SslUseTrustStore"],refs:[{ref:"main",selector:"nx-main"}],init:function(){var a=this;a.listen({component:{"field[useTrustStore]":{change:a.manageTrustStore},"nx-coreui-sslusetruststore button[action=showcertificate]":{click:a.loadCertificate}}})},manageTrustStore:function(e){var c=this,a=e.up("container"),d=e.useTrustStoreField,b,f;if(Ext.isFunction(e.useTrustStore)){b=e.useTrustStore.call(e,e);if(b){f=c.getHostAndPort(b);if(d&&((d.name!==b.name)||!f.host)){a.remove(d);delete e.useTrustStoreField;d=undefined}if(f.host){if(!d){a.insert(a.items.indexOf(e)+1,{xtype:"nx-coreui-sslusetruststore",name:b.name,fieldLabel:e.useTrustStoreFieldLabel,boxLabel:e.useTrustStoreBoxLabel,useTrustStoreConfig:b,cls:"nx-clear-both",listeners:{afterrender:c.bindConditions}});e.useTrustStoreField=a.down("nx-coreui-sslusetruststore[name="+b.name+"]")}else{d.useTrustStoreConfig=b}}}}if((!b)&&d){a.remove(d);delete e.useTrustStoreField}},loadCertificate:function(b){var c=this,a=b.up("panel").up("panel"),d=b.up("nx-coreui-sslusetruststore").useTrustStoreConfig,g=c.getHostAndPort(d),e=d.url&&Ext.String.startsWith(d.url.getValue(),"https://")?"https":undefined,f=c.getController("NX.coreui.controller.SslCertificates");c.getMain().getEl().mask(NX.I18n.get("SslTrustStore_Load_Mask"));NX.direct.ssl_Certificate.retrieveFromHost(g.host,g.port,e,function(h){c.getMain().getEl().unmask();if(Ext.isObject(h)&&h.success){f.showCertificateDetailsWindow(h.data)}})},getHostAndPort:function(d){var f=this.getController("NX.coreui.controller.SslCertificates"),a=function(g){if(Ext.isString(g)){return g}else{if(g&&Ext.isFunction(g.getValue)){return g.getValue()}}return undefined},c,e,b;if(d.url){c=f.parseHostAndPort(a(d.url));e=c[0];b=c[1]}else{e=a(d.host);b=a(d.port)}return{host:e,port:b}},bindConditions:function(c){var a,b;a=c.down("checkbox");b=c.down("button");c.mon(NX.Conditions.and(NX.Conditions.isPermitted("nexus:ssl-truststore:create"),NX.Conditions.isPermitted("nexus:ssl-truststore:update")),{satisfied:a.enable,unsatisfied:a.disable,scope:a});c.mon(NX.Conditions.isPermitted("nexus:ssl-truststore:read"),{satisfied:b.enable,unsatisfied:b.disable,scope:b})}});Ext.define("NX.coreui.view.user.UserChangePassword",{extend:"NX.view.ModalDialog",alias:"widget.nx-coreui-user-changepassword",requires:["NX.Conditions","NX.I18n"],userId:undefined,initComponent:function(){var a=this;a.ui="nx-inset";a.title=NX.I18n.get("User_UserChangePassword_Title");a.defaultFocus="password";a.setWidth(NX.view.ModalDialog.SMALL_MODAL);a.items={xtype:"form",editableCondition:NX.Conditions.isPermitted("nexus:userschangepw:create"),editableMarker:NX.I18n.get("User_UserChangePassword_NoPermission_Error"),defaults:{anchor:"100%",validateOnBlur:false},items:[{xtype:"nx-password",name:"password",itemId:"password",fieldLabel:NX.I18n.get("User_UserChangePassword_Password_FieldLabel"),allowBlank:false},{xtype:"nx-password",fieldLabel:NX.I18n.get("User_UserChangePassword_PasswordConfirm_FieldLabel"),allowBlank:false,submitValue:false,validator:function(){var b=this;return(b.up("form").down("#password").getValue()===b.getValue())?true:NX.I18n.get("User_UserChangePassword_NoMatch_Error")}}],buttonAlign:"left",buttons:[{text:NX.I18n.get("User_UserChangePassword_Submit_Button"),action:"changepassword",formBind:true,bindToEnter:true,ui:"nx-primary"},{text:NX.I18n.get("User_UserChangePassword_Cancel_Button"),handler:function(){this.up("window").close()}}]};a.maxHeight=Ext.getBody().getViewSize().height-100;a.callParent()}});Ext.define("NX.coreui.store.User",{extend:"Ext.data.Store",model:"NX.coreui.model.User",proxy:{type:"direct",api:{read:"NX.direct.coreui_User.read"},reader:{type:"json",root:"data",successProperty:"success"}},pageSize:100,sorters:{property:"userId",direction:"ASC"}});Ext.define("NX.coreui.controller.SearchMaven",{extend:"NX.app.Controller",requires:["NX.I18n"],init:function(){var b=this,a=b.getController("NX.coreui.controller.Search");a.registerCriteria([{id:"attributes.maven2.groupId",group:NX.I18n.get("SearchMaven_Group"),config:{format:"maven2",fieldLabel:NX.I18n.get("SearchMaven_GroupID_FieldLabel"),width:250}},{id:"attributes.maven2.artifactId",group:NX.I18n.get("SearchMaven_Group"),config:{format:"maven2",fieldLabel:NX.I18n.get("SearchMaven_ArtifactID_FieldLabel"),width:250}},{id:"attributes.maven2.baseVersion",group:NX.I18n.get("SearchMaven_Group"),config:{format:"maven2",fieldLabel:NX.I18n.get("SearchMaven_BaseVersion_FieldLabel"),width:250}},{id:"assets.attributes.maven2.classifier",group:NX.I18n.get("SearchMaven_Group"),config:{format:"maven2",fieldLabel:NX.I18n.get("SearchMaven_Classifier_FieldLabel")}},{id:"assets.attributes.maven2.extension",group:NX.I18n.get("SearchMaven_Group"),config:{format:"maven2",fieldLabel:NX.I18n.get("SearchMaven_Extension_FieldLabel")}}],b);a.registerFilter({id:"maven2",name:"Maven",text:NX.I18n.get("SearchMaven_Text"),description:NX.I18n.get("SearchMaven_Description"),readOnly:true,criterias:[{id:"format",value:"maven2",hidden:true},{id:"attributes.maven2.groupId"},{id:"attributes.maven2.artifactId"},{id:"version"},{id:"attributes.maven2.baseVersion"},{id:"assets.attributes.maven2.classifier"},{id:"assets.attributes.maven2.extension"}]},b)}});Ext.define("NX.coreui.view.repository.RepositoryAdd",{extend:"NX.view.AddPanel",alias:"widget.nx-coreui-repository-add",requires:["NX.Conditions","NX.I18n"],recipe:undefined,initComponent:function(){var a=this;a.settingsForm={xtype:"nx-coreui-repository-"+a.recipe.getId(),api:{submit:"NX.direct.coreui_Repository.create"},settingsFormSuccessMessage:function(b){return NX.I18n.get("Repository_RepositoryAdd_Create_Success")+b.name},editableCondition:NX.Conditions.isPermitted("nexus:repository-admin:*:*:add"),editableMarker:NX.I18n.get("Repository_RepositoryAdd_Create_Error"),buttons:[{text:NX.I18n.get("Repository_RepositoryList_New_Button"),action:"add",formBind:true,ui:"nx-primary"},{text:NX.I18n.get("Add_Cancel_Button"),action:"back"}]};a.callParent();a.down("#name").setReadOnly(false);a.down("#format").setVisible(false);a.down("#type").setVisible(false);a.down("#url").setVisible(false);a.down("form").add({xtype:"hiddenfield",name:"recipe",value:a.recipe.getId()})}});Ext.define("NX.coreui.controller.SearchPyPi",{extend:"NX.app.Controller",requires:["NX.I18n"],init:function(){var b=this,a=b.getController("NX.coreui.controller.Search");a.registerCriteria([{id:"assets.attributes.pypi.classifiers",group:NX.I18n.get("SearchPyPi_Group"),config:{format:"pypi",fieldLabel:NX.I18n.get("SearchPyPi_Classifiers_FieldLabel"),width:250}},{id:"assets.attributes.pypi.description",group:NX.I18n.get("SearchPyPi_Group"),config:{format:"pypi",fieldLabel:NX.I18n.get("SearchPyPi_Description_FieldLabel"),width:250}},{id:"assets.attributes.pypi.keywords",group:NX.I18n.get("SearchPyPi_Group"),config:{format:"pypi",fieldLabel:NX.I18n.get("SearchPyPi_Keywords_FieldLabel"),width:250}},{id:"assets.attributes.pypi.summary",group:NX.I18n.get("SearchPyPi_Group"),config:{format:"pypi",fieldLabel:NX.I18n.get("SearchPyPi_Summary_FieldLabel"),width:250}}],b);a.registerFilter({id:"pypi",name:"pypi",text:NX.I18n.get("SearchPyPi_Text"),description:NX.I18n.get("SearchPyPi_Description"),readOnly:true,criterias:[{id:"format",value:"pypi",hidden:true},{id:"assets.attributes.pypi.classifiers"},{id:"assets.attributes.pypi.description"},{id:"assets.attributes.pypi.keywords"},{id:"assets.attributes.pypi.summary"}]},b)}});Ext.define("NX.coreui.view.repository.recipe.NugetProxy",{extend:"NX.coreui.view.repository.RepositorySettingsForm",alias:"widget.nx-coreui-repository-nuget-proxy",requires:["NX.coreui.view.repository.facet.ProxyFacet","NX.coreui.view.repository.facet.StorageFacet","NX.coreui.view.repository.facet.HttpClientFacet","NX.coreui.view.repository.facet.NegativeCacheFacet","NX.coreui.view.repository.facet.NugetProxyFacet"],initComponent:function(){var a=this;a.items=[{xtype:"nx-coreui-repository-nugetproxy-facet"},{xtype:"nx-coreui-repository-proxy-facet"},{xtype:"nx-coreui-repository-storage-facet"},{xtype:"nx-coreui-repository-negativecache-facet"},{xtype:"nx-coreui-repository-httpclient-facet"}];a.callParent()}});Ext.define("NX.coreui.view.selector.SelectorPreviewWindow",{extend:"NX.view.ModalDialog",alias:"widget.nx-coreui-selector-preview-window",requires:["NX.I18n","NX.coreui.store.AllRepositoriesReference"],config:{jexl:undefined},resizable:true,closable:true,layout:{type:"vbox",align:"stretch",pack:"start"},height:480,ui:"nx-inset",initComponent:function(){var a=this;Ext.apply(a,{title:NX.I18n.get("SelectorPreviewWindow_Title"),width:NX.view.ModalDialog.LARGE_MODAL,height:540,buttonAlign:"left",buttons:[{text:NX.I18n.get("Button_Close"),handler:a.close,action:"close",scope:a}],items:[{xtype:"form",buttonAlign:"left",items:[{xtype:"textareafield",name:"jexl",itemId:"jexl",fieldLabel:NX.I18n.get("SelectorPreviewWindow_jexl_FieldLabel"),allowBlank:false,value:a.jexl},{xtype:"combo",name:"selectedRepository",fieldLabel:NX.I18n.get("SelectorPreviewWindow_repository_FieldLabel"),helpText:NX.I18n.get("SelectorPreviewWindow_repository_HelpText"),emptyText:NX.I18n.get("SelectorPreviewWindow_repository_EmptyText"),editable:false,store:Ext.create("NX.coreui.store.AllRepositoriesReference",{remote:true,autoLoad:true}),valueField:"id",displayField:"name",allowBlank:false}],buttons:[{text:NX.I18n.get("SelectorPreviewWindow_Preview_Button"),action:"preview",ui:"nx-primary",formBind:true}]},{xtype:"gridpanel",store:a.assetStore,flex:1,viewConfig:{emptyText:NX.I18n.get("SelectorPreviewWindow_EmptyText_View"),emptyTextFilter:NX.I18n.get("SelectorPreviewWindow_EmptyText_Filter"),deferEmptyText:false},columns:[{xtype:"nx-iconcolumn",dataIndex:"contentType",width:36,iconVariant:"x16",iconNamePrefix:"asset-type-",iconName:function(c){var b;if(c){b=c.replace("/","-");if(NX.getApplication().getIconController().findIcon("asset-type-"+b,"x16")){return b}}return"default"}},{text:NX.I18n.get("SelectorPreviewWindow_Name_Column"),dataIndex:"name",stateId:"name",flex:1}],tbar:{xtype:"nx-actions",items:["->",{xtype:"nx-searchbox",itemId:"filter",emptyText:NX.I18n.get("Grid_Plugin_FilterBox_Empty"),width:200}]},plugins:{ptype:"bufferedrenderer",trailingBufferZone:20,leadingBufferZone:50}}]});a.callParent();a.center()}});Ext.define("NX.coreui.view.selector.SelectorAdd",{extend:"NX.view.AddPanel",alias:"widget.nx-coreui-selector-add",requires:["NX.Conditions","NX.I18n"],defaultFocus:"name",initComponent:function(){var a=this;a.settingsForm={xtype:"nx-coreui-selector-settings-form",api:{submit:"NX.direct.coreui_Selector.create"},settingsFormSuccessMessage:function(b){return NX.I18n.format("Selector_SelectorAdd_Create_Success",b.name)},editableCondition:NX.Conditions.isPermitted("nexus:selectors:create"),editableMarker:NX.I18n.get("Selector_SelectorAdd_Create_Error"),buttons:[{text:NX.I18n.get("Selector_SelectorSettingsForm_Preview_Button"),action:"preview",ui:"nx-primary"},{text:NX.I18n.get("Selector_SelectorList_New_Button"),action:"add",formBind:true,ui:"nx-primary"},{text:NX.I18n.get("Add_Cancel_Button"),action:"back"}]};a.callParent();a.down("#name").setReadOnly(false)}});Ext.define("NX.coreui.view.selector.SelectorList",{extend:"NX.view.drilldown.Master",alias:"widget.nx-coreui-selector-list",requires:["NX.Icons","NX.I18n"],stateful:true,stateId:"nx-coreui-selector-list",initComponent:function(){var a=this;a.store="Selector";a.columns=[{xtype:"nx-iconcolumn",width:36,iconVariant:"x16",iconName:function(){return"selector-default"}},{header:NX.I18n.get("Selector_SelectorList_Name_Header"),dataIndex:"name",stateId:"name",flex:1},{header:NX.I18n.get("Selector_SelectorList_Description_Header"),dataIndex:"description",stateId:"description",flex:1}];a.viewConfig={emptyText:NX.I18n.get("Selector_SelectorList_EmptyText"),deferEmptyText:false};a.plugins=[{ptype:"gridfilterbox",emptyText:NX.I18n.get("Selector_SelectorList_Filter_EmptyText")}];a.dockedItems=[{xtype:"nx-actions",items:[{xtype:"button",text:NX.I18n.get("Selector_SelectorList_New_Button"),glyph:"xf055@FontAwesome",action:"new",disabled:true}]}];a.callParent()}});Ext.define("NX.coreui.controller.Selectors",{extend:"NX.controller.Drilldown",requires:["NX.Conditions","NX.Messages","NX.Permissions","NX.I18n","NX.coreui.view.selector.SelectorPreviewWindow"],masters:["nx-coreui-selector-list"],models:["Selector"],stores:["Selector","PreviewAsset"],views:["selector.SelectorAdd","selector.SelectorFeature","selector.SelectorList","selector.SelectorSettings","selector.SelectorSettingsForm","selector.SelectorPreviewWindow"],refs:[{ref:"feature",selector:"nx-coreui-selector-feature"},{ref:"list",selector:"nx-coreui-selector-list"},{ref:"settings",selector:"nx-coreui-selector-feature nx-coreui-selector-settings"},{ref:"previewWindow",selector:"nx-coreui-selector-preview-window"},{ref:"previewAssetList",selector:"nx-coreui-selector-preview-window gridpanel"},{ref:"previewRepositoryComboBox",selector:"nx-coreui-selector-preview-window combo[name=selectedRepository]"},{ref:"previewExpression",selector:"nx-coreui-selector-preview-window textareafield[name=jexl]"},{ref:"previewWindowPreviewButton",selector:"nx-coreui-selector-preview-window button[action=preview]"},{ref:"addSettingsForm",selector:"nx-coreui-selector-add nx-coreui-selector-settings-form"},{ref:"editSettingsForm",selector:"nx-coreui-selector-settings nx-coreui-selector-settings-form"}],icons:{"selector-default":{file:"content_selector.png",variants:["x16","x32"]}},permission:"nexus:selectors",init:function(){var a=this;a.features={mode:"admin",path:"/Repository/Selectors",text:NX.I18n.get("Selectors_Text"),description:NX.I18n.get("Selectors_Description"),view:{xtype:"nx-coreui-selector-feature"},iconConfig:{file:"content_selector.png",variants:["x16","x32"]},visible:function(){return NX.Permissions.check("nexus:selectors:read")},weight:300};a.callParent();a.listen({controller:{"#Refresh":{refresh:a.loadStores}},store:{"#Selector":{load:a.reselect}},component:{"nx-coreui-selector-list":{beforerender:a.loadStores},"nx-coreui-selector-list button[action=new]":{click:a.showAddWindow},"nx-coreui-selector-settings-form":{submitted:a.loadStores},"nx-coreui-selector-settings-form button[action=preview]":{click:a.showPreviewWindow},"nx-coreui-selector-preview-window gridpanel #filter":{search:a.filterPreviewAssetStore,searchcleared:a.clearFilterPreviewAssetStore},"nx-coreui-selector-preview-window button[action=preview]":{click:a.loadStore},"nx-coreui-selector-preview-window button[action=close]":{click:a.closePreviewWindow}}})},getDescription:function(a){return a.get("name")},onSelection:function(c,a){var b=this;b.addMode=false;if(Ext.isDefined(a)){b.getSettings().loadRecord(a)}},showAddWindow:function(){var a=this;a.addMode=true;a.setItemName(1,NX.I18n.get("Selectors_Create_Title"));a.loadCreateWizard(1,true,Ext.create("widget.nx-coreui-selector-add"))},deleteModel:function(a){var c=this,b=c.getDescription(a);NX.direct.coreui_Selector.remove(a.getId(),function(d){c.getSelectorStore().load();if(Ext.isObject(d)&&d.success){NX.Messages.add({text:NX.I18n.format("Selectors_Delete_Message",b),type:"success"})}})},showPreviewWindow:function(){var c=this,b;if(c.addMode){b=c.getAddSettingsForm().getForm()}else{b=c.getEditSettingsForm().getForm()}var a=c.getPreviewAssetStore();a.addListener("load",c.loadPreviewAssetStore,this);a.removeAll();Ext.create("NX.coreui.view.selector.SelectorPreviewWindow",{jexl:b.findField("expression").getValue(),assetStore:a})},closePreviewWindow:function(){var b=this,a,c=b.getPreviewExpression().getValue();if(c){if(b.addMode){a=b.getAddSettingsForm().getForm()}else{a=b.getEditSettingsForm().getForm()}a.findField("expression").setValue(c)}},loadStore:function(){var c=this,a=c.getPreviewAssetList(),b=a.getStore(),d=c.getPreviewRepositoryComboBox().getValue();c.getPreviewExpression().clearInvalid();c.getPreviewWindowPreviewButton().disable();if(d){b.addFilter([{id:"repositoryName",property:"repositoryName",value:d},{id:"jexlExpression",property:"jexlExpression",value:c.getPreviewExpression().getValue()}])}},loadPreviewAssetStore:function(c,b,e){var d=this;var a=d.getPreviewWindowPreviewButton();if(a){a.enable()}if(!e&&c.getProxy().getReader().jsonData&&c.getProxy().getReader().jsonData.errors&&c.getProxy().getReader().jsonData.errors.expression){d.getPreviewExpression().markInvalid(c.getProxy().getReader().jsonData.errors.expression)}},filterPreviewAssetStore:function(e,d){var c=e.up("grid"),b=c.getStore(),a=c.getView().emptyTextFilter;if(!c.emptyText){c.emptyText=c.getView().emptyText}c.getView().emptyText='<div class="x-grid-empty">'+a.replace(/\$filter/,d)+"</div>";c.getSelectionModel().deselectAll();b.addFilter([{id:"filter",property:"filter",value:d}])},clearFilterPreviewAssetStore:function(c){var b=c.up("grid"),a=b.getStore();if(b.emptyText){b.getView().emptyText=b.emptyText}b.getSelectionModel().deselectAll();if(a.filters.removeAtKey("filter")){if(a.filters.length){a.filter()}else{a.clearFilter()}}}});Ext.define("NX.coreui.controller.SearchNpm",{extend:"NX.app.Controller",requires:["NX.I18n"],init:function(){var b=this,a=b.getController("NX.coreui.controller.Search");a.registerCriteria([{id:"group",group:NX.I18n.get("SearchNpm_Group"),config:{format:"npm",fieldLabel:NX.I18n.get("SearchNpm_Scope_FieldLabel"),width:250}}],b);a.registerFilter({id:"npm",name:"npm",text:NX.I18n.get("SearchNpm_Text"),description:NX.I18n.get("SearchNpm_Description"),readOnly:true,criterias:[{id:"format",value:"npm",hidden:true},{id:"group"},{id:"name.raw"},{id:"version"}]},b)}});Ext.define("NX.coreui.view.system.HttpRequestSettings",{extend:"Ext.form.FieldContainer",alias:"widget.nx-coreui-system-httprequestsettings",requires:["NX.I18n"],initComponent:function(){Ext.apply(this,{items:[{xtype:"textfield",name:"userAgentSuffix",fieldLabel:NX.I18n.get("System_HttpRequestSettings_UserAgentCustomization_FieldLabel"),helpText:NX.I18n.get("System_HttpRequestSettings_UserAgentCustomization_HelpText")},{xtype:"numberfield",name:"timeout",fieldLabel:NX.I18n.get("System_HttpRequestSettings_Timeout_FieldLabel"),helpText:NX.I18n.get("System_HttpRequestSettings_Timeout_HelpText"),allowDecimals:false,allowExponential:false,minValue:1,maxValue:3600,emptyText:"20"},{xtype:"numberfield",name:"retries",fieldLabel:NX.I18n.get("System_HttpRequestSettings_Attempts_FieldLabel"),helpText:NX.I18n.get("System_HttpRequestSettings_Attempts_HelpText"),allowDecimals:false,allowExponential:false,minValue:0,maxValue:10,emptyText:"2"}]});this.callParent()}});Ext.define("NX.coreui.view.analytics.AnalyticsSettings",{extend:"NX.view.SettingsPanel",alias:"widget.nx-coreui-analytics-settings",requires:["NX.Conditions","NX.I18n"],initComponent:function(){var a=this;a.settingsForm={xtype:"nx-settingsform",settingsFormSuccessMessage:NX.I18n.get("Analytics_AnalyticsSettings_Update_Success"),api:{load:"NX.direct.analytics_Settings.read",submit:"NX.direct.analytics_Settings.update"},editableCondition:NX.Conditions.isPermitted("nexus:analytics:update"),editableMarker:NX.I18n.get("Analytics_AnalyticsSettings_Update_Error"),items:[{xtype:"container",html:NX.I18n.get("Analytics_AnalyticsSettings_HelpText")},{xtype:"checkbox",name:"collection",boxLabel:NX.I18n.get("Analytics_AnalyticsSettings_Collection_BoxLabel")},{xtype:"checkbox",name:"autosubmit",boxLabel:NX.I18n.get("Analytics_AnalyticsSettings_Submission_BoxLabel")}]};a.callParent()}});Ext.define("NX.coreui.controller.AnalyticsSettings",{extend:"NX.app.Controller",requires:["NX.Permissions","NX.State","NX.I18n"],views:["analytics.AnalyticsSettings"],init:function(){var a=this;a.getApplication().getFeaturesController().registerFeature({mode:"admin",path:"/Support/Analytics",text:NX.I18n.get("AnalyticsSettings_Text"),description:NX.I18n.get("AnalyticsSettings_Description"),view:{xtype:"nx-coreui-analytics-settings"},iconConfig:{file:"system_monitor.png",variants:["x16","x32"]},visible:function(){return NX.Permissions.check("nexus:analytics:read")}},a);a.listen({component:{"nx-coreui-analytics-settings nx-settingsform":{submitted:a.onSubmitted}}})},onSubmitted:function(a,b){NX.State.setValue("analytics",{enabled:b.result.data.collection})}});Ext.define("NX.coreui.view.capability.CapabilityAdd",{extend:"NX.view.AddPanel",alias:"widget.nx-coreui-capability-add",requires:["NX.I18n"],initComponent:function(){var a=this;a.settingsForm={xtype:"nx-coreui-capability-settings-form",editableCondition:NX.Conditions.isPermitted("nexus:capabilities:create"),editableMarker:NX.I18n.get("Capability_CapabilitySettingsForm_Update_Error"),buttons:[{text:NX.I18n.get("Capability_CapabilityList_New_Button"),action:"add",formBind:true,ui:"nx-primary"},{text:NX.I18n.get("Add_Cancel_Button"),action:"back"}]};a.callParent()}});Ext.define("NX.coreui.view.user.UserSettingsForm",{extend:"NX.view.SettingsForm",alias:"widget.nx-coreui-user-settings-form",requires:["NX.Conditions","NX.I18n"],api:{submit:"NX.direct.coreui_User.update"},initComponent:function(){var a=this;a.settingsFormSuccessMessage=a.settingsFormSuccessMessage||function(b){return NX.I18n.get("User_UserSettingsForm_Update_Success")+b.userId};a.editableMarker=NX.I18n.get("User_UserSettingsForm_Update_Error");a.editableCondition=a.editableCondition||NX.Conditions.and(NX.Conditions.isPermitted("nexus:users:update"),NX.Conditions.formHasRecord("nx-coreui-user-settings-form",function(b){return !b.get("external")}));a.items=[{name:"userId",itemId:"userId",readOnly:true,fieldLabel:NX.I18n.get("User_UserSettingsForm_ID_FieldLabel"),helpText:NX.I18n.get("User_UserSettingsForm_ID_HelpText")},{name:"version",xtype:"hiddenfield"},{name:"firstName",fieldLabel:NX.I18n.get("User_UserSettingsForm_FirstName_FieldLabel")},{name:"lastName",fieldLabel:NX.I18n.get("User_UserSettingsForm_LastName_FieldLabel")},{xtype:"nx-email",name:"email",fieldLabel:NX.I18n.get("User_UserSettingsForm_Email_FieldLabel"),helpText:NX.I18n.get("User_UserSettingsForm_Email_HelpText")},{xtype:"combo",name:"status",fieldLabel:NX.I18n.get("User_UserSettingsForm_Status_FieldLabel"),emptyText:NX.I18n.get("User_UserSettingsForm_Status_EmptyText"),allowBlank:false,editable:false,store:[["active",NX.I18n.get("User_UserSettingsForm_Status_ActiveItem")],["disabled",NX.I18n.get("User_UserSettingsForm_Status_DisabledItem")]],queryMode:"local"},{xtype:"nx-itemselector",name:"roles",itemId:"roles",fieldLabel:NX.I18n.get("User_UserSettingsExternalForm_Roles_FieldLabel"),buttons:["add","remove"],fromTitle:NX.I18n.get("User_UserSettingsExternalForm_Roles_FromTitle"),toTitle:NX.I18n.get("User_UserSettingsExternalForm_Roles_ToTitle"),store:"Role",valueField:"id",displayField:"name",delimiter:null}];a.callParent()}});Ext.define("NX.coreui.view.repository.recipe.YumProxy",{extend:"NX.coreui.view.repository.RepositorySettingsForm",alias:"widget.nx-coreui-repository-yum-proxy",requires:["NX.coreui.view.repository.facet.ProxyFacet","NX.coreui.view.repository.facet.StorageFacet","NX.coreui.view.repository.facet.HttpClientFacet","NX.coreui.view.repository.facet.NegativeCacheFacet"],initComponent:function(){var a=this;a.items=[{xtype:"nx-coreui-repository-proxy-facet"},{xtype:"nx-coreui-repository-storage-facet"},{xtype:"nx-coreui-repository-negativecache-facet"},{xtype:"nx-coreui-repository-httpclient-facet"}];a.callParent()}});Ext.define("NX.coreui.view.repository.recipe.BowerProxy",{extend:"NX.coreui.view.repository.RepositorySettingsForm",alias:"widget.nx-coreui-repository-bower-proxy",requires:["NX.coreui.view.repository.facet.ProxyFacet","NX.coreui.view.repository.facet.StorageFacet","NX.coreui.view.repository.facet.HttpClientFacet","NX.coreui.view.repository.facet.NegativeCacheFacet","NX.coreui.view.repository.facet.BowerProxyFacet"],initComponent:function(){var a=this;a.items=[{xtype:"nx-coreui-repository-bower-proxy-facet"},{xtype:"nx-coreui-repository-proxy-facet"},{xtype:"nx-coreui-repository-storage-facet"},{xtype:"nx-coreui-repository-negativecache-facet"},{xtype:"nx-coreui-repository-httpclient-facet"}];a.callParent()}});Ext.define("NX.coreui.controller.LicenseUsers",{extend:"NX.app.Controller",requires:["NX.Permissions","NX.util.DownloadHelper","NX.util.Url","NX.I18n"],stores:["LicenseUser"],views:["licensing.LicenseUserList"],refs:[{ref:"list",selector:"nx-coreui-licensing-licenseuser-list"}],init:function(){var a=this;a.getApplication().getIconController().addIcons({"licenseuser-default":{file:"ssl_certificates.png",variants:["x16","x32"]}});a.getApplication().getFeaturesController().registerFeature({mode:"admin",path:"/System/Licensing/License Users",text:NX.I18n.get("LicenseUsers_Title"),description:NX.I18n.get("LicenseUsers_Description"),view:{xtype:"nx-coreui-licensing-licenseuser-list"},iconConfig:{file:"ssl_tls_manager.png",variants:["x16","x32"]},visible:function(){return NX.Permissions.check("nexus:licensing:read")}},a);a.listen({controller:{"#Refresh":{refresh:a.load}},component:{"nx-coreui-licensing-licenseuser-list":{afterrender:a.load},"nx-coreui-licensing-licenseuser-list button[action=download]":{click:a.download}}})},load:function(){var a=this.getList();if(a){a.getStore().load()}},download:function(){NX.util.DownloadHelper.downloadUrl(NX.util.Url.urlOf("service/siesta/licensing/csv_access_data"))}});Ext.define("NX.coreui.view.role.RoleFeature",{extend:"NX.view.drilldown.Drilldown",alias:"widget.nx-coreui-role-feature",requires:["NX.I18n"],initComponent:function(){Ext.apply(this,{iconName:"role-default",masters:[{xtype:"nx-coreui-role-list"}],tabs:[{xtype:"nx-coreui-role-settings",title:NX.I18n.get("Role_RoleFeature_Settings_Title"),weight:10}],actions:[{xtype:"button",text:NX.I18n.get("Role_RoleFeature_Delete_Button"),glyph:"xf056@FontAwesome",action:"delete",disabled:true}]});this.callParent()}});Ext.define("NX.coreui.controller.RealmSettings",{extend:"NX.app.Controller",requires:["NX.Permissions","NX.I18n"],views:["security.RealmSettings"],stores:["RealmType"],refs:[{ref:"panel",selector:"nx-coreui-security-realm-settings"},{ref:"form",selector:"nx-coreui-security-realm-settings nx-settingsform"}],init:function(){var a=this;a.getApplication().getFeaturesController().registerFeature({mode:"admin",path:"/Security/Realms",view:{xtype:"nx-coreui-security-realm-settings"},text:NX.I18n.get("RealmSettings_Text"),description:NX.I18n.get("RealmSettings_Description"),iconConfig:{file:"shield.png",variants:["x16","x32"]},visible:function(){return NX.Permissions.check("nexus:settings:read")}},a);a.listen({controller:{"#Refresh":{refresh:a.loadRealmTypes}},component:{"nx-coreui-security-realm-settings":{beforerender:a.loadRealmTypes}}})},loadRealmTypes:function(){var b=this,a=b.getPanel();if(a){b.getStore("RealmType").load(function(){b.getForm().load()})}}});Ext.define("NX.coreui.controller.SearchGitLfs",{extend:"NX.app.Controller",requires:["NX.I18n"],init:function(){var b=this,a=b.getController("NX.coreui.controller.Search");a.registerFilter({id:"gitlfs",name:"Git LFS",text:NX.I18n.get("SearchGitLfs_Text"),description:NX.I18n.get("SearchGitLfs_Description"),readOnly:true,criterias:[{id:"format",value:"gitlfs",hidden:true},{id:"name.raw"}]},b)}});Ext.define("NX.coreui.view.support.Metrics",{extend:"Ext.panel.Panel",alias:"widget.nx-coreui-support-metrics",requires:["Ext.chart.Chart","Ext.data.ArrayStore","NX.Assert","NX.I18n"],cls:"nx-coreui-support-metrics",initComponent:function(){Ext.apply(this,{autoScroll:true,dockedItems:[{xtype:"nx-actions",items:[{xtype:"button",text:NX.I18n.get("Support_Metrics_Download_Button"),tooltip:NX.I18n.get("Metrics_Download_Tooltip"),glyph:"xf019@FontAwesome",action:"download"},"-",{xtype:"button",text:NX.I18n.get("Support_Metrics_Dump_Button"),tooltip:NX.I18n.get("Support_Metrics_Dump_Tooltip"),glyph:"xf019@FontAwesome",action:"threads"}]}],items:{xtype:"panel",cls:["nx-inset","nx-hr"],layout:"column",items:[{xtype:"panel",ui:"nx-subsection",cls:"metricwidget",title:NX.I18n.get("Support_Metrics_MemoryUsage_Title"),frame:true,height:240,width:300,layout:"fit",items:[{xtype:"chart",itemId:"memoryUsage",animate:false,insetPadding:40,store:Ext.create("Ext.data.ArrayStore",{fields:["value"]}),axes:[{type:"gauge",position:"gauge",minimum:0,maximum:100,steps:10}],series:[{type:"gauge",field:"value",donut:30,colorSet:["#F49D10","#ddd"],tips:{trackMouse:true,renderer:function(b,a){this.setTitle("Memory used: "+b.get("value")+"%")}}}]}]},{xtype:"panel",ui:"nx-subsection",cls:"metricwidget",title:NX.I18n.get("Support_Metrics_MemoryDistribution_Title"),frame:true,height:240,width:300,layout:"fit",items:[{xtype:"chart",itemId:"memoryDist",animate:false,insetPadding:20,theme:"Green",store:Ext.create("Ext.data.ArrayStore",{fields:["name","data"]}),series:[{type:"pie",angleField:"data",showInLegend:true,tips:{trackMouse:true,renderer:function(b,a){this.setTitle(b.get("name")+": "+b.get("data")+" bytes")}}}],legend:{position:"right",boxStrokeWidth:0}}]},{xtype:"panel",ui:"nx-subsection",cls:"metricwidget",title:NX.I18n.get("Support_Metrics_ThreadStates_Title"),frame:true,height:240,width:300,layout:"fit",colspan:2,items:[{xtype:"chart",itemId:"threadStates",animate:false,insetPadding:20,theme:"Base",store:Ext.create("Ext.data.ArrayStore",{fields:["name","data"]}),series:[{type:"pie",angleField:"data",showInLegend:true,tips:{trackMouse:true,renderer:function(b,a){this.setTitle(b.get("name")+": "+b.get("data"))}}}],legend:{position:"right",boxStrokeWidth:0}}]}]}});this.callParent()},loadStoreByQuery:function(b,a){var c=this.down(a);if(c){c.getStore().loadData(b)}},setTotalData:function(a){this.loadStoreByQuery(a,"panel #memoryUsage")},setMemoryDistData:function(a){this.loadStoreByQuery(a,"panel #memoryDist")},setThreadStatesData:function(a){this.loadStoreByQuery(a,"panel #threadStates")}});Ext.define("NX.coreui.controller.Metrics",{extend:"NX.app.Controller",requires:["Ext.Ajax","NX.Messages","NX.Permissions","NX.util.Url","NX.util.DownloadHelper","NX.I18n"],views:["support.Metrics"],refs:[{ref:"metrics",selector:"nx-coreui-support-metrics"},{ref:"content",selector:"nx-feature-content"}],init:function(){var a=this;a.getApplication().getFeaturesController().registerFeature({mode:"admin",path:"/Support/Metrics",view:{xtype:"nx-coreui-support-metrics"},text:NX.I18n.get("Metrics_Text"),description:NX.I18n.get("Metrics_Description"),iconConfig:{file:"chart_pie.png",variants:["x16","x32"]},visible:function(){return NX.Permissions.check("nexus:metrics:read")}},a);a.listen({controller:{"#Refresh":{refresh:a.load}},component:{"nx-coreui-support-metrics":{afterrender:a.load},"nx-coreui-support-metrics button[action=download]":{click:a.downloadMetrics},"nx-coreui-support-metrics button[action=threads]":{click:a.downloadThreads}}})},load:function(){var b=this,a=b.getMetrics();if(!a){return}b.getContent().getEl().mask(NX.I18n.get("Metrics_Load_Mask"));Ext.Ajax.request({url:NX.util.Url.urlOf("service/metrics/data"),method:"GET",headers:{accept:"application/json"},scope:b,suppressStatus:true,callback:function(c){b.getContent().getEl().unmask()},failure:function(c){NX.Messages.add({type:"warning",text:NX.I18n.get("Metrics_Refresh_Warning")})},success:function(c){var d=Ext.decode(c.responseText);function e(f){return d.gauges[f].value}a.setTotalData([{value:Math.round((e("jvm.memory.total.used")/e("jvm.memory.total.max"))*100)}]);a.setMemoryDistData([{name:NX.I18n.get("Support_Metrics_Heap_Title"),data:e("jvm.memory.heap.used")},{name:NX.I18n.get("Metrics_Heap_NonHeapItem"),data:e("jvm.memory.total.used")-e("jvm.memory.heap.used")},{name:NX.I18n.get("Metrics_Heap_Available"),data:e("jvm.memory.total.max")-e("jvm.memory.total.used")}]);a.setThreadStatesData([{name:NX.I18n.get("Metrics_ThreadStates_New"),data:e("jvm.thread-states.new.count")},{name:NX.I18n.get("Metrics_ThreadStates_Terminated"),data:e("jvm.thread-states.terminated.count")},{name:NX.I18n.get("Metrics_ThreadStates_Blocked"),data:e("jvm.thread-states.blocked.count")},{name:NX.I18n.get("Metrics_ThreadStates_Runnable"),data:e("jvm.thread-states.runnable.count")},{name:NX.I18n.get("Metrics_ThreadStates_TimedWaiting"),data:e("jvm.thread-states.timed_waiting.count")},{name:NX.I18n.get("Metrics_ThreadStates_Waiting"),data:e("jvm.thread-states.waiting.count")}])}})},downloadMetrics:function(){NX.util.DownloadHelper.downloadUrl(NX.util.Url.urlOf("service/metrics/data?pretty=true&download=true"))},downloadThreads:function(){NX.util.DownloadHelper.downloadUrl(NX.util.Url.urlOf("service/metrics/threads?download=true"))}});Ext.define("NX.coreui.view.user.UserFeature",{extend:"NX.view.drilldown.Drilldown",alias:"widget.nx-coreui-user-feature",requires:["NX.I18n"],initComponent:function(){Ext.apply(this,{iconName:"user-default",masters:[{xtype:"nx-coreui-user-list"}],tabs:[{xtype:"nx-coreui-user-settings",title:NX.I18n.get("User_UserFeature_Settings_Title"),weight:10}],actions:[{xtype:"button",text:NX.I18n.get("User_UserFeature_Delete_Button"),glyph:"xf056@FontAwesome",action:"delete",disabled:true},{xtype:"button",text:NX.I18n.get("User_UserFeature_More_Button"),glyph:"xf0ae@FontAwesome",action:"more",disabled:true,menu:[{text:NX.I18n.get("User_UserFeature_ChangePasswordItem"),glyph:"xf084@FontAwesome",action:"setpassword"}]}]});this.callParent()}});Ext.define("NX.coreui.store.PrivilegeType",{extend:"Ext.data.Store",model:"NX.coreui.model.PrivilegeType",requires:["NX.State"],proxy:{type:"direct",paramsAsHash:false,api:{read:"NX.direct.coreui_Privilege.readTypes"},reader:{type:"json",root:"data",idProperty:"id",successProperty:"success"}},sorters:{property:"name",direction:"ASC"}});Ext.define("NX.coreui.view.support.SysInfo",{extend:"Ext.panel.Panel",alias:"widget.nx-coreui-support-sysinfo",requires:["Ext.XTemplate","NX.Assert","NX.I18n"],initComponent:function(){var a=this;a.layout="fit";a.dockedItems=[{xtype:"nx-actions",items:[{xtype:"button",text:NX.I18n.get("Support_SysInfo_Download_Button"),glyph:"xf019@FontAwesome",action:"download"}]}];a.sectionTpl=Ext.create("Ext.XTemplate",'<div class="x-panel x-panel-nx-subsection-framed" style="margin: 0 0 20px 0">','<div class="x-panel-header-nx-subsection-framed x-panel-header-nx-subsection-framed-horizontal" style="border: none !important">','<span class="x-panel-header-text-container-nx-subsection-framed">{name}</span>',"</div>",'<div class="x-panel-body x-panel-body-nx-subsection-framed" style="border: none !important">',"<table>",'<tpl for="props">',"<tr>",'<td class="nx-info-entry-name">{name}</td>','<td class="nx-info-entry-value">{value}</td>',"</tr>","</tpl>","</table>","</div>","</div>",{compiled:true});a.nestedSectionTpl=Ext.create("Ext.XTemplate",'<div class="x-panel x-panel-nx-subsection-framed" style="margin: 0 0 20px 0">','<div class="x-panel-header-nx-subsection-framed x-panel-header-nx-subsection-framed-horizontal" style="border: none !important">','<span class="x-panel-header-text-container-nx-subsection-framed">{name}</span>',"</div>",'<div class="x-panel-body x-panel-body-nx-subsection-framed" style="border: none !important">','<tpl for="nested">',"<h3>{name}</h3>","<table>",'<tpl for="props">',"<tr>",'<td class="nx-info-entry-name">{name}</td>','<td class="nx-info-entry-value">{value}</td>',"</tr>","</tpl>","</table>","</tpl>","</div>","</div>",{compiled:true});function b(d){var c=[];Ext.iterate(d,function(e,f){c.push({name:e,value:f})});return c}a.mainTpl=Ext.create("Ext.XTemplate",'<div class="nx-atlas-view-sysinfo-body nx-hr" style="height: 100%; overflow-y: scroll;">','<div class="x-panel x-panel-nx-inset">','{[ this.section("nexus-status", values) ]}','{[ this.section("nexus-node", values) ]}','{[ this.section("nexus-configuration", values) ]}','{[ this.section("nexus-properties", values) ]}','{[ this.section("nexus-license", values) ]}','{[ this.nestedSection("nexus-bundles", values) ]}','{[ this.section("system-time", values) ]}','{[ this.section("system-properties", values) ]}','{[ this.section("system-environment", values) ]}','{[ this.section("system-runtime", values) ]}','{[ this.nestedSection("system-network", values) ]}','{[ this.nestedSection("system-filestores", values) ]}',"</div>","</div>",{compiled:true,section:function(d,c){var e=c[d];return a.sectionTpl.apply({name:d,props:b(e)})},nestedSection:function(d,c){var e=c[d],f=[];Ext.iterate(e,function(g,h){f.push({name:g,props:b(h)})});return a.nestedSectionTpl.apply({name:d,nested:f})}});a.callParent()},setInfo:function(b){var a=this;if(a.rendered){a.mainTpl.overwrite(a.body,b)}}});Ext.define("NX.coreui.controller.SearchYum",{extend:"NX.app.Controller",requires:["NX.I18n"],init:function(){var b=this,a=b.getController("NX.coreui.controller.Search");a.registerCriteria([{id:"attributes.yum.architecture",group:NX.I18n.get("SearchYum_Group"),config:{format:"yum",fieldLabel:NX.I18n.get("SearchYum_Architecture_FieldLabel"),width:250}},{id:"attributes.yum.name",group:NX.I18n.get("SearchYum_Group"),config:{format:"yum",fieldLabel:NX.I18n.get("SearchYum_Name_FieldLabel"),width:250}}],b);a.registerFilter({id:"yum",name:"Yum",text:NX.I18n.get("SearchYum_Text"),description:NX.I18n.get("SearchYum_Description"),readOnly:true,criterias:[{id:"format",value:"yum",hidden:true},{id:"attributes.yum.name"},{id:"version"},{id:"attributes.yum.architecture"}]},b)}});Ext.define("NX.coreui.store.Role",{extend:"Ext.data.Store",model:"NX.coreui.model.Role",proxy:{type:"direct",paramsAsHash:false,api:{read:"NX.direct.coreui_Role.read"},reader:{type:"json",root:"data",idProperty:"id",successProperty:"success"}},sorters:{property:"name",direction:"ASC"},listeners:{load:function(b,a){for(var c=0;c<a.length;c++){var d=a[c].data;d.privileges=Ext.Array.sort(d.privileges)}}}});Ext.define("NX.coreui.view.role.RoleSettingsForm",{extend:"NX.view.SettingsForm",alias:"widget.nx-coreui-role-settings-form",requires:["NX.Conditions","NX.coreui.store.Role","NX.I18n"],api:{submit:"NX.direct.coreui_Role.update"},initComponent:function(){var b=this,a,c=Ext.create("NX.coreui.store.Role");b.settingsFormSuccessMessage=b.settingsFormSuccessMessage||function(d){return NX.I18n.get("Role_RoleSettingsForm_Update_Success")+d.name};b.editableMarker=NX.I18n.get("Role_RoleSettingsForm_Update_Error");b.editableCondition=b.editableCondition||NX.Conditions.and(NX.Conditions.isPermitted("nexus:roles:update"),NX.Conditions.formHasRecord("nx-coreui-role-settings-form",function(d){return !d.get("readOnly")}));c.load();if(b.source){a={xtype:"combo",name:"id",itemId:"id",fieldLabel:NX.I18n.get("Role_RoleSettingsForm_MappedRole_FieldLabel"),emptyText:NX.I18n.get("Role_RoleSettingsForm_MappedRole_EmptyText"),editable:true,store:"RoleBySource",queryMode:"local",displayField:"name",valueField:"id"}}else{a={name:"id",itemId:"id",readOnly:true,fieldLabel:NX.I18n.get("Role_RoleSettingsForm_RoleID_FieldLabel")}}b.items=[{xtype:"hiddenfield",name:"version"},{xtype:"hiddenfield",name:"source",value:b.source||"default"},a,{name:"name",fieldLabel:NX.I18n.get("Role_RoleSettingsForm_Name_FieldLabel")},{name:"description",allowBlank:true,fieldLabel:NX.I18n.get("Role_RoleSettingsForm_Description_FieldLabel")},{xtype:"nx-itemselector",name:"privileges",itemId:"privileges",fieldLabel:NX.I18n.get("Role_RoleSettingsForm_Privileges_FieldLabel"),allowBlank:true,buttons:["add","remove"],fromTitle:NX.I18n.get("Role_RoleSettingsForm_Privileges_FromTitle"),toTitle:NX.I18n.get("Role_RoleSettingsForm_Privileges_ToTitle"),store:"PrivilegeReference",valueField:"id",displayField:"name",delimiter:null},{xtype:"nx-itemselector",name:"roles",itemId:"roles",fieldLabel:NX.I18n.get("Role_RoleSettingsForm_Roles_FieldLabel"),allowBlank:true,buttons:["add","remove"],fromTitle:NX.I18n.get("Role_RoleSettingsForm_Roles_FromTitle"),toTitle:NX.I18n.get("Role_RoleSettingsForm_Roles_ToTitle"),store:c,valueField:"id",displayField:"name",delimiter:null,listeners:{change:function(f){var g=f.up("form"),d=g.getRecord(),e=f.getStore();if(d){e.clearFilter(true);e.filter([{filterFn:function(h){return h.get("id")!==d.get("id")}}])}}}}];b.callParent()}});Ext.define("NX.coreui.view.repository.recipe.DockerHosted",{extend:"NX.coreui.view.repository.RepositorySettingsForm",alias:"widget.nx-coreui-repository-docker-hosted",requires:["NX.coreui.view.repository.facet.StorageFacet","NX.coreui.view.repository.facet.StorageFacetHosted","NX.coreui.view.repository.facet.DockerConnectorFacet","NX.coreui.view.repository.facet.DockerV1Facet"],initComponent:function(){var a=this;a.items=[{xtype:"nx-coreui-repository-docker-connector-facet"},{xtype:"nx-coreui-repository-docker-v1-facet"},{xtype:"nx-coreui-repository-storage-facet"},{xtype:"nx-coreui-repository-storage-hosted-facet",writePolicy:"ALLOW"}];a.callParent()}});Ext.define("NX.coreui.view.search.SearchFeature",{extend:"NX.view.drilldown.Drilldown",alias:"widget.nx-coreui-searchfeature",cls:"nx-coreui-searchfeature",iconName:"search-default",initComponent:function(){var a=this;a.masters=[{xtype:"panel",layout:{type:"vbox",align:"stretch",pack:"start"},items:[{xtype:"panel",cls:"criteria",itemId:"criteria",header:false,layout:"column"},{xtype:"panel",itemId:"info",ui:"nx-info-message",iconCls:NX.Icons.cls("message-primary","x16"),hidden:true},{xtype:"nx-coreui-search-result-list",cls:"nx-search-result-list",flex:1,header:false}]},{xtype:"panel",layout:{type:"vbox",align:"stretch",pack:"start"},items:[{xtype:"nx-coreui-component-details"},{xtype:"nx-coreui-component-asset-list",flex:1}]}];a.detail={xtype:"nx-coreui-component-assetcontainer",header:false,flex:1};a.callParent()}});Ext.define("NX.coreui.controller.SysInfo",{extend:"NX.app.Controller",requires:["NX.Permissions","NX.util.Url","NX.util.DownloadHelper","NX.Messages","NX.I18n"],views:["support.SysInfo"],refs:[{ref:"sysInfo",selector:"nx-coreui-support-sysinfo"},{ref:"content",selector:"nx-feature-content"}],init:function(){var a=this;a.getApplication().getFeaturesController().registerFeature({mode:"admin",path:"/Support/System Information",text:NX.I18n.get("SysInfo_Title"),description:NX.I18n.get("SysInfo_Description"),view:{xtype:"nx-coreui-support-sysinfo"},iconConfig:{file:"globe_place.png",variants:["x16","x32"]},visible:function(){return NX.Permissions.check("nexus:atlas:read")}},a);a.listen({controller:{"#Refresh":{refresh:a.load}},component:{"nx-coreui-support-sysinfo":{afterrender:a.load},"nx-coreui-support-sysinfo button[action=download]":{click:a.download}}})},load:function(){var b=this,a=b.getSysInfo();if(a){b.getContent().getEl().mask(NX.I18n.get("SysInfo_Load_Mask"));NX.direct.atlas_SystemInformation.read(function(c){b.getContent().getEl().unmask();if(Ext.isObject(c)&&c.success){a.setInfo(c.data)}})}},download:function(){NX.util.DownloadHelper.downloadUrl(NX.util.Url.urlOf("service/siesta/atlas/system-information"))}});Ext.define("NX.coreui.view.system.HttpSettings",{extend:"NX.view.SettingsPanel",alias:"widget.nx-coreui-system-http-settings",requires:["NX.Conditions","NX.coreui.view.system.AuthenticationSettings","NX.coreui.view.system.HttpRequestSettings","NX.I18n","NX.ext.form.field.Hostname"],initComponent:function(){var a=this;a.settingsForm=[{xtype:"nx-settingsform",settingsFormSuccessMessage:NX.I18n.get("System_HttpSettings_Update_Success"),api:{load:"NX.direct.coreui_HttpSettings.read",submit:"NX.direct.coreui_HttpSettings.update"},editableCondition:NX.Conditions.isPermitted("nexus:settings:update"),editableMarker:NX.I18n.get("System_HttpSettings_Update_Error"),items:[{xtype:"nx-coreui-system-httprequestsettings"},{xtype:"nx-optionalfieldset",title:NX.I18n.get("System_HttpSettings_Proxy_Title"),checkboxToggle:true,checkboxName:"httpEnabled",items:[{xtype:"nx-hostname",name:"httpHost",fieldLabel:NX.I18n.get("System_HttpSettings_ProxyHost_FieldLabel"),helpText:NX.I18n.get("System_HttpSettings_ProxyHost_HelpText"),allowBlank:false},{xtype:"numberfield",name:"httpPort",fieldLabel:NX.I18n.get("System_HttpSettings_ProxyPort_FieldLabel"),minValue:1,maxValue:65535,allowDecimals:false,allowExponential:false,allowBlank:false},{xtype:"nx-optionalfieldset",title:NX.I18n.get("System_HttpSettings_Authentication_Title"),checkboxToggle:true,checkboxName:"httpAuthEnabled",collapsed:true,items:{xtype:"nx-coreui-system-authenticationsettings",namePrefix:"http"}}]},{xtype:"nx-optionalfieldset",title:NX.I18n.get("System_HttpSettings_HttpsProxy_Title"),itemId:"httpsProxy",checkboxToggle:true,checkboxName:"httpsEnabled",collapsed:true,items:[{xtype:"nx-hostname",name:"httpsHost",fieldLabel:NX.I18n.get("System_HttpSettings_HttpsProxyHost_FieldLabel"),helpText:NX.I18n.get("System_HttpSettings_HttpsProxyHost_HelpText"),allowBlank:false},{xtype:"numberfield",name:"httpsPort",fieldLabel:NX.I18n.get("System_HttpSettings_HttpsProxyPort_FieldLabel"),minValue:1,maxValue:65535,allowDecimals:false,allowExponential:false,allowBlank:false},{xtype:"nx-optionalfieldset",title:NX.I18n.get("System_HttpSettings_HttpsProxyAuthentication_Title"),checkboxToggle:true,checkboxName:"httpsAuthEnabled",collapsed:true,items:{xtype:"nx-coreui-system-authenticationsettings",namePrefix:"https"}}]},{xtype:"nx-valueset",name:"nonProxyHosts",itemId:"nonProxyHosts",fieldLabel:NX.I18n.get("System_HttpSettings_ExcludeHosts_FieldLabel"),helpText:NX.I18n.get("System_HttpSettings_ExcludeHosts_HelpText"),sorted:true,allowBlank:true}]}];a.callParent()}});Ext.define("NX.coreui.controller.HttpSettings",{extend:"NX.app.Controller",requires:["NX.Permissions","NX.I18n"],views:["system.HttpSettings"],init:function(){var a=this;a.getApplication().getFeaturesController().registerFeature({mode:"admin",path:"/System/HTTP",text:NX.I18n.get("HttpSettings_Text"),description:NX.I18n.get("HttpSettings_Description"),view:{xtype:"nx-coreui-system-http-settings"},iconConfig:{file:"lorry.png",variants:["x16","x32"]},visible:function(){return NX.Permissions.check("nexus:settings:read")}},a);a.listen({component:{"nx-coreui-system-http-settings checkbox[name=httpEnabled]":{change:a.onHttpEnabledChanged}}})},onHttpEnabledChanged:function(a){var b=a.up("form"),d=b.down("#httpsProxy"),c=b.down("#nonProxyHosts");if(!a.getValue()){d.collapse();d.disable();c.hide();c.disable()}else{if(d.isDisabled()){d.enable();c.enable();c.show()}}}});Ext.define("NX.coreui.view.repository.recipe.DockerGroup",{extend:"NX.coreui.view.repository.RepositorySettingsForm",alias:"widget.nx-coreui-repository-docker-group",requires:["NX.coreui.view.repository.facet.StorageFacet","NX.coreui.view.repository.facet.GroupFacet","NX.coreui.view.repository.facet.DockerConnectorFacet","NX.coreui.view.repository.facet.DockerV1Facet"],initComponent:function(){var a=this;a.items=[{xtype:"nx-coreui-repository-docker-connector-facet"},{xtype:"nx-coreui-repository-docker-v1-facet"},{xtype:"nx-coreui-repository-storage-facet"},{xtype:"nx-coreui-repository-group-facet",format:"docker"}];a.callParent()}});Ext.define("NX.coreui.view.user.UserSettingsExternalForm",{extend:"NX.view.SettingsForm",alias:"widget.nx-coreui-user-settings-external-form",requires:["NX.Conditions","NX.Dialogs","NX.I18n"],api:{submit:"NX.direct.coreui_User.updateRoleMappings"},initComponent:function(){var a=this;a.settingsFormSuccessMessage=function(b){return NX.I18n.format("User_UserSettingsForm_UpdateRoles_Success",b.userId)};a.editableMarker=NX.I18n.get("User_UserSettingsForm_Update_Error");a.editableCondition=a.editableCondition||NX.Conditions.and(NX.Conditions.isPermitted("nexus:users:update"),NX.Conditions.formHasRecord("nx-coreui-user-settings-external-form",function(b){return b.get("external")}));a.items=[{name:"userId",itemId:"userId",readOnly:true,fieldLabel:NX.I18n.get("User_UserSettingsForm_ID_FieldLabel"),helpText:NX.I18n.get("User_UserSettingsForm_ID_HelpText"),allowBlank:true},{name:"realm",xtype:"hiddenfield"},{name:"firstName",fieldLabel:NX.I18n.get("User_UserSettingsForm_FirstName_FieldLabel"),allowBlank:true,readOnly:true,submitValue:false},{name:"lastName",fieldLabel:NX.I18n.get("User_UserSettingsForm_LastName_FieldLabel"),allowBlank:true,readOnly:true,submitValue:false},{name:"email",fieldLabel:NX.I18n.get("User_UserSettingsForm_Email_FieldLabel"),helpText:NX.I18n.get("User_UserSettingsForm_Email_HelpText"),allowBlank:true,readOnly:true,submitValue:false},{xtype:"combo",name:"status",fieldLabel:NX.I18n.get("User_UserSettingsForm_Status_FieldLabel"),editable:false,store:[["active",NX.I18n.get("User_UserSettingsForm_Status_ActiveItem")],["disabled",NX.I18n.get("User_UserSettingsForm_Status_DisabledItem")]],queryMode:"local",allowBlank:true,readOnly:true,cls:"nx-combo-disabled",submitValue:false},{xtype:"nx-itemselector",name:"roles",itemId:"roles",fieldLabel:NX.I18n.get("User_UserSettingsExternalForm_Roles_FieldLabel"),buttons:["add","remove"],fromTitle:NX.I18n.get("User_UserSettingsExternalForm_Roles_FromTitle"),toTitle:NX.I18n.get("User_UserSettingsExternalForm_Roles_ToTitle"),store:"Role",valueField:"id",displayField:"name",delimiter:null,allowBlank:true},{xtype:"textarea",name:"externalRoles",itemId:"externalRoles",fieldLabel:NX.I18n.get("User_UserSettingsExternalForm_ExternalRoles_FieldLabel"),helpText:NX.I18n.get("User_UserSettingsExternalForm_ExternalRoles_HelpText"),allowBlank:true,readOnly:true,submitValue:false}];a.callParent();Ext.override(a.down("#externalRoles"),{setValue:function(c){var b=c;if(Ext.isArray(b)){b=[b.join("\n")]}this.callParent(b)}});Ext.override(a.down("#roles"),{moveRec:function(e,d){var c=a.getRecord().get("externalRoles"),b=true;if(!e&&c){Ext.Array.each(Ext.Array.from(d),function(f){if(Ext.Array.contains(c,f.get("id"))){b=false;NX.Dialogs.showInfo(NX.I18n.get("User_UserSettingsExternalForm_Remove_Error"),'External mapped role "'+f.get("name")+'" cannot be removed because is assigned to user by external source')}return b})}if(b){this.callParent(arguments)}}})}});Ext.define("NX.coreui.view.user.UserSettings",{extend:"NX.view.SettingsPanel",alias:"widget.nx-coreui-user-settings",settingsForm:{xtype:"nx-coreui-user-settings-form"}});Ext.define("NX.coreui.view.user.UserSettingsExternal",{extend:"NX.view.SettingsPanel",alias:"widget.nx-coreui-user-settings-external",settingsForm:{xtype:"nx-coreui-user-settings-external-form"}});Ext.define("NX.coreui.controller.Users",{extend:"NX.controller.Drilldown",requires:["NX.Conditions","NX.State","NX.Permissions","NX.Security","NX.Icons","NX.Messages","NX.Dialogs","NX.I18n","NX.util.Filter"],masters:["nx-coreui-user-list"],models:["User"],stores:["User","UserSource","Role"],views:["user.UserAccount","user.UserAdd","user.UserChangePassword","user.UserFeature","user.UserList","user.UserSearchBox","user.UserSettings","user.UserSettingsForm","user.UserSettingsExternal","user.UserSettingsExternalForm"],refs:[{ref:"feature",selector:"nx-coreui-user-feature"},{ref:"list",selector:"nx-coreui-user-list"},{ref:"userSearchBox",selector:"nx-coreui-user-list nx-coreui-user-searchbox"},{ref:"settings",selector:"nx-coreui-user-feature nx-coreui-user-settings"},{ref:"externalSettings",selector:"nx-coreui-user-feature nx-coreui-user-settings-external"}],icons:{"user-default":{file:"user.png",variants:["x16","x32"]},"default-security-source":{file:"user.png",variants:["x16"]},"allconfigured-security-source":{file:"user.png",variants:["x16"]}},permission:"nexus:users",init:function(){var a=this;a.features=[{mode:"admin",path:"/Security/Users",text:NX.I18n.get("User_Text"),description:NX.I18n.get("User_Description"),view:{xtype:"nx-coreui-user-feature"},iconConfig:{file:"group.png",variants:["x16","x32"]},visible:function(){return NX.Permissions.check("nexus:users:read")&&NX.Permissions.check("nexus:roles:read")},weight:30},{mode:"user",path:"/Account",text:NX.I18n.get("Users_Text"),description:NX.I18n.get("Users_Description"),view:{xtype:"nx-coreui-user-account"},iconConfig:{file:"user.png",variants:["x16","x32"]},visible:function(){return NX.Security.hasUser()}}];a.callParent();a.listen({controller:{"#Refresh":{refresh:a.loadStores},"*":{userSettingsAddTab:a.addTab,userSettingsRemoveTab:a.removeTab}},store:{"#User":{load:a.reselect},"#UserSource":{load:a.onUserSourceLoad}},component:{"nx-coreui-user-list":{beforerender:a.loadStores},"nx-coreui-user-list button[action=new]":{click:a.showAddWindow},"nx-coreui-user-settings-form":{submitted:a.onSettingsSubmitted},"nx-coreui-user-settings-external-form":{submitted:a.onSettingsSubmitted},"nx-coreui-user-list menuitem[action=filter]":{click:a.onSourceChanged},"nx-coreui-user-feature button[action=more]":{afterrender:a.bindMoreButton},"nx-coreui-user-feature menuitem[action=setpassword]":{click:a.showChangePasswordWindowForSelection},"nx-coreui-user-list nx-coreui-user-searchbox":{search:a.loadStore,searchcleared:a.onSearchCleared},"nx-coreui-user-account button[action=changepassword]":{click:a.showChangePasswordWindowForUserAccount,afterrender:a.bindChangePasswordButton},"nx-coreui-user-changepassword button[action=changepassword]":{click:a.changePassword}}})},getDescription:function(a){return a.get("firstName")+" "+a.get("lastName")},onSelection:function(e,b){var d=this,c=d.getSettings(),a=d.getExternalSettings();if(Ext.isDefined(b)){if(b.get("external")){if(!a){d.addTab({xtype:"nx-coreui-user-settings-external",title:"Settings",weight:10});a=d.getExternalSettings()}a.loadRecord(b)}else{if(!c){d.addTab({xtype:"nx-coreui-user-settings",title:"Settings",weight:10});c=d.getSettings()}c.loadRecord(b)}if(b.get("external")){if(c){d.removeTab(c)}}else{if(a){d.removeTab(a)}}}},showAddWindow:function(){var a=this;a.setItemName(1,NX.I18n.get("Users_Create_Title"));a.loadCreateWizard(1,true,Ext.create("widget.nx-coreui-user-add"))},showChangePasswordWindowForSelection:function(){var b=this.getList(),a=b.getSelectionModel().getSelection()[0].getId();NX.Security.doWithAuthenticationToken("Changing password requires validation of your credentials.",{success:function(c){Ext.widget("nx-coreui-user-changepassword",{userId:a,authToken:c})}})},showChangePasswordWindowForUserAccount:function(b){var a=b.up("form").down("#userId").getValue();NX.Security.doWithAuthenticationToken("Changing password requires validation of your credentials.",{success:function(c){Ext.widget("nx-coreui-user-changepassword",{userId:a,authToken:c})}})},loadStore:function(a){var c=this,d=c.getList(),b;if(d){b=d.down("button[action=filter]");if(!b.sourceId){b.sourceId="default"}c.updateEmptyText();c.getStore("User").load({params:{filter:[{property:"source",value:b.sourceId},{property:"userId",value:c.getUserSearchBox().getValue()}]},callback:function(f,e,g){if(Ext.isFunction(a)){a(f,e,g)}}})}},loadStores:function(){var a=this,b=a.getList();if(b){a.loadStore();a.getStore("UserSource").load();a.getStore("Role").load()}},onUserSourceLoad:function(b){var c=this.getList(),a;if(c){a=c.down("button[action=filter]");if(a.menu.items.length>1){a.menu.removeAll()}if(!a.sourceId){a.sourceId="default"}b.each(function(e){var d=NX.Icons.cls(e.getId().toLowerCase()+"-security-source","x16");a.menu.add({text:e.get("name"),iconCls:d,group:"usersource",checked:a.sourceId===e.getId(),action:"filter",source:e});if(a.sourceId===e.getId()){a.setText(e.get("name"));a.setIconCls(d)}})}},onSearchCleared:function(){var b=this,c=b.getList(),a=c.down("button[action=filter]");if(a.sourceId==="default"){b.loadStore()}else{b.updateEmptyText();b.getStore("User").removeAll()}},onSourceChanged:function(b){var c=this,d=c.getList(),a=d.down("button[action=filter]");a.setText(b.source.get("name"));a.setIconCls(b.iconCls);a.sourceId=b.source.getId();c.getUserSearchBox().setValue(undefined);if(a.sourceId==="default"){c.loadStore()}else{c.updateEmptyText();c.getStore("User").removeAll()}},updateEmptyText:function(){var d=this,e=d.getList(),b=e.down("button[action=filter]"),c=d.getUserSearchBox().getValue(),a="";if(b.sourceId==="default"){if(c){a+='No user matched query criteria "$filter"'}else{a+="No users defined"}}else{a+="No "+b.getText()+" user matched query criteria";if(c){a+=' "$filter"'}}e.getView().emptyText=NX.util.Filter.buildEmptyResult(c,a)},onSettingsSubmitted:function(a,b){this.loadStore()},bindDeleteButton:function(a){var b=this;a.mon(NX.Conditions.and(NX.Conditions.isPermitted(b.permission+":delete"),NX.Conditions.gridHasSelection(b.masters[0],function(c){return !c.get("external")&&(c.getId()!==NX.State.getUser().id)&&(c.getId()!==NX.State.getValue("anonymousUsername"))})),{satisfied:a.enable,unsatisfied:a.disable,scope:a})},deleteModel:function(a){var c=this,b=c.getDescription(a);NX.direct.coreui_User.remove(a.getId(),a.get("realm"),function(d){c.getStore("User").load();if(Ext.isObject(d)&&d.success){NX.Messages.add({text:NX.I18n.format("Users_Delete_Success",b),type:"success"})}})},bindMoreButton:function(a){var b=a.down("menuitem[action=setpassword]");a.mon(NX.Conditions.and(NX.Conditions.isPermitted("nexus:userschangepw:create"),NX.Conditions.gridHasSelection(this.masters[0],function(c){return !c.get("external")&&c.getId()!==NX.State.getValue("anonymousUsername")})),{satisfied:a.enable,unsatisfied:a.disable,scope:a});b.mon(NX.Conditions.isPermitted("nexus:userschangepw:create"),{satisfied:b.enable,unsatisfied:b.disable,scope:b})},bindChangePasswordButton:function(a){a.mon(NX.Conditions.and(NX.Conditions.isPermitted("nexus:userschangepw:create")),{satisfied:a.enable,unsatisfied:a.disable,scope:a})},changePassword:function(b){var c=b.up("window"),a=b.up("form").down("#password").getValue();NX.direct.coreui_User.changePassword(c.authToken,c.userId,a,function(d){if(Ext.isObject(d)&&d.success){c.close();NX.Messages.add({text:NX.I18n.get("Users_Change_Success"),type:"success"})}})}});Ext.define("NX.coreui.view.capability.CapabilitySettingsForm",{extend:"NX.view.SettingsForm",alias:"widget.nx-coreui-capability-settings-form",requires:["NX.I18n"],initComponent:function(){var a=this;a.items=[{xtype:"hiddenfield",name:"id"},{xtype:"hiddenfield",name:"typeId"},{xtype:"hiddenfield",name:"notes"},{xtype:"checkbox",boxLabel:NX.I18n.get("Capability_CapabilitySettingsForm_Enabled_FieldLabel"),name:"enabled",allowBlank:false,checked:true,editable:true},{xtype:"nx-coreui-formfield-settingsfieldset"}];a.editableMarker=NX.I18n.get("Capability_CapabilityAdd_Create_Error");a.editableCondition=a.editableCondition||NX.Conditions.isPermitted("nexus:capabilities:update");a.callParent()},loadRecord:function(a){var c=this,d=NX.getApplication().getStore("CapabilityType").getById(a.get("typeId")),b=c.down("nx-coreui-formfield-settingsfieldset");c.callParent(arguments);if(d){b.importProperties(a.get("properties"),d.get("formFields"))}},getValues:function(){var c=this,a=c.getForm().getFieldValues(),b={id:a.id,typeId:a.typeId,notes:a.notes,enabled:a.enabled,properties:{}};Ext.apply(b.properties,c.down("nx-coreui-formfield-settingsfieldset").exportProperties(a));return b},markInvalid:function(a){this.down("nx-coreui-formfield-settingsfieldset").markInvalid(a)}});Ext.define("NX.coreui.view.capability.CapabilityFeature",{extend:"NX.view.drilldown.Drilldown",alias:"widget.nx-coreui-capability-feature",requires:["NX.I18n"],initComponent:function(){Ext.apply(this,{iconName:"capability-default",masters:[{xtype:"nx-coreui-capability-list"}],tabs:[{xtype:"nx-coreui-capability-summary",weight:10},{xtype:"nx-coreui-capability-settings",title:NX.I18n.get("Capability_CapabilitySettings_Title"),weight:20}],actions:[{xtype:"button",text:NX.I18n.get("Capability_CapabilityFeature_Delete_Button"),action:"delete",disabled:true,glyph:"xf056@FontAwesome"},"-",{xtype:"button",text:NX.I18n.get("Capability_CapabilityFeature_Enable_Button"),action:"enable",handler:function(a){a.fireEvent("runaction")},disabled:true,glyph:"xf04b@FontAwesome"},{xtype:"button",text:NX.I18n.get("Capability_CapabilityFeature_Disable_Button"),action:"disable",handler:function(a){a.fireEvent("runaction")},disabled:true,glyph:"xf04d@FontAwesome"}]});this.callParent()}});Ext.define("NX.coreui.view.capability.CapabilityStatus",{extend:"Ext.panel.Panel",alias:"widget.nx-coreui-capability-status",ui:"nx-inset",requires:["NX.I18n"],html:"",showStatus:function(a){this.html=a||NX.I18n.get("Capability_CapabilityStatus_EmptyText");if(this.body){this.update(this.html)}}});Ext.define("NX.coreui.view.capability.CapabilityAbout",{extend:"Ext.panel.Panel",alias:"widget.nx-coreui-capability-about",ui:"nx-inset",html:"",showAbout:function(a){this.html=a;if(this.body){this.update(this.html)}}});Ext.define("NX.coreui.view.capability.CapabilitySelectType",{extend:"NX.view.drilldown.Master",alias:"widget.nx-coreui-capability-selecttype",requires:["NX.I18n"],initComponent:function(){var a=this;a.store="CapabilityType";a.cls="nx-hr";a.columns=[{xtype:"nx-iconcolumn",width:36,iconVariant:"x16",iconName:function(){return"capability-default"}},{header:NX.I18n.get("Capability_CapabilitySelectType_Type_Header"),dataIndex:"name",flex:1},{header:NX.I18n.get("Capability_CapabilitySelectType_Description_Header"),dataIndex:"about",flex:2,renderer:function(c){var b;if(c){b=c.indexOf(".");if(b>0){c=c.substring(0,b)}return c.replace(/(<([^>]+)>)/ig,"")}return c}}];a.on("afterrender",function(d){var b=d.getView();d.tip=Ext.create("Ext.tip.ToolTip",{target:b.el,delegate:b.itemSelector,trackMouse:true,renderTo:Ext.getBody(),dismissDelay:0,listeners:{beforeshow:function c(e){e.update(b.getRecord(e.triggerElement).get("about"))}}})});a.callParent()}});Ext.define("NX.coreui.controller.Capabilities",{extend:"NX.controller.Drilldown",requires:["NX.view.info.Panel","NX.view.info.Entry","NX.Conditions","NX.Dialogs","NX.Messages","NX.Permissions","NX.I18n","NX.ext.grid.column.Renderers"],masters:["nx-coreui-capability-list"],stores:["Capability","CapabilityType"],models:["Capability"],views:["capability.CapabilityAdd","capability.CapabilityFeature","capability.CapabilityList","capability.CapabilitySummary","capability.CapabilitySelectType","capability.CapabilitySettings","capability.CapabilitySettingsForm","capability.CapabilityStatus","capability.CapabilityAbout","formfield.SettingsFieldSet"],refs:[{ref:"feature",selector:"nx-coreui-capability-feature"},{ref:"content",selector:"nx-feature-content"},{ref:"list",selector:"nx-coreui-capability-list"},{ref:"summaryTab",selector:"nx-coreui-capability-summary"},{ref:"settingsTab",selector:"nx-coreui-capability-settings"},{ref:"summaryPanel",selector:"#nx-coreui-capability-summary-subsection"},{ref:"statusPanel",selector:"nx-coreui-capability-status"},{ref:"aboutPanel",selector:"nx-coreui-capability-about"},{ref:"notesPanel",selector:"#nx-coreui-capability-notes-subsection"},{ref:"settingsPanel",selector:"nx-coreui-capability-settings-form"}],icons:{"capability-default":{file:"brick.png",variants:["x16","x32"]},"capability-active":{file:"brick_valid.png",variants:["x16","x32"]},"capability-disabled":{file:"brick_grey.png",variants:["x16","x32"]},"capability-error":{file:"brick_error.png",variants:["x16","x32"]},"capability-passive":{file:"brick_error.png",variants:["x16","x32"]}},permission:"nexus:capabilities",init:function(){var a=this;a.features={mode:"admin",path:"/System/Capabilities",text:NX.I18n.get("Capabilities_Text"),description:NX.I18n.get("Capabilities_Description"),view:{xtype:"nx-coreui-capability-feature"},iconConfig:{file:"brick.png",variants:["x16","x32"]},visible:function(){return NX.Permissions.check("nexus:capabilities:read")}};a.callParent();a.listen({controller:{"#Refresh":{refresh:a.loadStores}},store:{"#Capability":{load:a.onCapabilityLoad}},component:{"nx-coreui-capability-list":{beforerender:a.loadStores},"nx-coreui-capability-list button[action=new]":{click:a.showSelectTypePanel},"nx-coreui-capability-feature button[action=enable]":{runaction:a.enableCapability,afterrender:a.bindEnableButton},"nx-coreui-capability-feature button[action=disable]":{runaction:a.disableCapability,afterrender:a.bindDisableButton},"nx-coreui-capability-settings button[action=save]":{click:a.updateCapability},"nx-coreui-capability-add button[action=add]":{click:a.createCapability},"nx-coreui-capability-selecttype":{cellclick:a.showAddPanel},"nx-coreui-capability-summary form":{submitted:a.onSettingsSubmitted}}})},getDescription:function(a){var b=a.get("typeName");if(a.get("description")){b+=" - "+a.get("description")}return b},onSelection:function(c,a){var b=this,d;if(Ext.isDefined(a)){d=b.getStore("CapabilityType").getById(a.get("typeId"));b.eventuallyShowWarning(a);b.showSummary(a);b.showSettings(a);b.showStatus(a);b.showAbout(d)}},eventuallyShowWarning:function(a){var b=this;if(a.get("enabled")&&!a.get("active")){b.showWarning(a.get("stateDescription"))}else{b.clearWarning()}},showSummary:function(b){var a=this.getSummaryTab(),c={};c[NX.I18n.get("Capabilities_TypeName_Text")]=b.get("typeName");c[NX.I18n.get("Capabilities_Description_Text")]=b.get("description");c[NX.I18n.get("Capabilities_State_Text")]=Ext.String.capitalize(b.get("state"));if(Ext.isDefined(b.get("tags"))){Ext.apply(c,b.get("tags"))}a.showInfo(c);a.down("form").loadRecord(b)},showSettings:function(a){this.getSettingsTab().loadRecord(a)},showStatus:function(a){this.getStatusPanel().showStatus(a.get("status"))},showAbout:function(a){this.getAboutPanel().showAbout(a?a.get("about"):undefined)},showSelectTypePanel:function(){var a=this;a.setItemName(1,NX.I18n.get("Capabilities_Select_Title"));a.loadCreateWizard(1,true,Ext.widget({xtype:"panel",layout:{type:"vbox",align:"stretch",pack:"start"},items:[{xtype:"nx-coreui-capability-selecttype",flex:1}]}))},showAddPanel:function(f,g,d,c){var e=this,b;e.setItemName(2,NX.I18n.format("Capabilities_Create_Title",c.get("name")));e.loadCreateWizard(2,true,b=Ext.create("widget.nx-coreui-capability-add"));var a=e.getCapabilityModel().create({typeId:c.getId(),enabled:true});b.down("nx-settingsform").loadRecord(a)},bindNewButton:function(a){a.mon(NX.Conditions.and(NX.Conditions.isPermitted(this.permission+":create"),NX.Conditions.storeHasRecords("CapabilityType")),{satisfied:a.enable,unsatisfied:a.disable,scope:a})},bindEnableButton:function(a){a.mon(NX.Conditions.and(NX.Conditions.isPermitted("nexus:capabilities:update"),NX.Conditions.gridHasSelection("nx-coreui-capability-list",function(b){return !b.get("enabled")})),{satisfied:a.enable,unsatisfied:a.disable,scope:a})},bindDisableButton:function(a){a.mon(NX.Conditions.and(NX.Conditions.isPermitted("nexus:capabilities:update"),NX.Conditions.gridHasSelection("nx-coreui-capability-list",function(b){return b.get("enabled")})),{satisfied:a.enable,unsatisfied:a.disable,scope:a})},createCapability:function(b){var d=this,c=b.up("form"),a=c.getValues();NX.direct.capability_Capability.create(a,function(e){if(Ext.isObject(e)){if(e.success){NX.Messages.add({text:NX.I18n.format("Capabilities_Create_Success",d.getDescription(d.getCapabilityModel().create(e.data))),type:"success"});d.getStore("Capability").load()}else{if(Ext.isDefined(e.errors)){c.markInvalid(e.errors)}}}})},updateCapability:function(b){var d=this,c=b.up("form"),a=c.getValues();d.getContent().getEl().mask(NX.I18n.get("Capabilities_Update_Mask"));NX.direct.capability_Capability.update(a,function(e){d.getContent().getEl().unmask();if(Ext.isObject(e)){if(e.success){NX.Messages.add({text:NX.I18n.format("Capabilities_Update_Success",d.getDescription(d.getCapabilityModel().create(e.data))),type:"success"});c.fireEvent("submitted",c);d.getStore("Capability").load()}else{if(Ext.isDefined(e.errors)){c.markInvalid(e.errors)}}}})},deleteModel:function(a){var c=this,b=c.getDescription(a);NX.direct.capability_Capability.remove(a.getId(),function(d){c.getStore("Capability").load();if(Ext.isObject(d)&&d.success){NX.Messages.add({text:NX.I18n.format("Capabilities_Delete_Success",b),type:"success"})}})},onSettingsSubmitted:function(){this.getCapabilityStore().load()},enableCapability:function(){var d=this,b=NX.Bookmarks.getBookmark(),a,e,c;e=decodeURIComponent(b.getSegment(1));a=d.getList().getStore().getById(e);c=d.getDescription(a);d.getContent().getEl().mask(NX.I18n.get("Capabilities_Enable_Mask"));NX.direct.capability_Capability.enable(a.getId(),function(f){d.getContent().getEl().unmask();if(Ext.isObject(f)&&f.success){d.getStore("Capability").load();NX.Messages.add({text:NX.I18n.format("Capabilities_Enable_Text",c),type:"success"})}})},disableCapability:function(){var d=this,b=NX.Bookmarks.getBookmark(),a,e,c;e=decodeURIComponent(b.getSegment(1));a=d.getList().getStore().getById(e);c=d.getDescription(a);d.getContent().getEl().mask(NX.I18n.get("Capabilities_Disable_Mask"));NX.direct.capability_Capability.disable(a.getId(),function(f){d.getContent().getEl().unmask();if(Ext.isObject(f)&&f.success){d.getStore("Capability").load();NX.Messages.add({text:NX.I18n.format("Capabilities_Disable_Text",c),type:"success"})}})},dynamicTags:[],onCapabilityLoad:function(a){var c=this,d,b;b=c.discoverDynamicTags(a);if(!Ext.Array.equals(b,c.dynamicTags)){c.addDynamicTagFieldsToModel(b);c.dynamicTags=b}c.addDynamicTagDataToStoreRecords(a,b);d=c.getList();if(d&&d.originalColumns){c.addDynamicTagsToGrid(d,b)}else{}c.reselect()},discoverDynamicTags:function(a){var b=[];a.each(function(c){Ext.Object.each(c.get("tags"),function(d){if(b.indexOf(d)===-1){b.push(d)}})});Ext.Array.sort(b);return b},addDynamicTagFieldsToModel:function(c){var d=this,b=d.getCapabilityModel(),a=b.prototype.fields.getRange();Ext.Array.each(c,function(e){a.push({name:"tag$"+e,type:"string"})});b.setFields(a)},addDynamicTagDataToStoreRecords:function(a,b){a.each(function(c){var d=c.get("tags");if(d){Ext.Array.each(b,function(e){c.set("tag$"+e,d[e])})}});a.commitChanges()},addDynamicTagsToGrid:function(a,c){var d=Ext.Array.clone(a.originalColumns),b=[];Ext.Array.each(c,function(e){b.push({text:e,dataIndex:"tag$"+e,flex:1,renderer:NX.ext.grid.column.Renderers.optionalData})});Ext.Array.insert(d,2,b);a.reconfigure(null,d)}});Ext.define("NX.coreui.view.privilege.PrivilegeSettingsForm",{extend:"NX.view.SettingsForm",alias:"widget.nx-coreui-privilege-settings-form",requires:["NX.I18n"],initComponent:function(){var a=this;Ext.apply(a,{items:[{xtype:"hiddenfield",name:"id"},{xtype:"hiddenfield",name:"version"},{xtype:"hiddenfield",name:"type"},{xtype:"textfield",fieldLabel:NX.I18n.get("Privilege_PrivilegeSettingsForm_Name_FieldLabel"),name:"name",itemId:"name",allowBlank:false,readOnly:true},{xtype:"textfield",fieldLabel:NX.I18n.get("Privilege_PrivilegeSettingsForm_Description_FieldLabel"),name:"description",allowBlank:true},{xtype:"nx-coreui-formfield-settingsfieldset"}],settingsFormSuccessMessage:a.settingsFormSuccessMessage||function(b){return NX.I18n.format("Privilege_PrivilegeSettingsForm_Update_Success",b.name)},editableMarker:a.editableMarker||NX.I18n.get("Privilege_PrivilegeSettingsForm_Update_Error"),editableCondition:a.editableCondition||NX.Conditions.and(NX.Conditions.isPermitted("nexus:privileges:update"),NX.Conditions.formHasRecord("nx-coreui-privilege-settings-form",function(b){return !b.get("readOnly")}))});a.callParent()},loadRecord:function(a){var d=this,c=NX.getApplication().getStore("PrivilegeType").getById(a.get("type")),b=d.down("nx-coreui-formfield-settingsfieldset");if(c){b.importProperties(a.get("properties"),c.get("formFields"),d.editableCondition)}d.callParent(arguments)},getValues:function(){var c=this,b=c.getForm().getFieldValues(),a={id:b.id,name:b.name,description:b.description,version:b.version,type:b.type,readOnly:b.readOnly,properties:{}};Ext.apply(a.properties,c.down("nx-coreui-formfield-settingsfieldset").exportProperties(b));return a},markInvalid:function(a){this.down("nx-coreui-formfield-settingsfieldset").markInvalid(a)}});Ext.define("NX.coreui.store.SearchResult",{extend:"Ext.data.Store",model:"NX.coreui.model.Component",proxy:{type:"direct",api:{read:"NX.direct.coreui_Search.read"},reader:{type:"json",root:"data",successProperty:"success"}},buffered:true,pageSize:300,remoteFilter:true,remoteSort:true,sorters:{property:"name",direction:"ASC"}});Ext.define("NX.coreui.view.system.Nodes",{extend:"NX.view.drilldown.Drilldown",alias:"widget.nx-coreui-system-nodes",requires:["NX.I18n"],initComponent:function(){var a=this;a.iconName="node-default";if(NX.app.Application.bundleActive("com.sonatype.nexus.plugins.nexus-hazelcast-plugin")&&NX.State.getValue("nodes",{})["enabled"]){a.masters=[{xtype:"nx-coreui-system-nodelist"}];a.tabs={xtype:"nx-info-panel",title:NX.I18n.get("System_Bundles_Details_Tab")}}else{a.masters=[{xtype:"nx-coreui-system-nodes-disabled"}];a.tabs=undefined;a.skipDetail=true}this.callParent()}});Ext.define("NX.coreui.controller.Nodes",{extend:"NX.controller.Drilldown",requires:["NX.view.info.Panel","NX.view.info.Entry","NX.util.Url","NX.Permissions","NX.I18n"],masters:["nx-coreui-system-nodelist","nx-coreui-system-nodes-disabled"],stores:["Node"],views:["system.Nodes","system.NodeList","system.NodesDisabledMessage"],refs:[{ref:"feature",selector:"nx-coreui-system-nodes"},{ref:"list",selector:"nx-coreui-system-nodelist"},{ref:"info",selector:"nx-coreui-system-nodes nx-info-panel"},{ref:"content",selector:"nx-feature-content"},{ref:"toggleFreezeButton",selector:"button[action=freeze]"}],features:{mode:"admin",path:"/System/Nodes",text:"Nodes",description:"View nodes",view:"NX.coreui.view.system.Nodes",iconConfig:{file:"servers_network.png",variants:["x16","x32"]},visible:function(){return NX.Permissions.check("nexus:nodes:read")}},icons:{"node-default":{file:"server.png",variants:["x16","x32"]}},init:function(){var a=this;a.callParent();a.listen({controller:{"#Refresh":{refresh:a.loadStores}},store:{"#Node":{load:a.reselect}},component:{"button[action=freeze]":{click:a.toggleFreeze,beforerender:a.load}}})},getDescription:function(a){return a.get("nodeIdentity")},dbFrozen:false,load:function(){var a=this;a.updateFreezeStatus(NX.State.getValue("db",{})["dbFrozen"])},updateFreezeStatus:function(a){var b=this;b.dbFrozen=a;b.getToggleFreezeButton().setText(b.dbFrozen?NX.I18n.get("Nodes_Disable_read_only_mode"):NX.I18n.get("Nodes_Enable_read_only_mode"));NX.State.setValue("db",{dbFrozen:b.dbFrozen})},toggleFreeze:function(){var c=this;var b=c.dbFrozen?NX.I18n.get("Nodes_Disable_read_only_mode_dialog"):NX.I18n.get("Nodes_Enable_read_only_mode_dialog");var a=c.dbFrozen?NX.I18n.get("Nodes_disable_read_only_mode_dialog_description"):NX.I18n.get("Nodes_enable_read_only_mode_dialog_description");NX.Dialogs.askConfirmation(b,a,function(){var d={frozen:!c.dbFrozen};c.getContent().getEl().mask(NX.I18n.get("Nodes_Toggling_read_only_mode"));NX.direct.coreui_DatabaseFreeze.update(d,function(e){c.getContent().getEl().unmask();if(Ext.isObject(e)&&e.success){c.updateFreezeStatus(e.data.frozen)}})},{scope:c})},onSelection:function(d,b){var c=this,e,a;if(Ext.isDefined(b)){e={};e["Node Identity"]=b.get("nodeIdentity");e.Local=b.get("local");e["Socket Address"]=b.get("socketAddress");a=b.get("attributes");if(a){Ext.iterate(a,function(f,g){if(f!=="node.identity"){e[f]=g}})}c.getInfo().showInfo(e)}}});Ext.define("NX.coreui.audit.AuditList",{extend:"Ext.grid.Panel",alias:"widget.nx-coreui-audit-list",requires:["Ext.XTemplate","NX.I18n","NX.util.DateFormat","NX.coreui.audit.AuditStore"],stateful:true,stateId:"nx-coreui-audit-list",initComponent:function(){var b=this,a=NX.getApplication().getController("Icon");Ext.apply(b,{store:"NX.coreui.audit.AuditStore",viewConfig:{stripeRows:true,emptyText:NX.I18n.render(b,"EmptyText"),deferEmptyText:false},columns:[{xtype:"nx-iconcolumn",width:36,iconVariant:"x16",iconName:function(e,f,c){var g="audit-"+c.get("domain");var d=a.findIcon(g,"x16");if(d!==null){return g}return"audit-default"}},{header:NX.I18n.render(b,"Domain"),dataIndex:"domain",stateId:"domain",flex:1},{header:NX.I18n.render(b,"Type"),dataIndex:"type",stateId:"type",flex:1},{header:NX.I18n.render(b,"Context"),dataIndex:"context",stateId:"context",flex:1},{xtype:"datecolumn",header:NX.I18n.render(b,"Timestamp"),dataIndex:"timestamp",stateId:"timestamp",flex:1},{header:NX.I18n.render(b,"NodeId"),dataIndex:"nodeId",stateId:"nodeId",flex:1,hidden:true},{header:NX.I18n.render(b,"Initiator"),dataIndex:"initiator",stateId:"initiator",flex:1}],dockedItems:[{xtype:"nx-actions",items:[{xtype:"button",text:NX.I18n.render(b,"Clear_Button"),glyph:"xf056@FontAwesome",action:"clear",disabled:true},"-",{xtype:"pagingtoolbar",store:"NX.coreui.audit.AuditStore",border:false,displayInfo:true}]}],plugins:[{ptype:"rowexpander",rowBodyTpl:Ext.create("Ext.XTemplate",'<table class="nx-rowexpander">','<tpl for="this.data(values)">',"<tr>",'<td class="x-selectable">{name}</td>','<td class="x-selectable">{value}</td>',"</tr>","</tpl>","</table>",{compiled:true,data:function(d){var c=[{name:NX.I18n.render(b,"Domain"),value:d.domain},{name:NX.I18n.render(b,"Type"),value:d.type},{name:NX.I18n.render(b,"Context"),value:d.context},{name:NX.I18n.render(b,"Timestamp"),value:NX.util.DateFormat.timestamp(d.timestamp)},{name:NX.I18n.render(b,"NodeId"),value:d.nodeId},{name:NX.I18n.render(b,"Initiator"),value:d.initiator}];Ext.iterate(d.attributes,function(e,f){c.push({name:NX.I18n.render(b,"Attribute",e),value:f})});return c}})},{ptype:"gridfilterbox",emptyText:NX.I18n.render(b,"Filter_EmptyText")}]});b.callParent()}});Ext.define("NX.coreui.audit.AuditController",{extend:"NX.app.Controller",requires:["NX.Conditions","NX.State","NX.Messages","NX.Dialogs","NX.I18n","NX.coreui.audit.AuditList"],stores:["NX.coreui.audit.AuditStore"],refs:[{ref:"list",selector:"nx-coreui-audit-list"},{ref:"content",selector:"nx-feature-content"}],init:function(){var a=this;a.getApplication().getIconController().addIcons({"audit-default":{file:"report.png",variants:["x16","x32"]},"audit-blobstore":{file:"drive_network.png",variants:["x16","x32"]},"audit-capability":{file:"brick.png",variants:["x16","x32"]},"audit-httpclient":{file:"lorry.png",variants:["x16","x32"]},"audit-logging":{file:"book.png",variants:["x16","x32"]},"audit-repository":{file:"database.png",variants:["x16","x32"]},"audit-email":{file:"email.png",variants:["x16","x32"]},"audit-tasks":{file:"time.png",variants:["x16","x32"]},"audit-license":{file:"license_key.png",variants:["x16","x32"]},"audit-security.anonymous":{file:"user_silhouette.png",variants:["x16","x32"]},"audit-security.crowd":{file:"crowd.png",variants:["x16"]},"audit-security.privilege":{file:"medal_gold_red.png",variants:["x16","x32"]},"audit-security.realm":{file:"shield.png",variants:["x16","x32"]},"audit-security.role":{file:"user_policeman.png",variants:["x16","x32"]},"audit-security.ldap":{file:"book_addresses.png",variants:["x16","x32"]},"audit-security.sslcertificate":{file:"ssl_certificates.png",variants:["x16","x32"]},"audit-security.user":{file:"user.png",variants:["x16","x32"]},"audit-security.user-role-mapping":{file:"user.png",variants:["x16","x32"]}});a.getApplication().getFeaturesController().registerFeature({mode:"admin",path:"/System/Audit",text:NX.I18n.render(this,"Text"),description:NX.I18n.render(this,"Description"),view:{xtype:"nx-coreui-audit-list"},iconConfig:{file:"report_stack.png",variants:["x16","x32"]},visible:function(){var b=NX.State.getValue("audit");return NX.Permissions.check("nexus:audit:read")&&b&&b.enabled}},a);a.listen({controller:{"#Refresh":{refresh:a.load}},component:{"nx-coreui-audit-list":{afterrender:a.load},"nx-coreui-audit-list button[action=clear]":{click:a.clear,afterrender:a.bindClearButton}}})},load:function(){var a=this.getList();if(a){a.getStore().load()}},clear:function(){var a=this;NX.Dialogs.askConfirmation(NX.I18n.render(a,"Clear_Title"),NX.I18n.render(a,"Clear_Body"),function(){a.getContent().getEl().mask(NX.I18n.render(a,"Clear_Mask"));NX.direct.audit_Audit.clear(function(b){a.getContent().getEl().unmask();a.load();if(Ext.isObject(b)&&b.success){NX.Messages.add({text:NX.I18n.render(a,"Clear_Success"),type:"success"})}})})},bindClearButton:function(a){a.mon(NX.Conditions.isPermitted("nexus:audit:delete"),{satisfied:a.enable,unsatisfied:a.disable,scope:a})}});Ext.define("NX.coreui.store.SearchResultVersion",{extend:"Ext.data.Store",model:"NX.coreui.model.SearchResultVersion",proxy:{type:"direct",api:{read:"NX.direct.coreui_Search.readVersions"},reader:{type:"json",root:"data",successProperty:"success"}},remoteFilter:true,sorters:{property:"versionOrder",direction:"DESC"}});Ext.define("NX.coreui.controller.Roles",{extend:"NX.controller.Drilldown",requires:["NX.Conditions","NX.Messages","NX.Permissions","NX.I18n"],masters:["nx-coreui-role-list"],models:["Role"],stores:["Role","RoleSource","RoleBySource","PrivilegeReference"],views:["role.RoleAdd","role.RoleFeature","role.RoleList","role.RoleSettings","role.RoleSettingsForm"],refs:[{ref:"feature",selector:"nx-coreui-role-feature"},{ref:"list",selector:"nx-coreui-role-list"},{ref:"settings",selector:"nx-coreui-role-feature nx-coreui-role-settings"}],icons:{"role-default":{file:"user_policeman.png",variants:["x16","x32"]},"role-externalmapping":{file:"shield.png",variants:["x16","x32"]}},permission:"nexus:roles",init:function(){var a=this;a.features={mode:"admin",path:"/Security/Roles",text:NX.I18n.get("Roles_Text"),description:NX.I18n.get("Roles_Description"),view:{xtype:"nx-coreui-role-feature"},iconConfig:{file:"user_policeman.png",variants:["x16","x32"]},visible:function(){return NX.Permissions.check("nexus:roles:read")&&NX.Permissions.check("nexus:privileges:read")},weight:20};a.callParent();a.listen({controller:{"#Refresh":{refresh:a.loadStores}},store:{"#Role":{load:a.reselect},"#RoleSource":{load:a.onRoleSourceLoad}},component:{"nx-coreui-role-list":{beforerender:a.loadStores},"nx-coreui-role-list menuitem[action=newrole]":{click:a.showAddWindowRole},"nx-coreui-role-list menuitem[action=newmapping]":{click:a.showAddWindowMapping},"nx-coreui-role-settings-form":{submitted:a.onSettingsSubmitted}}})},getDescription:function(a){return a.get("name")},onSelection:function(b,a){if(Ext.isDefined(a)){this.getSettings().loadRecord(a)}},showAddWindowRole:function(){var a=this;a.setItemName(1,NX.I18n.get("Roles_Create_Title"));a.loadCreateWizard(1,true,Ext.create("widget.nx-coreui-role-add"))},showAddWindowMapping:function(a){var b=this;b.getStore("RoleBySource").load({params:{source:a.source}});b.setItemName(1,NX.I18n.get("Roles_Create_Title"));b.loadCreateWizard(1,true,Ext.create("widget.nx-coreui-role-add",{source:a.source}))},onRoleSourceLoad:function(a){var d=this.getList(),c,b=[];if(d){c=d.down("button[action=new]");if(c.menu.items.length>1){c.menu.remove(1)}a.each(function(e){b.push({text:e.get("name"),iconCls:NX.Icons.cls(e.getId().toLowerCase()+"-security-source","x16"),action:"newmapping",source:e.getId()})});c.menu.add({text:NX.I18n.get("Roles_New_ExternalRoleItem"),menu:b,iconCls:NX.Icons.cls("role-externalmapping","x16")})}},bindDeleteButton:function(a){var b=this;a.mon(NX.Conditions.and(NX.Conditions.isPermitted(b.permission+":delete"),NX.Conditions.gridHasSelection(b.masters[0],function(c){return !c.get("readOnly")})),{satisfied:a.enable,unsatisfied:a.disable,scope:a})},onSettingsSubmitted:function(a,b){this.getStore("Role").load()},deleteModel:function(a){var c=this,b=c.getDescription(a);NX.direct.coreui_Role.remove(a.getId(),function(d){c.getStore("Role").load();if(Ext.isObject(d)&&d.success){NX.Messages.add({text:NX.I18n.format("Roles_Delete_Message",b),type:"success"})}})}});Ext.define("NX.coreui.view.repository.recipe.RubygemsGroup",{extend:"NX.coreui.view.repository.RepositorySettingsForm",alias:"widget.nx-coreui-repository-rubygems-group",requires:["NX.coreui.view.repository.facet.StorageFacet","NX.coreui.view.repository.facet.GroupFacet"],initComponent:function(){var a=this;a.items=[{xtype:"nx-coreui-repository-storage-facet"},{xtype:"nx-coreui-repository-group-facet",format:"rubygems"}];a.callParent()}});Ext.define("NX.coreui.view.repository.recipe.PyPiProxy",{extend:"NX.coreui.view.repository.RepositorySettingsForm",alias:"widget.nx-coreui-repository-pypi-proxy",requires:["NX.coreui.view.repository.facet.ProxyFacet","NX.coreui.view.repository.facet.StorageFacet","NX.coreui.view.repository.facet.HttpClientFacet","NX.coreui.view.repository.facet.NegativeCacheFacet"],initComponent:function(){var a=this;a.items=[{xtype:"nx-coreui-repository-proxy-facet"},{xtype:"nx-coreui-repository-storage-facet"},{xtype:"nx-coreui-repository-negativecache-facet"},{xtype:"nx-coreui-repository-httpclient-facet"}];a.callParent()}});Ext.define("NX.coreui.view.logging.LoggerFeature",{extend:"NX.view.drilldown.Drilldown",alias:"widget.nx-coreui-logging-feature",requires:["NX.I18n"],iconName:"logger-default",detail:{xtype:"nx-coreui-logger-list"}});Ext.define("NX.coreui.store.Logger",{extend:"Ext.data.Store",model:"NX.coreui.model.Logger",proxy:{type:"direct",paramsAsHash:false,api:{read:"NX.direct.logging_Loggers.read",create:"NX.direct.logging_Loggers.update",update:"NX.direct.logging_Loggers.update"},reader:{type:"json",root:"data",idProperty:"name",successProperty:"success"}},autoSync:true,sorters:{property:"name",direction:"ASC"}});Ext.define("NX.coreui.controller.Privileges",{extend:"NX.controller.Drilldown",requires:["NX.view.info.Panel","NX.view.info.Entry","NX.Conditions","NX.Messages","NX.Permissions","NX.I18n"],masters:["nx-coreui-privilege-list"],stores:["Privilege","PrivilegeType"],models:["Privilege","PrivilegeType"],views:["privilege.PrivilegeAdd","privilege.PrivilegeFeature","privilege.PrivilegeList","privilege.PrivilegeSelectType","privilege.PrivilegeSettings","privilege.PrivilegeSettingsForm","formfield.SettingsFieldSet"],refs:[{ref:"feature",selector:"nx-coreui-privilege-feature"},{ref:"content",selector:"nx-feature-content"},{ref:"list",selector:"nx-coreui-privilege-list"},{ref:"searchBox",selector:"nx-coreui-privilege-list nx-searchbox"},{ref:"settings",selector:"nx-coreui-privilege-feature nx-coreui-privilege-settings"}],icons:{"privilege-default":{file:"medal_gold_red.png",variants:["x16","x32"]},"privilege-application":{file:"medal_gold_green.png",variants:["x16","x32"]},"privilege-wildcard":{file:"medal_gold_blue.png",variants:["x16","x32"]},"privilege-repository":{file:"database.png",variants:["x16","x32"]},"privilege-repository-admin":{file:"database_red.png",variants:["x16","x32"]},"privilege-repository-content-selector":{file:"content_selector.png",variants:["x16","x32"]},"privilege-repository-view":{file:"database.png",variants:["x16","x32"]},"privilege-script":{file:"script_text.png",variants:["x16","x32"]}},permission:"nexus:privileges",init:function(){var a=this;a.features={mode:"admin",path:"/Security/Privileges",text:NX.I18n.get("Privileges_Text"),description:NX.I18n.get("Privileges_Description"),view:{xtype:"nx-coreui-privilege-feature"},iconConfig:{file:"medal_gold_green.png",variants:["x16","x32"]},visible:function(){return NX.Permissions.check("nexus:privileges:read")},weight:10};a.callParent();a.listen({controller:{"#Refresh":{refresh:a.loadStores}},store:{"#Privilege":{load:function(){a.reselect(arguments);a.getSearchBox().focus()}}},component:{"nx-coreui-privilege-list":{beforerender:a.loadStores},"nx-coreui-privilege-list button[action=new]":{click:a.showSelectTypePanel},"nx-coreui-privilege-selecttype":{cellclick:a.showAddPanel},"nx-coreui-privilege-add button[action=add]":{click:a.createPrivilege},"nx-coreui-privilege-settings button[action=save]":{click:a.updatePrivilege}}})},getDescription:function(a){return a.get("name")},onSelection:function(c,a){var b=this.getSettings();if(Ext.isDefined(a)){b.loadRecord(a)}},showAddPanel:function(f,g,d,c){var e=this,b;e.setItemName(2,NX.I18n.format("Privileges_Create_Title",c.get("name")));e.loadCreateWizard(2,true,b=Ext.create("widget.nx-coreui-privilege-add"));var a=e.getPrivilegeModel().create({type:c.getId(),readonly:false});b.down("nx-settingsform").loadRecord(a)},bindNewButton:function(a){a.mon(NX.Conditions.and(NX.Conditions.isPermitted(this.permission+":create"),NX.Conditions.storeHasRecords("PrivilegeType")),{satisfied:a.enable,unsatisfied:a.disable,scope:a})},bindDeleteButton:function(a){var b=this;a.mon(NX.Conditions.and(NX.Conditions.isPermitted(b.permission+":delete"),NX.Conditions.gridHasSelection(b.masters[0],function(c){return !c.get("readOnly")})),{satisfied:a.enable,unsatisfied:a.disable,scope:a})},createPrivilege:function(b){var d=this,c=b.up("form"),a=c.getValues();NX.direct.coreui_Privilege.create(a,function(e){if(Ext.isObject(e)){if(e.success){NX.Messages.add({text:NX.I18n.format("Privileges_Create_Success",d.getDescription(d.getPrivilegeModel().create(e.data))),type:"success"});d.getStore("Privilege").load()}else{if(Ext.isDefined(e.errors)){c.markInvalid(e.errors)}}}})},updatePrivilege:function(b){var d=this,c=b.up("form"),a=c.getValues();d.getContent().getEl().mask(NX.I18n.get("Privileges_Update_Mask"));NX.direct.coreui_Privilege.update(a,function(e){d.getContent().getEl().unmask();if(Ext.isObject(e)){if(e.success){NX.Messages.add({text:NX.I18n.format("Privileges_Update_Success",d.getDescription(d.getPrivilegeModel().create(e.data))),type:"success"});c.fireEvent("submitted",c);d.getStore("Privilege").load()}else{if(Ext.isDefined(e.errors)){c.markInvalid(e.errors)}}}})},deleteModel:function(a){var b=this;NX.direct.coreui_Privilege.remove(a.getId(),function(c){b.getStore("Privilege").load();if(Ext.isObject(c)&&c.success){NX.Messages.add({text:NX.I18n.format("Privileges_Delete_Success",a.get("name")),type:"success"})}})},showSelectTypePanel:function(){var a=this;a.setItemName(1,NX.I18n.get("Privileges_Select_Title"));a.loadCreateWizard(1,true,Ext.widget({xtype:"panel",layout:{type:"vbox",align:"stretch",pack:"start"},items:[{xtype:"nx-coreui-privilege-selecttype",flex:1}]}))}});Ext.define("NX.coreui.view.repository.RepositoryFeature",{extend:"NX.view.drilldown.Drilldown",alias:"widget.nx-coreui-repository-feature",requires:["NX.I18n"],initComponent:function(){Ext.apply(this,{iconName:"repository-default",masters:[{xtype:"nx-coreui-repository-list"}],tabs:{xtype:"nx-coreui-repository-settings"},actions:[{xtype:"button",text:NX.I18n.get("Repository_RepositoryFeature_Delete_Button"),glyph:"xf056@FontAwesome",action:"delete",disabled:true},{xtype:"button",text:NX.I18n.get("Repository_RepositoryFeature_RebuildIndex_Button"),glyph:"xf0ad@FontAwesome",action:"rebuildIndex",disabled:true},{xtype:"button",text:NX.I18n.get("Repository_RepositoryFeature_InvalidateCache_Button"),glyph:"xf12d@FontAwesome",action:"invalidateCache",disabled:true},{xtype:"button",text:NX.I18n.get("Repository_RepositoryFeature_HealthCheckEnable_Button"),glyph:"xf201@FontAwesome",action:"toggleHealthCheck",disabled:true}]});this.callParent()}});Ext.define("NX.coreui.controller.Loggers",{extend:"NX.controller.Drilldown",requires:["NX.Conditions","NX.Dialogs","NX.Permissions","NX.Messages","NX.I18n"],detail:"nx-coreui-logger-list",stores:["Logger"],models:["Logger"],views:["logging.LoggerAdd","logging.LoggerList","logging.LoggerFeature"],refs:[{ref:"feature",selector:"nx-coreui-logging-feature"},{ref:"list",selector:"nx-coreui-logger-list"}],init:function(){var a=this;a.callParent();a.getApplication().getIconController().addIcons({"logger-default":{file:"book.png",variants:["x16","x32"]}});a.getApplication().getFeaturesController().registerFeature({mode:"admin",path:"/Support/Logging",text:NX.I18n.get("Loggers_Text"),description:NX.I18n.get("Loggers_Description"),view:{xtype:"nx-coreui-logging-feature"},iconConfig:{file:"book.png",variants:["x16","x32"]},visible:function(){return NX.Permissions.check("nexus:logging:read")}},a);a.listen({controller:{"#Refresh":{refresh:a.loadStore}},store:{"#Logger":{write:a.onWrite}},component:{"nx-coreui-logger-list":{beforerender:a.loadStore,beforeedit:a.onBeforeEdit},"nx-coreui-logger-list button[action=new]":{afterrender:a.bindNewButton,click:a.showAddWindow},"nx-coreui-logger-list button[action=delete]":{afterrender:a.bindDeleteButton,click:a.removeLogger},"nx-coreui-logger-list button[action=reset]":{afterrender:a.bindResetButton,click:a.resetLoggers},"nx-coreui-logger-add button[action=add]":{click:a.addLogger}}})},loadStore:function(){var a=this.getList();if(a){a.getStore().load()}},onWrite:function(b,a){this.loadStore();if(a.success){Ext.Array.each(a.records,function(c){NX.Messages.add({text:NX.I18n.format("Loggers_Write_Success",a.action,c.get("name")),type:"success"})})}},showAddWindow:function(a){var b=this;b.setItemName(1,NX.I18n.get("Loggers_Create_Title"));b.loadCreateWizard(1,true,Ext.create("widget.nx-coreui-logger-add"))},onBeforeEdit:function(){return NX.Permissions.check("nexus:logging:update")},addLogger:function(d){var f=this,e=d.up("form").getForm(),b=f.getStore("Logger"),a=e.getFieldValues(),c=b.getById(a.name);if(c){NX.Dialogs.askConfirmation(NX.I18n.get("Loggers_Update_Title"),NX.I18n.format("Loggers_HelpText",a.name,a.level),function(){c.set("level",a.level);f.loadView(0,true)})}else{c=f.getLoggerModel().create(a);c.setDirty();b.addSorted(c);b.sync();b.commitChanges();f.loadView(0,true)}},removeLogger:function(){var b=this,c=b.getList(),a=c.getSelectionModel().getSelection();if(a.length){NX.Dialogs.askConfirmation(NX.I18n.get("Loggers_Delete_Title"),a[0].get("name"),function(){NX.direct.logging_Loggers.remove(a[0].getId(),function(d){b.loadStore();if(Ext.isObject(d)&&d.success){NX.Messages.add({text:NX.I18n.format("Loggers_Delete_Success",a[0].get("name")),type:"success"})}})})}},resetLoggers:function(){var a=this;NX.Dialogs.askConfirmation(NX.I18n.get("Loggers_Reset_Title"),NX.I18n.get("Loggers_Reset_HelpText"),function(){NX.direct.logging_Loggers.reset(function(b){a.loadStore();if(Ext.isObject(b)&&b.success){NX.Messages.add({text:NX.I18n.get("Loggers_Reset_Success"),type:"success"})}})})},bindNewButton:function(a){a.mon(NX.Conditions.isPermitted("nexus:logging:update"),{satisfied:a.enable,unsatisfied:a.disable,scope:a})},bindDeleteButton:function(a){a.mon(NX.Conditions.and(NX.Conditions.isPermitted("nexus:logging:update"),NX.Conditions.gridHasSelection("nx-coreui-logger-list",function(b){return b.get("name")!=="ROOT"})),{satisfied:a.enable,unsatisfied:a.disable,scope:a})},bindResetButton:function(a){a.mon(NX.Conditions.isPermitted("nexus:logging:update"),{satisfied:a.enable,unsatisfied:a.disable,scope:a})}});Ext.define("NX.coreui.view.repository.recipe.NugetGroup",{extend:"NX.coreui.view.repository.RepositorySettingsForm",alias:"widget.nx-coreui-repository-nuget-group",requires:["NX.coreui.view.repository.facet.StorageFacet","NX.coreui.view.repository.facet.GroupFacet"],initComponent:function(){var a=this;a.items=[{xtype:"nx-coreui-repository-storage-facet"},{xtype:"nx-coreui-repository-group-facet",format:"nuget"}];a.callParent()}});Ext.define("NX.coreui.controller.SearchDocker",{extend:"NX.app.Controller",requires:["NX.I18n"],init:function(){var b=this,a=b.getController("NX.coreui.controller.Search");a.registerCriteria([{id:"attributes.docker.imageName",group:NX.I18n.get("SearchDocker_Group"),config:{format:"docker",fieldLabel:NX.I18n.get("SearchDocker_Image_Name_FieldLabel"),width:300}},{id:"attributes.docker.imageTag",group:NX.I18n.get("SearchDocker_Group"),config:{format:"docker",fieldLabel:NX.I18n.get("SearchDocker_Image_Tag_FieldLabel")}},{id:"attributes.docker.layerAncestry",group:NX.I18n.get("SearchDocker_Group"),config:{format:"docker",fieldLabel:NX.I18n.get("SearchDocker_LayerId_FieldLabel"),width:500}},{id:"attributes.docker.content_digest",group:NX.I18n.get("SearchDocker_Group"),config:{format:"docker",fieldLabel:NX.I18n.get("SearchDocker_ContentDigest_FieldLabel"),width:500}}],b);a.registerFilter({id:"docker",name:"Docker",text:NX.I18n.get("SearchDocker_Text"),description:NX.I18n.get("SearchDocker_Description"),readOnly:true,criterias:[{id:"format",value:"docker",hidden:true},{id:"attributes.docker.imageName"},{id:"attributes.docker.imageTag"},{id:"attributes.docker.layerAncestry"},{id:"attributes.docker.content_digest"}]},b)}});Ext.define("NX.coreui.view.repository.recipe.Maven2Hosted",{extend:"NX.coreui.view.repository.RepositorySettingsForm",alias:"widget.nx-coreui-repository-maven2-hosted",requires:["NX.coreui.view.repository.facet.Maven2Facet","NX.coreui.view.repository.facet.StorageFacet","NX.coreui.view.repository.facet.StorageFacetHosted"],initComponent:function(){var a=this;a.items=[{xtype:"nx-coreui-repository-maven2-facet"},{xtype:"nx-coreui-repository-storage-facet"},{xtype:"nx-coreui-repository-storage-hosted-facet"}];a.callParent()}});Ext.define("NX.coreui.view.search.SaveSearchFilter",{extend:"NX.view.AddPanel",alias:"widget.nx-coreui-search-save",requires:["NX.I18n"],initComponent:function(){Ext.apply(this,{title:NX.I18n.get("Search_SaveSearchFilter_Title"),defaultFocus:"name",settingsForm:{xtype:"nx-settingsform",items:[{xtype:"textfield",name:"name",itemId:"name",fieldLabel:NX.I18n.get("Search_SaveSearchFilter_Name_FieldLabel")},{xtype:"textfield",name:"description",fieldLabel:NX.I18n.get("Search_SaveSearchFilter_Description_FieldLabel"),allowBlank:true}]}});this.callParent()}});Ext.define("NX.coreui.controller.HealthCheckRepositoryColumn",{extend:"NX.app.Controller",requires:["Ext.grid.column.Column","Ext.ToolTip","NX.Conditions","NX.Permissions","NX.I18n","NX.Icons","NX.ext.grid.column.Renderers","NX.coreui.util.HealthCheckUtil"],models:["HealthCheckRepositoryStatus"],stores:["HealthCheckRepositoryStatus"],views:["healthcheck.HealthCheckSummary","healthcheck.HealthCheckEula"],refs:[{ref:"list",selector:"nx-coreui-repository-list-template"},{ref:"summary",selector:"nx-coreui-healthcheck-summary"}],init:function(){var a=this;a.getApplication().getIconController().addIcons({"license-alert":{file:"license-alert.png",variants:["x16"]},"security-alert":{file:"security-alert.png",variants:["x16"]}});a.listen({controller:{"#Permissions":{changed:a.refreshHealthCheckColumn}},store:{"#RepositoryReference":{load:a.loadHealthCheckStatus},"#HealthCheckRepositoryStatus":{load:a.refreshHealthCheckColumn}},component:{"nx-coreui-repository-list-template":{afterrender:a.bindHealthCheckColumn}}})},loadHealthCheckStatus:function(){var a=this,b=a.getList();if(b&&NX.Permissions.check("nexus:healthcheck:read")){a.getHealthCheckRepositoryStatusStore().load()}},bindHealthCheckColumn:function(a){var b=this;a.mon(NX.Conditions.isPermitted("nexus:healthcheck:read"),{satisfied:Ext.pass(b.addHealthCheckColumn,a),unsatisfied:Ext.pass(b.removeHealthCheckColumn,a),scope:b})},addHealthCheckColumn:function(b){var d=this,a=b.getView(),c=b.healthCheckColumn;if(!c){c=b.healthCheckColumn=Ext.create("Ext.grid.column.Column",{id:"healthCheckColumn",header:NX.I18n.get("HealthCheckRepositoryColumn_Header"),hideable:false,sortable:false,menuDisabled:true,stateId:"healthcheck",width:170,align:"center",renderer:Ext.bind(d.renderHealthCheckColumn,d),listeners:{click:Ext.bind(d.maybeAskToEnable,d)}});b.headerCt.add(c);a.refresh();b.healthCheckTooltip=Ext.create("Ext.ToolTip",{target:a.getEl(),delegate:a.getCellSelector(c),renderTo:NX.global.document.body,maxWidth:550,mouseOffset:[-585,-18],showDelay:400,hideDelay:20000,dismissDelay:20000,listeners:{beforeshow:Ext.bind(d.updateHealthCheckColumnTooltip,d)}})}},removeHealthCheckColumn:function(a){var b=a.healthCheckColumn;if(b){a.headerCt.remove(b);a.getView().refresh();delete a.healthCheckColumn;a.healthCheckTooltip.destroy()}},renderHealthCheckColumn:function(n,l,m){var i=this,j=i.getHealthCheckRepositoryStatusStore().getById(m.getId()),c,o,f;if(!j){if(!i.getHealthCheckRepositoryStatusStore().loaded&&NX.Permissions.check("nexus:healthcheck:read")){return NX.I18n.get("HealthCheckRepositoryColumn_Loading")}else{return NX.ext.grid.column.Renderers.optionalData(null)}}else{if(j.get("enabled")){if(j.get("analyzing")){return NX.I18n.get("HealthCheckRepositoryColumn_Analyzing")}else{if(j.get("totalCounts")){var a=Ext.id(),g=j.get("totalCounts"),b=Ext.Array.every(g,function(p){return p===0},this),h=j.get("vulnerableCounts"),d=g[0],k=h[0],e=NX.coreui.util.HealthCheckUtil;if(b){return NX.I18n.get("HealthCheckRepositoryColumn_CollectingTrendData")}else{Ext.defer(function(){i.setupDownloadChart(a,g,h)},100,i);return Ext.String.format('<div>  <div id="{0}" class="healthcheck-downloads"></div>  <div class="healthcheck-downloads">    <div class="healthcheck-total-downloads">{1}</div>    <div class="healthcheck-bad-downloads">{2}</div>  </div></div>',a,e.simplifyNumber(d),e.simplifyNumber(k))}}else{return NX.I18n.get("HealthCheckRepositoryColumn_DownloadsDisabled")}}}else{if(NX.Permissions.check("nexus:healthcheck:update")){c="x-btn x-unselectable x-btn-nx-primary-small x-btn-nx-primary-toolbar-small-disabled";o='<span class="x-btn-inner x-btn-inner-center" unselectable="on">'+NX.I18n.get("HealthCheckRepositoryColumn_Analyze")+"</span>";f='<a class="'+c+'" hidefocus="on" unselectable="on">'+o+"</a>";return f}else{return NX.ext.grid.column.Renderers.optionalData(null)}}}},setupDownloadChart:function(a,e,d){var g=this,c=[],b=Ext.getElementById(a);if(b!=null){d.forEach(function(l,k){c.push({notVulnerable:e[k]-d[k],vulnerable:d[k]})});c.reverse();var j=["vulnerable","notVulnerable"],i=d3.scaleBand().rangeRound([0,70]).paddingInner(0.5).align(0.5).domain(d3.keys(e)),h=d3.scaleLinear().range([20,0]).domain([0,Math.max.apply(Math,e)]),f=d3.scaleOrdinal().range(["#DB2852","#2476c3"]).domain(j);d3.select(b).append("svg").attr("width","70px").attr("height","20px").append("g").selectAll("g").data(d3.stack().keys(j)(c)).enter().append("g").attr("fill",function(k){return f(k.key)}).selectAll("rect").data(function(k){return k}).enter().append("rect").attr("x",function(l,k){return i(k)}).attr("y",function(k){return h(k[1])}).attr("height",function(k){return h(k[0])-h(k[1])}).attr("width",i.bandwidth())}},updateHealthCheckColumnTooltip:function(g){var f=this,c=f.getList().getView(),e,b,d,a;if(g.triggerElement){e=c.getRecord(g.triggerElement.parentNode);if(e){b=f.getHealthCheckRepositoryStatusStore().getById(e.getId());if(b){if(b.get("enabled")){if(b.get("analyzing")){d=NX.I18n.get("HealthCheckRepositoryColumn_Analyzing_Tooltip")}else{if(NX.Permissions.check("nexus:healthchecksummary:read")){a=c.getCell(e,f.getList().healthCheckColumn);Ext.defer(f.showSummary,0,f,[b,a.getX(),a.getY()]);return false}d=NX.I18n.get("HealthCheckRepositoryColumn_View_Permission_Error")}}else{if(NX.Permissions.check("nexus:healthcheck:update")){d=NX.I18n.get("HealthCheckRepositoryColumn_Analyze_Tooltip")}else{d=NX.I18n.get("HealthCheckRepositoryColumn_Analyze_Permission_Error")}}}else{if(f.getHealthCheckRepositoryStatusStore().loaded){d=NX.I18n.get("HealthCheckRepositoryColumn_Unavailable_Tooltip")}}g.update(d);return true}}return false},refreshHealthCheckColumn:function(){var a=this.getList();if(a){a.getView().refresh()}},showSummary:function(b,a,f){var e=this,d=e.getSummary(),c;if(!d){d=Ext.widget({xtype:"nx-coreui-healthcheck-summary",x:a,y:f,height:b.get("iframeHeight")+8,width:b.get("iframeWidth")+8,statusModel:b});c=d.getDockedItems('toolbar[dock="bottom"]');Ext.each(c,function(g){d.setHeight(d.getHeight()+g.getHeight())})}},maybeAskToEnable:function(a,h,i,c,b,g){var f=this,e=f.getList(),d=f.getHealthCheckRepositoryStatusStore().getById(g.getId());if(d&&!d.get("enabled")&&NX.Permissions.check("nexus:healthcheck","update")){e.healthCheckTooltip.hide();Ext.Msg.show({title:NX.I18n.get("HealthCheckRepositoryColumn_Analyze_Dialog_Title"),msg:NX.I18n.format("HealthCheckRepositoryColumn_Analyze_Dialog_Msg",Ext.util.Format.htmlEncode(g.get("name"))),buttons:7,buttonText:{ok:NX.I18n.get("HealthCheckRepositoryColumn_Analyze_Dialog_Ok_Text"),yes:NX.I18n.get("HealthCheckRepositoryColumn_Analyze_Dialog_Yes_Text")},icon:Ext.MessageBox.QUESTION,closeable:false,fn:function(j){if(j==="yes"||j==="ok"){if(d.get("eulaAccepted")){f.enableAnalysis(j==="yes"?d.getId():undefined)}else{Ext.widget("nx-coreui-healthcheck-eula",{acceptFn:function(){f.enableAnalysis(j==="yes"?d.getId():undefined)}})}}}})}return false},enableAnalysis:function(b){var a=this;if(b){NX.direct.healthcheck_Status.update(true,b,true,function(c){if(Ext.isObject(c)&&c.success){a.getHealthCheckRepositoryStatusStore().load()}})}else{NX.direct.healthcheck_Status.enableAll(true,function(c){if(Ext.isObject(c)&&c.success){a.getHealthCheckRepositoryStatusStore().load()}})}}});Ext.define("NX.coreui.controller.HealthCheckInfo",{extend:"NX.app.Controller",requires:["NX.Conditions","NX.util.Url","NX.I18n","NX.coreui.util.HealthCheckUtil"],init:function(){var a=this;a.listen({component:{"nx-coreui-component-details":{afterrender:a.bindHealthCheckInfo,updated:a.loadHealthCheckInfo}}})},loadHealthCheckInfo:function(a,b){var d=this,c=[],e=a.down("#healthCheckInfo");if(e&&b&&b.get("healthCheckLoading")===undefined){b.beginEdit();b.set("healthCheckLoading",true);b.endEdit();c.push({id:b.getId(),group:b.get("group"),name:b.get("name"),version:b.get("version"),format:b.get("format")});NX.direct.healthcheck_Info.read(c,function(f){var g=Ext.isObject(f)&&f.success;b.beginEdit();b.set("healthCheckLoading",false);b.set("healthCheckError",!g);b.endEdit();if(g){Ext.Array.each(f.data,function(h){b.beginEdit();Ext.Object.each(h.healthCheck,function(i,j){b.set("healthCheck"+Ext.String.capitalize(i),j)});b.endEdit()})}d.renderHealthCheckFields(a,b)},undefined,{enableBuffer:false})}d.renderHealthCheckFields(a,b)},bindHealthCheckInfo:function(a){var b=this;a.mon(NX.Conditions.isPermitted("nexus:healthcheck:read"),{satisfied:Ext.pass(b.addHealthCheckInfo,a),unsatisfied:Ext.pass(b.removeHealthCheckInfo,a),scope:b})},addHealthCheckInfo:function(a){var b=a.down("#healthCheckInfo");if(!b){a.add({xtype:"nx-info",itemId:"healthCheckInfo"})}},removeHealthCheckInfo:function(a){var b=a.down("#healthCheckInfo");if(b){a.remove(b)}},renderHealthCheckFields:function(a,b){var c=this,d=a.down("#healthCheckInfo"),e={};if(d){if(b){e[NX.I18n.get("HealthCheckInfo_Most_Popular_Version_Label")]=c.renderMostPopularVersion(b);e[NX.I18n.get("HealthCheckInfo_Age_Label")]=c.renderAge(b);e[NX.I18n.get("HealthCheckInfo_Popularity_Label")]=c.renderPopularity(b)}d.showInfo(e)}a.fireEvent("healthCheckLoaded",a,b)},renderMostPopularVersion:function(b){var d=this,c={},a;a=d.renderPreconditions(b,c);if(!a){a=b.get("healthCheckMostPopularVersion");if(!a){a=d.renderNotAvailable(c)}}return"<div "+(c.attr||"")+">"+a+"</div>"},renderAge:function(c){var e=this,d={},a,b,f;a=e.renderPreconditions(c,d);if(!a){b=c.get("healthCheckAge");if(b===0||b>0){f=b/(1000*60*60*24);if(f>364){a=(f/365).toFixed(1)+" yrs"}else{a=f.toFixed(0)+" d"}}if(!a){a=e.renderNotAvailable(d)}}return"<div "+(d.attr||"")+">"+a+"</div>"},renderPopularity:function(b){var d=this,c={},a,e;a=d.renderPreconditions(b,c);if(!a){e=b.get("healthCheckPopularity");if(e===0||e>0){if(e>100){e=100}a=e+" %"}if(!a){a=d.renderNotAvailable(c)}}return"<div "+(c.attr||"")+">"+a+"</div>"},renderPreconditions:function(b,c){var a=NX.coreui.util.HealthCheckUtil;if(b.get("healthCheckLoading")){return NX.I18n.get("HealthCheckInfo_Loading_Text")}else{if(b.get("healthCheckDisabled")){c.attr='data-qtip="'+NX.I18n.get("HealthCheckInfo_Disabled_Tooltip")+'"';return a.iconSpan("fa-info-circle","opacity: 0.33;")}else{if(b.get("healthCheckError")){c.attr='data-qtip="'+NX.I18n.get("HealthCheckInfo_Error_Tooltip")+'"';return a.iconSpan("fa-exclamation-triangle","color: red;")}else{if(b.get("healthCheckCapped")||(b&&b.get("capped"))){c.attr='data-qtip="'+NX.I18n.get("HealthCheckInfo_Quota_Tooltip")+'"';return a.iconSpan("fa-exclamation-triangle","color: yellow;")}}}}return undefined},renderNotAvailable:function(a){a.attr='data-qtip="'+NX.I18n.get("HealthCheckInfo_Unavailable_Tooltip")+'"';return NX.coreui.util.HealthCheckUtil.iconSpan("fa-ban","opacity: 0.33;")}});Ext.define("NX.coreui.view.repository.recipe.PyPiGroup",{extend:"NX.coreui.view.repository.RepositorySettingsForm",alias:"widget.nx-coreui-repository-pypi-group",requires:["NX.coreui.view.repository.facet.StorageFacet","NX.coreui.view.repository.facet.GroupFacet"],initComponent:function(){var a=this;a.items=[{xtype:"nx-coreui-repository-storage-facet"},{xtype:"nx-coreui-repository-group-facet",format:"pypi"}];a.callParent()}});Ext.define("NX.coreui.view.system.VerifySMTPConnection",{extend:"Ext.window.Window",alias:"widget.nx-coreui-system-verifysmtpconnection",requires:["NX.Icons","NX.I18n"],initComponent:function(){var a=this;a.ui="nx-inset";a.title=NX.I18n.get("System_VerifySmtpConnection_VerifyServer_Title");a.defaultFocus="email";a.layout="fit";a.autoShow=true;a.constrain=true;a.resizable=false;a.width=500;a.border=false;a.modal=true;a.items=[{xtype:"form",defaults:{labelSeparator:"",labelWidth:40,labelAlign:"right",anchor:"100%"},items:[{xtype:"panel",layout:"hbox",style:{marginBottom:"10px"},items:[{xtype:"component",html:NX.Icons.img("verifysmtpconnection","x32")},{xtype:"label",html:NX.I18n.get("System_VerifySmtpConnection_HelpText"),margin:"0 0 0 5"}]},{xtype:"nx-email",name:"email",itemId:"email",fieldLabel:"E-mail",allowBlank:false,validateOnBlur:false}],buttonAlign:"left",buttons:[{text:"Verify",action:"verify",formBind:true,bindToEnter:true,ui:"nx-primary",glyph:"xf003@FontAwesome"},{text:"Cancel",handler:function(){this.up("window").close()}}]}];a.callParent()}});Ext.define("NX.coreui.controller.SmtpSettings",{extend:"NX.app.Controller",requires:["NX.Messages","NX.Permissions","NX.I18n"],views:["system.SmtpSettings","system.VerifySMTPConnection"],refs:[{ref:"panel",selector:"nx-coreui-system-smtp-settings"},{ref:"content",selector:"nx-feature-content"}],init:function(){var a=this;a.getApplication().getIconController().addIcons({verifysmtpconnection:{file:"emails.png",variants:["x16","x32"]}});a.getApplication().getFeaturesController().registerFeature({mode:"admin",path:"/System/Email Server",text:NX.I18n.get("SmtpSettings_Text"),description:NX.I18n.get("SmtpSettings_Description"),view:{xtype:"nx-coreui-system-smtp-settings"},iconConfig:{file:"email.png",variants:["x16","x32"]},visible:function(){return NX.Permissions.check("nexus:settings:read")}},a);a.listen({component:{"nx-coreui-system-smtp-settings button[action=verify]":{click:a.showVerifyConnectionWindow},"nx-coreui-system-verifysmtpconnection button[action=verify]":{click:a.verifyConnection}}})},showVerifyConnectionWindow:function(b){var c=b.up("form"),a=c.getForm().getFieldValues();Ext.widget("nx-coreui-system-verifysmtpconnection",{smtpSettings:a})},verifyConnection:function(d){var f=this,g=d.up("window"),e=d.up("form"),c=e.getForm().getFieldValues().email,a=f.getPanel(),b=a.down("form").getForm().getFieldValues();g.close();f.getContent().mask(NX.I18n.format("SmtpSettings_Verify_Mask",b.host));NX.direct.coreui_Email.sendVerification(b,c,function(h){f.getContent().unmask();if(Ext.isObject(h)&&h.success){NX.Messages.add({text:NX.I18n.get("SmtpSettings_Verify_Success"),type:"success"})}})}});Ext.define("NX.coreui.controller.AnalyticsEvents",{extend:"NX.app.Controller",requires:["NX.util.Url","NX.util.DownloadHelper","NX.Conditions","NX.State","NX.Messages","NX.Dialogs","NX.I18n"],stores:["AnalyticsEvent"],views:["analytics.AnalyticsEventList","analytics.EventsZipCreated"],refs:[{ref:"list",selector:"nx-coreui-analytics-event-list"},{ref:"content",selector:"nx-feature-content"},{ref:"main",selector:"nx-main"}],init:function(){var a=this;a.getApplication().getIconController().addIcons({"analyticsevent-default":{file:"transmit.png",variants:["x16","x32"]},"analyticsevent-rest":{file:"transmit.png",variants:["x16","x32"]},"analyticsevent-ui":{file:"transmit_blue.png",variants:["x16","x32"]},"analyticsevent-zip":{file:"file_extension_zip.png",variants:["x16","x32"]}});a.getApplication().getFeaturesController().registerFeature({mode:"admin",path:"/Support/Analytics/Events",text:NX.I18n.get("AnalyticsEvents_Text"),description:NX.I18n.get("AnalyticsEvents_Description"),view:{xtype:"nx-coreui-analytics-event-list"},iconConfig:{file:"transmit.png",variants:["x16","x32"]},visible:function(){var b=NX.State.getValue("analytics");return NX.Permissions.check("nexus:analytics:read")&&b&&b.enabled}},a);a.listen({controller:{"#Refresh":{refresh:a.load}},component:{"nx-coreui-analytics-event-list":{afterrender:a.load},"nx-coreui-analytics-event-list button[action=clear]":{click:a.clear,afterrender:a.bindClearButton},"nx-coreui-analytics-event-list button[action=export]":{click:a.exportEvents},"nx-coreui-analytics-event-list button[action=submit]":{click:a.submit,afterrender:a.bindSubmitButton},"nx-coreui-analytics-eventszipcreated button[action=download]":{click:a.download}}})},load:function(){var a=this.getList();if(a){a.getStore().load()}},clear:function(){var a=this;NX.Dialogs.askConfirmation(NX.I18n.get("AnalyticsEvents_Clear_Title"),NX.I18n.get("AnalyticsEvents_Clear_Body"),function(){a.getContent().getEl().mask(NX.I18n.get("AnalyticsEvents_Clear_Mask"));NX.direct.analytics_Events.clear(function(b){a.getContent().getEl().unmask();a.load();if(Ext.isObject(b)&&b.success){NX.Messages.add({text:NX.I18n.get("AnalyticsEvents_Clear_Success"),type:"success"})}})})},exportEvents:function(){var a=this;NX.Dialogs.askConfirmation(NX.I18n.get("AnalyticsEvents_Export_Title"),NX.I18n.get("AnalyticsEvents_Export_Body"),function(){a.getMain().getEl().mask(NX.I18n.get("AnalyticsEvents_Export_Mask"));NX.direct.analytics_Events.exportAll(function(b){a.getMain().getEl().unmask();if(Ext.isObject(b)&&b.success){Ext.widget("nx-coreui-analytics-eventszipcreated").setValues(b.data)}})})},download:function(a){var b=a.up("window"),c=b.down("form").getValues().name;NX.Security.doWithAuthenticationToken(NX.I18n.get("AnalyticsEvents_Authenticate_Title"),{success:function(d){NX.util.DownloadHelper.downloadUrl(NX.util.Url.urlOf("service/siesta/wonderland/download/"+c+"?t="+NX.util.Base64.encode(d)));b.close()}})},submit:function(){NX.Dialogs.askConfirmation(NX.I18n.get("AnalyticsEvents_Submit_Title"),NX.I18n.get("AnalyticsEvents_Submit_Body"),function(){NX.Security.doWithAuthenticationToken(NX.I18n.get("AnalyticsEvents_Submit_HelpText"),{success:function(a){NX.direct.analytics_Events.submit(a,function(b){if(Ext.isObject(b)&&b.success){NX.Messages.add({text:NX.I18n.get("AnalyticsEvents_Submit_Success"),type:"success"})}})}})})},bindClearButton:function(a){a.mon(NX.Conditions.isPermitted("nexus:analytics:delete"),{satisfied:a.enable,unsatisfied:a.disable,scope:a})},bindSubmitButton:function(a){a.mon(NX.Conditions.isPermitted("nexus:analytics:create"),{satisfied:a.enable,unsatisfied:a.disable,scope:a})}});Ext.define("NX.coreui.view.repository.recipe.RawGroup",{extend:"NX.coreui.view.repository.RepositorySettingsForm",alias:"widget.nx-coreui-repository-raw-group",requires:["NX.coreui.view.repository.facet.StorageFacet","NX.coreui.view.repository.facet.GroupFacet"],initComponent:function(){var a=this;a.items=[{xtype:"nx-coreui-repository-storage-facet"},{xtype:"nx-coreui-repository-group-facet",format:"raw"}];a.callParent()}});Ext.define("NX.coreui.controller.SearchNuget",{extend:"NX.app.Controller",requires:["NX.I18n"],init:function(){var b=this,a=b.getController("NX.coreui.controller.Search");a.registerCriteria([{id:"attributes.nuget.id",group:NX.I18n.get("SearchNuget_Group"),config:{format:"nuget",fieldLabel:NX.I18n.get("SearchNuget_ID_FieldLabel"),width:300}},{id:"assets.attributes.nuget.tags",group:NX.I18n.get("SearchNuget_Group"),config:{format:"nuget",fieldLabel:NX.I18n.get("SearchNuget_Tags_FieldLabel"),width:300}}],b);a.registerFilter({id:"nuget",name:"NuGet",text:NX.I18n.get("SearchNuget_Text"),description:NX.I18n.get("SearchNuget_Description"),readOnly:true,criterias:[{id:"format",value:"nuget",hidden:true},{id:"attributes.nuget.id"},{id:"assets.attributes.nuget.tags"}]},b)}});Ext.define("NX.coreui.view.repository.recipe.NpmGroup",{extend:"NX.coreui.view.repository.RepositorySettingsForm",alias:"widget.nx-coreui-repository-npm-group",requires:["NX.coreui.view.repository.facet.StorageFacet","NX.coreui.view.repository.facet.GroupFacet"],initComponent:function(){var a=this;a.items=[{xtype:"nx-coreui-repository-storage-facet"},{xtype:"nx-coreui-repository-group-facet",format:"npm"}];a.callParent()}});Ext.define("NX.coreui.view.search.TextSearchCriteria",{extend:"NX.ext.SearchBox",alias:"widget.nx-coreui-searchcriteria-text",requires:["NX.I18n"],mixins:{searchCriteria:"NX.coreui.view.search.SearchCriteria"},removable:false,width:100,filter:function(){var a=this;if(a.value){return{property:a.criteriaId,value:a.value}}return undefined},initComponent:function(){var a=this;a.emptyText=NX.I18n.get("Search_TextSearchCriteria_Filter_EmptyText");a.padding="0 5 0 0";a.labelAlign="top";a.labelSeparator="";if(a.removable){a.trigger2Cls="nx-form-fa-minus-circle-trigger"}a.callParent();a.addEvents("criteriaremoved")},onTrigger2Click:function(){var a=this;a.fireEvent("criteriaremoved",a)}});Ext.define("NX.coreui.controller.Search",{extend:"NX.controller.Drilldown",requires:["NX.view.info.Panel","NX.view.info.Entry","NX.Bookmarks","NX.Conditions","NX.Permissions","NX.I18n","NX.coreui.util.BrowseableFormats"],masters:["nx-coreui-searchfeature nx-coreui-search-result-list","nx-coreui-searchfeature nx-coreui-component-asset-list"],stores:["ComponentAsset","SearchFilter","SearchCriteria","SearchResult"],models:["Asset","Component","SearchFilter"],views:["search.SearchFeature","search.SearchResultList","search.TextSearchCriteria","search.SaveSearchFilter"],refs:[{ref:"feature",selector:"nx-coreui-searchfeature"},{ref:"searchResult",selector:"nx-coreui-searchfeature nx-coreui-search-result-list"},{ref:"componentDetails",selector:"nx-coreui-searchfeature nx-coreui-component-details"},{ref:"assetList",selector:"nx-coreui-searchfeature nx-coreui-component-asset-list"},{ref:"quickSearch",selector:"nx-header-panel #quicksearch"}],init:function(){var a=this;a.callParent();a.getApplication().getIconController().addIcons({"search-default":{file:"magnifier.png",variants:["x16","x32"]},"search-component":{file:"box_front.png",variants:["x16","x32"]},"search-component-detail":{file:"box_front_open.png",variants:["x16","x32"]},"search-folder":{file:"folder_search.png",variants:["x16","x32"]},"search-saved":{file:"magnifier.png",variants:["x16","x32"]}});a.getApplication().getFeaturesController().registerFeature({path:"/Search/Saved",mode:"browse",group:true,iconName:"search-folder",weight:500,visible:function(){return NX.Permissions.check("nexus:search:read")}},a);a.registerFilter([{id:"keyword",name:"Keyword",text:"Keyword",description:"Search for components by keyword",readOnly:true,criterias:[{id:"keyword"}]},{id:"custom",name:"Custom",text:NX.I18n.get("Search_Custom_Text"),description:NX.I18n.get("Search_Custom_Description"),readOnly:true}],a);a.getStore("SearchFilter").each(function(b){a.registerFeature(b,a)});a.listen({controller:{"#Refresh":{refresh:a.loadStores}},component:{"nx-coreui-searchfeature nx-coreui-search-result-list":{beforerender:a.onBeforeRender},"nx-coreui-searchfeature":{afterrender:a.initCriterias},"nx-coreui-searchfeature menuitem[action=add]":{click:a.addCriteria},"nx-coreui-searchfeature component[searchCriteria=true]":{search:a.onSearchCriteriaChange,searchcleared:a.onSearchCriteriaChange,criteriaremoved:a.removeCriteria},"nx-coreui-searchfeature button[action=save]":{click:a.showSaveSearchFilterWindow},"nx-coreui-search-save button[action=add]":{click:a.saveSearchFilter},"nx-main #quicksearch":{afterrender:a.bindQuickSearch,search:a.onQuickSearch,searchcleared:a.onQuickSearch}}});a.getStore("SearchResult").on("load",function(){a.showHideLimitMessage()})},registerCriteria:function(c,a){var b=this,d;d=b.getStore("SearchCriteria").add(c);if(a){a.on("destroy",function(){b.getStore("SearchCriteria").remove(d)},b)}},registerFilter:function(c,a){var b=this;Ext.each(Ext.Array.from(c),function(d){b.registerFeature(b.getSearchFilterModel().create(d),a)})},isBrowseableBasedOnFormatCriteria:function(b){var a=Ext.Array.from(b.get("criterias")).filter(function(c){return c.id==="format"});if(a.length>0){return NX.coreui.util.BrowseableFormats.check(a[0].value)}else{return true}},registerFeature:function(b,a){var c=this;if(b.getId()==="keyword"){c.getApplication().getFeaturesController().registerFeature({mode:"browse",path:"/Search",text:NX.I18n.get("Search_Text"),description:NX.I18n.get("Search_Description"),group:true,view:{xtype:"nx-coreui-searchfeature",searchFilter:b,bookmarkEnding:""},iconName:"search-default",weight:20,expanded:false,visible:function(){return NX.Permissions.check("nexus:search:read")}},a)}else{c.getApplication().getFeaturesController().registerFeature({mode:"browse",path:"/Search/"+(b.get("readOnly")?"":"Saved/")+b.get("name"),view:{xtype:"nx-coreui-searchfeature",searchFilter:b,bookmarkEnding:"/"+b.getId()},iconName:"search-default",text:b.get("text"),description:b.get("description"),authenticationRequired:false,visible:function(){return NX.Permissions.check("nexus:search:read")&&c.isBrowseableBasedOnFormatCriteria(b)}},a)}},bindQuickSearch:function(a){a.up("panel").mon(NX.Conditions.isPermitted("nexus:search:read"),{satisfied:a.show,unsatisfied:a.hide,scope:a})},showHideLimitMessage:function(){var a=this,d=a.getStore("SearchResult").proxy.reader.rawData,c=a.getFeature().down("#info"),b=Ext.util.Format.numberRenderer("0,000");if(d.limited){c.setTitle(NX.I18n.format("Search_Results_Limit_Message",b(d.total),b(d.unlimitedTotal)));c.show()}else{c.hide()}},initCriterias:function(){var l=this,d=l.getFeature(),f=d.searchFilter,b=d.down("#criteria"),q=l.getSearchResultStore(),p=l.getSearchCriteriaStore(),n=[],c=NX.Bookmarks.getBookmark().getSegments(),j={},e,k={},m={},o,a,g;if(c&&c.length){a=c[0].indexOf("=");if(a!==-1){e=decodeURIComponent(c[0].slice(a+1)).split(" AND ");for(var h=0;h<e.length;++h){g=e[h].split("=");j[g[0]]=g[1]}}}b.removeAll();q.removeAll();q.clearFilter(true);if(f&&f.get("criterias")){Ext.Array.each(Ext.Array.from(f.get("criterias")),function(i){k[i.id]={value:i.value,hidden:i.hidden}})}Ext.Object.each(j,function(r,s){var i=k[r];if(i){i.value=s}else{k[r]={value:s,removable:true}}});Ext.Object.each(k,function(t,s){var i=p.getById(t);if(i){var r=Ext.ClassManager.getByAlias("widget.nx-coreui-searchcriteria-"+i.getId());if(!r){r=Ext.ClassManager.getByAlias("widget.nx-coreui-searchcriteria-text")}o=b.add(r.create(Ext.apply(Ext.clone(i.get("config")),{criteriaId:i.getId(),value:s.value,hidden:s.hidden,removable:s.removable})));if(o.value){l.applyFilter(o,false)}}});p.each(function(t){var i=n,s=t.get("group"),r=t.get("config").format;if(!r||NX.coreui.util.BrowseableFormats.check(r)){if(s){if(!m[s]){m[s]=[]}i=m[s]}i.push({text:t.get("config").fieldLabel,criteria:t,criteriaId:t.getId(),action:"add",disabled:Ext.isDefined(k[t.getId()])})}});Ext.Object.each(m,function(i,r){n.push({text:i,menu:r})});b.add({xtype:"button",cls:"more-criteria",itemId:"addButton",text:NX.I18n.get("Search_More_Text"),glyph:"xf055@FontAwesome",menu:n});q.load()},getDescription:function(a){return a.get("name")},addCriteria:function(f){var a=this.getFeature(),c=a.down("#criteria"),b=c.down("#addButton"),g=f.criteria,e=Ext.ClassManager.getByAlias("widget.nx-coreui-searchcriteria-"+g.getId()),d;f.disable();if(!e){e=Ext.ClassManager.getByAlias("widget.nx-coreui-searchcriteria-text")}c.remove(b,false);d=e.create(Ext.apply(Ext.clone(g.get("config")),{criteriaId:g.getId(),value:undefined,removable:true}));c.add(d);d.focus();c.add(b)},removeCriteria:function(b){var a=this.getFeature().down("#criteria");a.remove(b);a.down("menuitem[criteriaId="+b.criteriaId+"]").enable();this.applyFilter({criteriaId:b.criteriaId},true)},onSearchCriteriaChange:function(a){this.applyFilter(a,true)},loadStores:function(){var a=this;if(a.getFeature()){if(a.currentIndex===0){a.getSearchResult().getStore().load()}if(a.currentIndex>=1){a.getAssetList().getStore().load(function(){a.reselect()})}}},onBeforeRender:function(){var d=this,c=NX.Bookmarks.getBookmark(),e=c.getSegments().slice(1),b=d.getSearchResult().getStore(),a;if(!d.getStore("SearchResult").filters.length){return}b.load(function(){if(e[1]){a=b.getById(decodeURIComponent(e[0]));d.onModelChanged(0,a);d.onSearchResultSelection(a);d.getAssetList().getStore().load(function(){d.reselect()})}else{if(e[0]){d.reselect()}}})},applyFilter:function(e,b){var d=this,a=d.getStore("SearchResult"),c=e.filter;d.getSearchResult().getSelectionModel().deselectAll();if(c&&Ext.isFunction(c)&&!(c instanceof Ext.util.Filter)){c=e.filter()}if(c){a.addFilter(Ext.apply(c,{id:e.criteriaId}),b)}else{a.removeFilter(e.criteriaId);if(a.filters.removeAtKey(e.criteriaId)&&b){if(a.filters.length){a.filter()}else{a.clearFilter()}a.fireEvent("filterchange",a,a.filters.items)}}if(b){d.onSearchResultSelection(null);d.bookmarkFilters()}},onSelection:function(c,b){var a=c.getStore().model;if(a===this.getComponentModel()){this.onSearchResultSelection(b)}else{if(a===this.getAssetModel()){this.onAssetSelection(b)}}},onSearchResultSelection:function(a){var b=this;b.getComponentDetails().setComponentModel(a);b.getAssetList().setComponentModel(a)},onAssetSelection:function(a){this.getController("NX.coreui.controller.Assets").updateAssetContainer(null,null,null,a)},showSaveSearchFilterWindow:function(){Ext.widget("nx-coreui-search-save")},saveSearchFilter:function(c){var e=this,f=c.up("window"),a=c.up("form").getValues(),d=[],b;Ext.Array.each(Ext.ComponentQuery.query("nx-coreui-searchfeature component[searchCriteria=true]"),function(g){d.push({id:g.criteriaId,value:g.getValue(),hidden:g.hidden})});b=e.getSearchFilterModel().create(Ext.apply(a,{id:a.name,criterias:d,readOnly:false}));e.getStore("SearchFilter").add(b);e.getApplication().getFeaturesController().registerFeature({path:"/Search/"+(b.get("readOnly")?"":"Saved/")+b.get("name"),mode:"browse",view:{xtype:"nx-coreui-searchfeature",searchFilter:b},iconName:"search-saved",description:b.get("description"),authenticationRequired:false},e);e.getController("Menu").refreshTree();NX.Bookmarks.navigateTo(NX.Bookmarks.fromToken("browse/search/saved/"+b.get("name")));f.close()},bookmarkFilters:function(){var a=[],c,b;c=NX.Bookmarks.getBookmark().getSegment(0);if(c.indexOf("=")!==-1){c=c.slice(0,c.indexOf("="))}Ext.Array.each(Ext.ComponentQuery.query("nx-coreui-searchfeature component[searchCriteria=true]"),function(d){if(d.getValue()&&!d.isHidden()){a.push(d.criteriaId+"="+d.getValue())}});b=[c+"="+encodeURIComponent(a.join(" AND "))];NX.Bookmarks.bookmark(NX.Bookmarks.fromSegments(b),this)},onQuickSearch:function(d,c){var b=this,a=b.getFeature();if(!a||(a.searchFilter.getId()!=="keyword")){if(c){NX.Bookmarks.navigateTo(NX.Bookmarks.fromToken("browse/search="+encodeURIComponent("keyword="+c)),b)}}else{b.showChild(0,true);a.down("#criteria component[criteriaId=keyword]").setValue(c)}}});Ext.define("NX.coreui.controller.Repositories",{extend:"NX.controller.Drilldown",requires:["NX.Dialogs","NX.Messages","NX.Permissions","NX.I18n"],masters:["nx-coreui-repository-list"],models:["Repository"],stores:["Blobstore","Repository","RepositoryRecipe","RepositoryReference"],views:["repository.RepositoryAdd","repository.RepositoryFeature","repository.RepositoryList","repository.RepositorySelectRecipe","repository.RepositorySettings","repository.RepositorySettingsForm","repository.recipe.BowerGroup","repository.recipe.BowerHosted","repository.recipe.BowerProxy","repository.recipe.Maven2Hosted","repository.recipe.Maven2Proxy","repository.recipe.Maven2Group","repository.recipe.NpmHosted","repository.recipe.NpmProxy","repository.recipe.NpmGroup","repository.recipe.NugetHosted","repository.recipe.NugetProxy","repository.recipe.NugetGroup","repository.recipe.RubygemsHosted","repository.recipe.RubygemsProxy","repository.recipe.RawHosted","repository.recipe.RawProxy","repository.recipe.RawGroup","repository.recipe.DockerHosted","repository.recipe.DockerGroup","repository.recipe.DockerProxy","repository.recipe.PyPiHosted","repository.recipe.PyPiProxy","repository.recipe.PyPiGroup","repository.recipe.YumProxy","repository.recipe.GitLfsHosted"],refs:[{ref:"feature",selector:"nx-coreui-repository-feature"},{ref:"content",selector:"nx-feature-content"},{ref:"list",selector:"nx-coreui-repository-list"},{ref:"settings",selector:"nx-coreui-repository-feature nx-coreui-repository-settings"},{ref:"proxyFacetContentMaxAge",selector:"nx-coreui-repository-add numberfield[name=attributes.proxy.contentMaxAge]"}],icons:{"repository-hosted":{file:"database.png",variants:["x16","x32"]},"repository-proxy":{file:"database_link.png",variants:["x16","x32"]},"repository-group":{file:"folder_database.png",variants:["x16","x32"]}},init:function(){var a=this;a.features={mode:"admin",path:"/Repository/Repositories",text:NX.I18n.get("Repositories_Text"),description:NX.I18n.get("Repositories_Description"),view:{xtype:"nx-coreui-repository-feature"},iconConfig:{file:"database.png",variants:["x16","x32"]},visible:function(){return NX.Permissions.checkExistsWithPrefix("nexus:repository-admin")}};a.callParent();a.listen({controller:{"#Refresh":{refresh:a.loadStores},"#State":{receivingchanged:a.onStateReceivingChanged}},store:{"#Repository":{load:a.reselect}},component:{"nx-coreui-repository-list":{beforerender:a.loadStores,afterrender:a.startStatusPolling,beforedestroy:a.stopStatusPolling},"nx-coreui-repository-list button[action=new]":{click:a.showSelectRecipePanel},"nx-coreui-repository-feature button[action=rebuildIndex]":{click:a.rebuildIndex,afterrender:a.bindIfProxyOrHostedAndEditable},"nx-coreui-repository-feature button[action=invalidateCache]":{click:a.invalidateCache,afterrender:a.bindIfProxyOrGroupAndEditable},"nx-coreui-repository-settings-form":{submitted:a.loadStores},"nx-coreui-repository-selectrecipe":{cellclick:a.showAddRepositoryPanel},"nx-coreui-repository-feature combo[name=attributes.maven.versionPolicy]":{change:a.handleMaven2VersionPolicyChange}}})},getDescription:function(a){return a.get("name")},onSelection:function(e,a){var d=this,b=d.getSettings(),c=Ext.ClassManager.getByAlias("widget.nx-coreui-repository-"+a.get("recipe"));Ext.suspendLayouts();if(!c){d.logWarn("Could not find settings form for: "+a.getId())}else{if(Ext.isDefined(a)){b.removeAllSettingsForms();b.addSettingsForm({xtype:c.xtype,recipe:a});b.loadRecord(a);Ext.Array.each(b.query("field[readOnlyOnUpdate=true]"),function(f){f.setReadOnly(true);f.addCls("nx-combo-disabled")})}}Ext.resumeLayouts()},showSelectRecipePanel:function(){var a=this;a.setItemName(1,NX.I18n.get("Repositories_SelectRecipe_Title"));a.setItemClass(1,NX.Icons.cls("repository-hosted","x16"));a.loadCreateWizard(1,true,Ext.widget({xtype:"panel",layout:{type:"vbox",align:"stretch",pack:"start"},items:[{xtype:"nx-coreui-repository-selectrecipe",flex:1}]}))},showAddRepositoryPanel:function(e,f,b,a){var d=this,c=Ext.ClassManager.getByAlias("widget.nx-coreui-repository-"+a.getId());if(!c){d.logWarn("Could not find settings form for: "+a.getId())}else{d.setItemName(2,NX.I18n.format("Repositories_Create_Title",a.get("name")));d.setItemClass(2,NX.Icons.cls("repository-hosted","x16"));d.loadCreateWizard(2,true,{xtype:"nx-coreui-repository-add",recipe:a});if(a.getId()==="maven2-proxy"){d.cleanUpdateProxyFacetContentMaxAge(-1)}}},cleanUpdateProxyFacetContentMaxAge:function(c){var b=this,a=b.getProxyFacetContentMaxAge();a.originalValue=c;a.reset()},handleMaven2VersionPolicyChange:function(b,d){var c=this;var a=c.getProxyFacetContentMaxAge();if(a&&!a.isDirty()){switch(d){case"RELEASE":c.cleanUpdateProxyFacetContentMaxAge(-1);break;case"SNAPSHOT":c.cleanUpdateProxyFacetContentMaxAge(1440);break;default:}}},deleteModel:function(a){var c=this,b=c.getDescription(a);c.getContent().getEl().mask(NX.I18n.get("Repositories_Delete_Mask"));NX.direct.coreui_Repository.remove(a.getId(),function(d){c.getContent().getEl().unmask();c.getStore("Repository").load();if(Ext.isObject(d)&&d.success){NX.Messages.add({text:"Repository deleted: "+b,type:"success"})}})},startStatusPolling:function(){var a=this;if(a.statusProvider){a.statusProvider.disconnect()}a.statusProvider=Ext.direct.Manager.addProvider({type:"polling",url:NX.direct.api.POLLING_URLS.coreui_Repository_readStatus,interval:5000,baseParams:{},listeners:{data:function(c,b){if(b.data&&b.data.success&&b.data.data){a.updateRepositoryModels(b.data.data)}},scope:a}})},stopStatusPolling:function(){var a=this;if(a.statusProvider){a.statusProvider.disconnect()}},updateRepositoryModels:function(b){var a=this;Ext.Array.each(b,function(d){var c=a.getStore("Repository").findRecord("name",d.repositoryName);if(c){if(!Ext.Object.equals(c.get("status"),d)){c.set("status",d);c.commit(true)}}})},onStateReceivingChanged:function(a){var b=this;if(b.getList()&&a){b.startStatusPolling()}else{b.stopStatusPolling()}},rebuildIndex:function(){var b=this,a=b.getList().getSelectionModel().getLastSelected();NX.direct.coreui_Repository.rebuildIndex(a.getId(),function(c){if(Ext.isObject(c)&&c.success){NX.Messages.add({text:"Repository index rebuilt: "+b.getDescription(a),type:"success"})}})},invalidateCache:function(){var b=this,a=b.getList().getSelectionModel().getLastSelected();NX.direct.coreui_Repository.invalidateCache(a.getId(),function(c){if(Ext.isObject(c)&&c.success){NX.Messages.add({text:"Repository caches invalidated: "+b.getDescription(a),type:"success"})}})},bindIfProxyOrHostedAndEditable:function(a){var b;a.mon(NX.Conditions.and(b=NX.Conditions.isPermitted("nexus:repository-admin:*:*:edit"),NX.Conditions.gridHasSelection("nx-coreui-repository-list",function(c){b.setPermission("nexus:repository-admin:"+c.get("format")+":"+c.get("name")+":edit");return true})),{satisfied:a.enable,unsatisfied:a.disable,scope:a});a.mon(NX.Conditions.gridHasSelection("nx-coreui-repository-list",function(c){return c.get("type")==="proxy"||c.get("type")==="hosted"}),{satisfied:a.show,unsatisfied:a.hide,scope:a})},bindIfProxyOrGroupAndEditable:function(a){var b;a.mon(NX.Conditions.and(b=NX.Conditions.isPermitted("nexus:repository-admin:*:*:edit"),NX.Conditions.gridHasSelection("nx-coreui-repository-list",function(c){b.setPermission("nexus:repository-admin:"+c.get("format")+":"+c.get("name")+":edit");return true})),{satisfied:a.enable,unsatisfied:a.disable,scope:a});a.mon(NX.Conditions.gridHasSelection("nx-coreui-repository-list",function(c){return c.get("type")==="proxy"||c.get("type")==="group"}),{satisfied:a.show,unsatisfied:a.hide,scope:a})},bindNewButton:function(a){a.mon(NX.Conditions.isPermitted("nexus:repository-admin:*:*:add"),{satisfied:a.enable,unsatisfied:a.disable,scope:a})},bindDeleteButton:function(a){var b;a.mon(NX.Conditions.and(b=NX.Conditions.isPermitted("nexus:repository-admin:*:*:delete"),NX.Conditions.gridHasSelection("nx-coreui-repository-list",function(c){b.setPermission("nexus:repository-admin:"+c.get("format")+":"+c.get("name")+":delete");return true})),{satisfied:a.enable,unsatisfied:a.disable,scope:a})}});
,k=U      Yz!?Yz!>>uY   M    :http://10.0.2.15:8081/static/rapture/nexus-coreui-plugin-prod.js?_v=3.4.0-02 strongly-framed 1 request-method GET response-head HTTP/1.1 200 OK
Date: Thu, 27 Jul 2017 16:47:22 GMT
Server: Nexus/3.4.0-02 (OSS)
X-Frame-Options: SAMEORIGIN
X-Content-Type-Options: nosniff
Content-Type: application/javascript
Last-Modified: Thu, 27 Jul 2017 16:38:14 GMT
Cache-Control: max-age=2592000
Content-Length: 468403
 original-response-headers Date: Thu, 27 Jul 2017 16:47:22 GMT
Server: Nexus/3.4.0-02 (OSS)
X-Frame-Options: SAMEORIGIN
X-Content-Type-Options: nosniff
Content-Type: application/javascript
Last-Modified: Thu, 27 Jul 2017 16:38:14 GMT
Cache-Control: max-age=2592000
Content-Length: 468403
 uncompressed-len 0  %